
<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  <link rel="dns-prefetch" href="https://github.githubassets.com/">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https!github.githubassets.com!assets!frameworks-08fc49d3bd2694c870ea23d0906f3610.css">
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https!github.githubassets.com!assets!github-0524f09e371b3158fdf36c563063809a.css">
  
  
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https!github.githubassets.com!assets!site-50c740d9290419d070dd6213a7cd03b5.css">
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>Implement unhandled rejection tracking by petkaantonov · Pull Request #758 · nodejs/node · GitHub</title>
    <meta name="description" content="Implement unhandled rejection tracking for promises as
specified in https://gist.github.com/benjamingr/0237932cee84712951a2
Fixes #256
Note that I did not implement any default action - so errors are still
swallowed by default and many developers are therefore not going
to discover the hooks. My recommendation would be by default
to log the error as &quot;Potentially unhandled: &quot; + error.stack (and
for example &quot;no stack trace&quot; for non-errors).
These hooks are enough to implement any kind of error handling scheme, including
log-on-gc (needs native module I think).
@domenic , @rvagg , @vkurchatkin , @benjamingr ,@bnoordhuis">
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/829734?s=400&amp;v=4"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="Implement unhandled rejection tracking by petkaantonov · Pull Request #758 · nodejs/node"><meta property="og:url" content="https://github.com/nodejs/node/pull/758"><meta property="og:description" content="Implement unhandled rejection tracking for promises as
specified in https://gist.github.com/benjamingr/0237932cee84712951a2
Fixes #256
Note that I did not implement any default action - so errors a...">

  <link rel="assets" href="https://github.githubassets.com/">
  
  <meta name="pjax-timeout" content="1000">
  
  <meta name="request-id" content="D2F9:1C7A8:52A18B2:7C1EF6B:5C1788D1" data-pjax-transient="">

    <meta name="hovercard-subject-tag" content="pull_request:28883503" data-pjax-transient="">

  

  <meta name="selected-link" value="repo_pulls" data-pjax-transient="">

      <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
    <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="github"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-dimension-request_id" content="D2F9:1C7A8:52A18B2:7C1EF6B:5C1788D1"><meta name="octolytics-dimension-region_edge" content="ams"><meta name="octolytics-dimension-region_render" content="iad">
<meta name="analytics-location" content="/<user-name>/<repo-name>/pull_requests/show" data-pjax-transient="true">



    <meta name="google-analytics" content="UA-3769691-2">


<meta class="js-ga-set" name="dimension1" content="Logged Out">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="NjMwNzE2YWJlZDY4NTBlNDM5YjVhYzYxNzI1Y2Y2MWYzZTFiNGY2MmUxYmIyOWUxYjZiZDI3N2E3ZTQ4NGViMnx7InJlbW90ZV9hZGRyZXNzIjoiMzcuMTQyLjQzLjk4IiwicmVxdWVzdF9pZCI6IkQyRjk6MUM3QTg6NTJBMThCMjo3QzFFRjZCOjVDMTc4OEQxIiwidGltZXN0YW1wIjoxNTQ1MDQ2MjI4LCJob3N0IjoiZ2l0aHViLmNvbSJ9">

    <meta name="enabled-features" content="DASHBOARD_V2_LAYOUT_OPT_IN,EXPLORE_DISCOVER_REPOSITORIES,UNIVERSE_BANNER,MARKETPLACE_PLAN_RESTRICTION_EDITOR">

  <meta name="html-safe-nonce" content="a44c6a0f686a448a163dcea3b2413bdb5bc103a1">

  <meta http-equiv="x-pjax-version" content="13f87a742a2a22fe92a18235bd33f3e2">
  

      <link href="https://github.com/nodejs/node/commits/685dbd85d4de411ffaca1e8c925fc8c67a8ce988.atom" rel="alternate" title="Recent Commits to node:685dbd85d4de411ffaca1e8c925fc8c67a8ce988" type="application/atom+xml">

  <meta name="go-import" content="github.com/nodejs/node git https://github.com/nodejs/node.git">

  <meta name="octolytics-dimension-user_id" content="9950313"><meta name="octolytics-dimension-user_login" content="nodejs"><meta name="octolytics-dimension-repository_id" content="27193779"><meta name="octolytics-dimension-repository_nwo" content="nodejs/node"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="27193779"><meta name="octolytics-dimension-repository_network_root_nwo" content="nodejs/node"><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false">




  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://github.githubassets.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

  <link rel="manifest" href="https://github.com/manifest.json" crossorigin="use-credentials">

  </head>

  <body class="logged-out env-production emoji-size-boost intent-mouse">
    

  <div class="position-relative js-header-wrapper ">
    <a href="https://github.com/nodejs/node/pull/758#start-of-content" tabindex="1" class="px-2 py-4 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    


        
<header class="Header header-logged-out  position-relative f4 py-3" role="banner">
  <div class="container-lg d-flex px-3">
    <div class="d-flex flex-justify-between flex-items-center">
        <a class="mr-4" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark; experiment:site_header_dropdowns; group:dropdowns">
          <svg height="32" class="octicon octicon-mark-github text-white" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
        </a>
    </div>

    <div class="HeaderMenu HeaderMenu--logged-out d-flex flex-justify-between flex-items-center flex-auto">
      <div class="d-none">
        <button class="btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
          <svg height="24" class="octicon octicon-x text-gray" viewBox="0 0 12 16" version="1.1" width="18" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
        </button>
      </div>

        <nav class="mt-0" aria-label="Global">
          <ul class="d-flex list-style-none">
              <li class=" mr-3 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap  d-inline-block">
                    Why GitHub?
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-relative">
                      <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>
                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 mt-0  p-4 left-n4 position-absolute">
                    <a href="https://github.com/features" class="py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Features">Features <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a>
                    <ul class="list-style-none f5 pb-3">
                      <li class="edge-item-fix"><a href="https://github.com/features/code-review/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Code review">Code review</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features/project-management/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Project management">Project management</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features/integrations" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Integrations">Integrations</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features#team-management" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Team management">Team management</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features#social-coding" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Social coding">Social coding</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features#documentation" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Documentation">Documentation</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features#code-hosting" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Code hosting">Code hosting</a></li>
                    </ul>

                    <ul class="list-style-none mb-0 border-lg-top pt-lg-3">
                      <li class="edge-item-fix"><a href="https://github.com/case-studies" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Case studies">Case Studies <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                      <li class="edge-item-fix"><a href="https://github.com/security" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Security">Security <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                    </ul>
                  </div>
                </details>
              </li>
              <li class=" mr-3 mr-lg-3">
                <a href="https://github.com/business" class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-ga-click="(Logged out) Header, go to Business">Business</a>
              </li>

              <li class=" mr-3 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap  d-inline-block">
                    Explore
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-relative">
                      <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>

                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 pt-2 pb-0 mt-0  p-4 left-n4 position-absolute">
                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="https://github.com/explore" class="py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Features">Explore GitHub <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                    </ul>

                    <h4 class="text-gray-light text-normal text-mono f5 mb-2  border-top pt-3">Learn &amp; contribute</h4>
                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="https://github.com/topics" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Topics">Topics</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/collections" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Collections">Collections</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/trending" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Trending">Trending</a></li>
                      <li class="edge-item-fix"><a href="https://lab.github.com/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Learning lab">Learning Lab</a></li>
                      <li class="edge-item-fix"><a href="https://opensource.guide/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Open source guides">Open source guides</a></li>
                    </ul>

                    <h4 class="text-gray-light text-normal text-mono f5 mb-2  border-top pt-3">Connect with others</h4>
                    <ul class="list-style-none mb-0">
                      <li class="edge-item-fix"><a href="https://github.com/events" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Events">Events</a></li>
                      <li class="edge-item-fix"><a href="https://github.community/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Community forum">Community forum</a></li>
                      <li class="edge-item-fix"><a href="https://education.github.com/" class="py-2 pb-0 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to GitHub Education">GitHub Education</a></li>
                    </ul>
                  </div>
                </details>
              </li>

              <li class=" mr-3 mr-lg-3">
                <a href="https://github.com/marketplace" class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-ga-click="(Logged out) Header, go to Marketplace">Marketplace</a>
              </li>

              <li class=" mr-3 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap  d-inline-block">
                    Pricing
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-relative">
                       <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>

                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 pt-2 pb-4 mt-0  p-4 left-n4 position-absolute">
                    <a href="https://github.com/pricing" class="pb-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Pricing">Plans <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a>

                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="https://github.com/pricing#feature-comparison" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Compare features">Compare plans</a></li>
                      <li class="edge-item-fix"><a href="https://enterprise.github.com/contact" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Compare features">Contact Sales</a></li>
                    </ul>

                    <ul class="list-style-none mb-0  border-top pt-3">
                      <li class="edge-item-fix"><a href="https://github.com/nonprofit" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Nonprofits">Nonprofit <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                      <li class="edge-item-fix"><a href="https://education.github.com/discount_requests/new" class="py-2 pb-0 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Education">Education <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                    </ul>
                  </div>
                </details>
              </li>
          </ul>
        </nav>

      <div class="d-flex flex-items-center px-0 text-center text-left">
          <div class="d-lg-flex mr-3">
            <div class="header-search scoped-search site-scoped-search js-site-search position-relative js-jump-to" role="combobox" aria-owns="jump-to-results" aria-label="Search or jump to" aria-haspopup="listbox" aria-expanded="false">
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-site-search-form" data-scope-type="Repository" data-scope-id="27193779" data-scoped-search-url="/nodejs/node/search" data-unscoped-search-url="/search" action="https://github.com/nodejs/node/search" accept-charset="UTF-8" method="get">
      <label class="form-control header-search-wrapper header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text" class="form-control header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" data-hotkey="s,/" name="q" value="" placeholder="Search" data-unscoped-placeholder="Search GitHub" data-scoped-placeholder="Search" autocapitalize="off" aria-autocomplete="list" aria-controls="jump-to-results" aria-label="Search" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations#csrf-token=yOWuABrP0R4aqf1j714cemmWSPWJHkeYWxs+Ge8QdJNmfEonOksuEifcF7lQDPgOv6TgKF0jJayESHJTF9puqA==" spellcheck="false" autocomplete="off">
          
            <img src="https!github.githubassets.com!images!search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/nodejs/node/pull/758">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https!github.com!nodejs!node!pull!758" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/nodejs/node/pull/758">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https!github.com!nodejs!node!pull!758" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/nodejs/node/pull/758">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https!github.com!nodejs!node!pull!758" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


</ul>

            </div>
      </label>
</form>  </div>
</div>

          </div>

        <a class="HeaderMenu-link no-underline mr-3" href="https://github.com/login?return_to=%2Fnodejs%2Fnode%2Fpull%2F758" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign&nbsp;in</a>
          <a class="HeaderMenu-link d-inline-block no-underline border border-gray-dark rounded-1 px-2 py-1" href="https://github.com/join" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign&nbsp;up</a>
      </div>
    </div>
  </div>
</header>

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">

</div>



  <div role="main" class="application-main " data-commit-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container="">
      
<!-- base sha1: &quot;234e6916b8abcb470dd4f976384869db02bdc3cf&quot; -->
<!-- head sha1: &quot;685dbd85d4de411ffaca1e8c925fc8c67a8ce988&quot; -->

  


  



  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
      <a href="https://github.com/login?return_to=%2Fnodejs%2Fnode" class="btn btn-sm btn-with-count tooltipped tooltipped-s" aria-label="You must be signed in to watch a repository" rel="nofollow">
    <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
    Watch
  </a>
  <a class="social-count" href="https://github.com/nodejs/node/watchers" aria-label="2983 users are watching this repository">
    2,983
  </a>

  </li>

  <li>
        <a href="https://github.com/login?return_to=%2Fnodejs%2Fnode" class="btn btn-sm btn-with-count tooltipped tooltipped-s" aria-label="You must be signed in to star a repository" rel="nofollow">
      <svg class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"></path></svg>
      Star
    </a>

    <a class="social-count js-social-count" href="https://github.com/nodejs/node/stargazers" aria-label="56467 users starred this repository">
      56,467
    </a>

  </li>

  <li>
      <a href="https://github.com/login?return_to=%2Fnodejs%2Fnode" class="btn btn-sm btn-with-count tooltipped tooltipped-s" aria-label="You must be signed in to fork a repository" rel="nofollow">
        <svg class="octicon octicon-repo-forked v-align-text-bottom" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
        Fork
      </a>

    <a href="https://github.com/nodejs/node/network/members" class="social-count" aria-label="12458 users forked this repository">
      12,458
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/nodejs/hovercard" href="https://github.com/nodejs" aria-describedby="hovercard-aria-description">nodejs</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="https://github.com/nodejs/node">node</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container" itemscope="" itemtype="http://schema.org/BreadcrumbList" aria-label="Repository" data-pjax="#js-repo-pjax-container">

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item reponav-item" itemprop="url" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /nodejs/node" href="https://github.com/nodejs/node">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /nodejs/node/issues" href="https://github.com/nodejs/node/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">520</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item selected reponav-item" aria-current="page" data-selected-links="repo_pulls checks /nodejs/node/pulls" href="https://github.com/nodejs/node/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">224</span>
      <meta itemprop="position" content="3">
</a>  </span>


    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /nodejs/node/projects" href="https://github.com/nodejs/node/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      Projects
      <span class="Counter">9</span>
</a>


    <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse alerts security /nodejs/node/pulse" href="https://github.com/nodejs/node/pulse">
      <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"></path></svg>
      Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">

    
    
  <div class="issues-listing js-check-all-container" data-pjax="">
    
      <div class="signup-prompt-bg rounded-1">
      <div class="signup-prompt p-4 text-center mb-4 rounded-1">
        <div class="position-relative">
          <!-- '"` --><!-- </textarea></xmp> --><form action="https://github.com/site/dismiss_signup_prompt" accept-charset="UTF-8" method="post">
            <button type="submit" class="position-absolute top-0 right-0 btn-link link-gray" data-ga-click="(Logged out) Sign up prompt, clicked Dismiss, text:dismiss">
              Dismiss
            </button>
</form>          <h3 class="pt-2">Join GitHub today</h3>
          <p class="col-6 mx-auto">GitHub is home to over 28 million developers working together to host and review code, manage projects, and build software together.</p>
          <a class="btn btn-primary" href="https://github.com/join?source=prompt-pr-show" data-ga-click="(Logged out) Sign up prompt, clicked Sign up, text:sign-up">Sign up</a>
        </div>
      </div>
    </div>



  <div class="clearfix js-issues-results">
    
  <div id="partial-discussion-header" class="gh-header js-details-container Details js-socket-channel js-updatable-content pull request js-pull-header-details" data-channel="pull_request:28883503" data-url="/nodejs/node/pull/758/show_partial?partial=pull_requests%2Ftitle&amp;sticky=false" data-pull-is-open="false" data-gid="MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=">
  <div class="gh-header-show ">
      <div class="gh-header-actions">

          
<details class="details-reset details-overlay details-overlay-dark float-right">
  <summary class="btn btn-sm btn-primary" aria-haspopup="dialog" data-ga-click="Issues, create new issue, view:issue_show location:issue_header style:button logged_in:false">
    
    New issue
  </summary>
  <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast overflow-auto" aria-label="Sign up for GitHub" role="dialog">
    <button class="position-absolute p-4 right-0 btn-link muted-link" type="button" aria-label="Close dialog" data-close-dialog="">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
    </button>
    <div class="p-4 d-flex flex-column">
            <div class="mt-3 mb-2 text-center">
  <svg height="60" class="octicon octicon-comment-discussion text-blue" viewBox="0 0 16 16" version="1.1" width="60" aria-hidden="true"><path fill-rule="evenodd" d="M15 1H6c-.55 0-1 .45-1 1v2H1c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h1v3l3-3h4c.55 0 1-.45 1-1V9h1l3 3V9h1c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zM9 11H4.5L3 12.5V11H1V5h4v3c0 .55.45 1 1 1h3v2zm6-3h-2v1.5L11.5 8H6V2h9v6z"></path></svg>
</div>

<div class="px-4">
  <p class="text-center mb-4">
  <strong>Have a question about this project?</strong> Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
  </p>

  <form class="js-signup-form" autocomplete="off" action="https://github.com/join?return_to=%2Fnodejs%2Fnode%2Fissues%2Fnew" accept-charset="UTF-8" method="post">    <auto-check src="https://github.com/signup_check/username" csrf="B2tyG+w74sFs/tvcItWzNGUYtTsYJ83TAYsnc/3xy1Qi3a2GR68GUjkIzwYsuGr90coQa8nfYDOmSxUlklustw==">
      <dl class="form-group"><dt class="input-label"><label name="user[login]" autocapitalize="off" autofocus="autofocus" for="user_login_issues">Pick a username</label></dt><dd><input name="user[login]" autocapitalize="off" autofocus="autofocus" class="form-control" type="text" id="user_login_issues" autocomplete="off" spellcheck="false"></dd></dl>
    </auto-check>

    <auto-check src="https://github.com/signup_check/email" csrf="LZzRM4Lqw8RniYJwObbhr9OEP+Br+JHnx13fF2z4bvOw1ZkUbO4SVxniW5dAjABuIDW3seUAFm+6GRY1Q+LBeA==">
      <dl class="form-group"><dt class="input-label"><label name="user[email]" autocapitalize="off" for="user_email_issues">Email Address</label></dt><dd><input name="user[email]" autocapitalize="off" class="form-control" type="text" id="user_email_issues" autocomplete="off" spellcheck="false"></dd></dl>
    </auto-check>

    <dl class="form-group"><dt class="input-label"><label name="user[password]" for="user_password_issues">Password</label></dt><dd><input name="user[password]" class="form-control" type="password" id="user_password_issues"></dd></dl>

    
    




    <button class="btn btn-primary mt-2 btn-block" type="submit" data-ga-click="(Logged out) New issue modal, clicked Sign up, text:sign-up">Sign up for GitHub</button>
</form>
  <p class="mt-4 text-gray text-center">By clicking “Sign up for GitHub”, you agree to our <a href="https://help.github.com/terms" target="_blank">terms of service</a> and
  <a href="https://help.github.com/privacy" target="_blank">privacy statement</a>. We’ll occasionally send you account related emails.</p>
  <p class="mt-4 text-gray text-center">Already on GitHub? <a href="https://github.com/login?return_to=%2Fnodejs%2Fnode%2Fissues%2Fnew" data-ga-click="(Logged out) New issue modal, clicked Sign in, text:sign-in">Sign in</a> to your account</p>
</div>

</div>
  </details-dialog>
</details>
      </div>

    <h1 class="gh-header-title">
      <span class="js-issue-title">
        Implement unhandled rejection tracking
      </span>
      <span class="gh-header-number">#758</span>
    </h1>
  </div>


  <div class="TableObject gh-header-meta">
    <div class="TableObject-item">
        <div class="State State--red">
    <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    Closed
  </div>

    </div>
    <div class="TableObject-item TableObject-item--primary">
          <a class="author pull-header-username css-truncate css-truncate-target expandable" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
   wants to merge 1 commit into



  <span title="nodejs/node:v1.x" class="commit-ref css-truncate user-select-contain expandable base-ref"><span class="css-truncate-target user">nodejs</span>:<span class="css-truncate-target">v1.x</span></span>

  <div class="commit-ref-dropdown">
    <details class="details-reset details-overlay select-menu js-select-menu commitish-suggester js-load-contents" data-contents-url="/nodejs/node/pull/758/show_partial?partial=pull_requests%2Fdescription_branches_dropdown">
      <summary class="btn btn-sm select-menu-button branch" title="Choose a base branch" aria-haspopup="menu">
        <i>base:</i>
        <span class="js-select-button css-truncate css-truncate-target" title="v1.x">v1.x</span>
      </summary>
      <details-menu class="select-menu-modal position-absolute" style="z-index: 90;" role="menu">
        <div class="js-select-menu-deferred-content"></div>
        <div class="select-menu-loading-overlay anim-pulse">
          <svg height="32" class="octicon octicon-octoface" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>
        </div>
      </details-menu>
    </details>
  </div>

from

<span title="petkaantonov/io.js:unhandled-rejection-tracking" class="commit-ref css-truncate user-select-contain expandable head-ref"><span class="css-truncate-target user">petkaantonov</span>:<span class="css-truncate-target">unhandled-rejection-tracking</span></span>



    </div>
  </div>
</div>


      
<div class="tabnav tabnav-pr">
    <div class="tabnav-extra float-right">
      <span class="diffstat" id="diffstat">
        <span class="text-green">
          +720
        </span>
        <span class="text-red">
          −1
        </span>
        <span class="tooltipped tooltipped-s" aria-label="721 lines changed">
          <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-neutral"></span>
        </span>
      </span>
    </div>

  <nav class="tabnav-tabs">

      <a href="https://github.com/nodejs/node/pull/758" class="tabnav-tab selected js-pjax-history-navigate">
        <svg class="octicon octicon-comment-discussion" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M15 1H6c-.55 0-1 .45-1 1v2H1c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h1v3l3-3h4c.55 0 1-.45 1-1V9h1l3 3V9h1c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zM9 11H4.5L3 12.5V11H1V5h4v3c0 .55.45 1 1 1h3v2zm6-3h-2v1.5L11.5 8H6V2h9v6z"></path></svg>
        Conversation

        <span id="conversation_tab_counter" class="Counter">
          310
        </span>
      </a>

    <a href="https://github.com/nodejs/node/pull/758/commits" class="tabnav-tab  js-pjax-history-navigate">
      <svg class="octicon octicon-git-commit" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
      Commits

      <span id="commits_tab_counter" class="Counter">
        1
      </span>
    </a>

    <a href="https://github.com/nodejs/node/pull/758/checks" class="tabnav-tab " data-skip-pjax="">
      <svg class="octicon octicon-checklist" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 8.5l-6 6-3-3L8.5 10l1.5 1.5L14.5 7 16 8.5zM5.7 12.2l.8.8H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v6.5l-.8-.8c-.39-.39-1.03-.39-1.42 0L5.7 10.8a.996.996 0 0 0 0 1.41v-.01zM4 4h5V3H4v1zm0 2h5V5H4v1zm0 2h3V7H4v1zM3 9H2v1h1V9zm0-2H2v1h1V7zm0-2H2v1h1V5zm0-2H2v1h1V3z"></path></svg>
      Checks

      <span id="checks_tab_counter" class="Counter">
        0
      </span>
    </a>

      <link rel="pjax-prefetch" href="https://github.com/nodejs/node/pull/758/files">
    <a href="https://github.com/nodejs/node/pull/758/files" class="tabnav-tab  js-pjax-history-navigate">
      <svg class="octicon octicon-diff" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 7h2v1H6v2H5V8H3V7h2V5h1v2zm-3 6h5v-1H3v1zM7.5 2L11 5.5V15c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h6.5zM10 6L7 3H1v12h9V6zM8.5 0H3v1h5l4 4v8h1V4.5L8.5 0z"></path></svg>
      Files changed

        <span id="files_tab_counter" class="Counter">
            4
        </span>
    </a>
  </nav>
</div>



    <h2 class="sr-only">Conversation</h2>
      <div id="discussion_bucket" class="clearfix pull-request-tab-content is-visible js-socket-channel js-updatable-content" data-channel="pull_request:28883503:timeline">
      
<div class="discussion-sidebar">
  <div id="partial-discussion-sidebar" class="js-socket-channel js-updatable-content" data-channel="pull_request:28883503" data-gid="MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=" data-url="/nodejs/node/issues/758/show_partial?partial=issues%2Fsidebar">

    <div class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item position-relative" data-team-hovercards-enabled="">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" action="https://github.com/nodejs/node/pull/758/review-requests?pr_global_id=MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM%3D" accept-charset="UTF-8" method="post">
    

  <div class="discussion-sidebar-heading text-bold">
    Reviewers
  </div>

    <span class="css-truncate">
    No reviews
</span>

</form></div>


  <div class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" action="https://github.com/nodejs/node/issues/758?partial=issues%2Fsidebar%2Fshow%2Fassignees" accept-charset="UTF-8" method="post">
    

  <div class="discussion-sidebar-heading text-bold">
    Assignees
  </div>

    <span class="css-truncate js-issue-assignees">
    No one assigned
</span>

</form></div>

    <div class="discussion-sidebar-item sidebar-labels js-discussion-sidebar-item">
  



  <div class="discussion-sidebar-heading text-bold">
    Labels
  </div>

  <div class="labels css-truncate js-issue-labels">
      <a class="sidebar-labels-style box-shadow-none width-full d-block IssueLabel v-align-text-top tooltipped tooltipped-w" style="background-color: #02d7e1; color: #000000" data-name="discuss" aria-label="Issues opened for discussions and feedbacks." href="https://github.com/nodejs/node/labels/discuss"><span class="css-truncate-target" style="max-width: 100%">discuss</span></a>
  <a class="sidebar-labels-style box-shadow-none width-full d-block IssueLabel v-align-text-top tooltipped tooltipped-w" style="background-color: #fef2c0; color: #000000" data-name="semver-minor" aria-label="PRs that contain new features and should be released in the next minor version." href="https://github.com/nodejs/node/labels/semver-minor"><span class="css-truncate-target" style="max-width: 100%">semver-minor</span></a>

</div>

</div>

    <div class="discussion-sidebar-item js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" action="https://github.com/nodejs/node/projects/issues/758" accept-charset="UTF-8" method="post">
    

  <div class="discussion-sidebar-heading text-bold">
    Projects
  </div>

    
<span class="css-truncate sidebar-projects">
    None yet
</span>

</form></div>

    <div class="discussion-sidebar-item sidebar-milestone js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" action="https://github.com/nodejs/node/issues/758/set_milestone?partial=issues%2Fsidebar%2Fshow%2Fmilestone" accept-charset="UTF-8" method="post">
    

  <div class="discussion-sidebar-heading text-bold">
    Milestone
  </div>

      No milestone

</form></div>

  
  <div id="partial-users-participants" class="discussion-sidebar-item">
  <div class="participation">

    <div class="discussion-sidebar-heading text-bold">
      14 participants
    </div>
    <div class="participation-avatars d-flex flex-wrap">
        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars0.githubusercontent.com/u/829734?s=52&amp;v=4" width="26" height="26" alt="@petkaantonov"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars2.githubusercontent.com/u/1315533?s=52&amp;v=4" width="26" height="26" alt="@benjamingr"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars0.githubusercontent.com/u/2993861?s=52&amp;v=4" width="26" height="26" alt="@vkurchatkin"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars2.githubusercontent.com/u/617481?s=52&amp;v=4" width="26" height="26" alt="@domenic"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars1.githubusercontent.com/u/495647?s=52&amp;v=4" width="26" height="26" alt="@rvagg"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars3.githubusercontent.com/u/289174?s=52&amp;v=4" width="26" height="26" alt="@trevnorris"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=205482" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Qard" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars3.githubusercontent.com/u/205482?s=52&amp;v=4" width="26" height="26" alt="@Qard"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars3.githubusercontent.com/u/275871?s=52&amp;v=4" width="26" height="26" alt="@bnoordhuis"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=363611" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/phpnode" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars1.githubusercontent.com/u/363611?s=52&amp;v=4" width="26" height="26" alt="@phpnode"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=801895" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tjconcept" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars3.githubusercontent.com/u/801895?s=52&amp;v=4" width="26" height="26" alt="@tjconcept"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=613729" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tellnes" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars0.githubusercontent.com/u/613729?s=52&amp;v=4" width="26" height="26" alt="@tellnes"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=999113" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rlidwka" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars1.githubusercontent.com/u/999113?s=52&amp;v=4" width="26" height="26" alt="@rlidwka"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars1.githubusercontent.com/u/1090017?s=52&amp;v=4" width="26" height="26" alt="@golyshevd"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1093990" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Fishrock123" aria-describedby="hovercard-aria-description">
          <img class="avatar" src="https://avatars2.githubusercontent.com/u/1093990?s=52&amp;v=4" width="26" height="26" alt="@Fishrock123"> 
</a>    </div>
  </div>
</div>


  



    

</div>


<div class="border-top mt-3 py-3 text-gray text-small">
</div>


</div>

<div class="discussion-timeline pull-discussion-timeline js-pull-discussion-timeline js-quote-selection-container js-review-state-classes " data-quote-markdown=".js-comment-body" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="">
    <div class="js-discussion js-socket-channel" data-channel="marked-as-read:pull-request:28883503">

    
<div class="timeline-comment-wrapper js-comment-container mt-0 js-socket-channel" data-gid="MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=" data-url="/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/pull_requests/body" data-channel="pull_request:28883503">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issue-28883503">
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="28090fb64a1292975ab89cc9ac816c31" data-unfurl-authenticity-token="LHdlIVmLVqKHIfLuJz5UVVISWkjIXWL4vYijaEgbyA1LN+bgNvKVwMAmGOsImFO81ahimNJssp/FC4ZlowGNbw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-pullrequest-28883503">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="pullrequest-28883503-permalink" aria-label="Copy link" data-toggle-for="details-pullrequest-28883503" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-pullrequest-28883503">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issue-28883503" id="pullrequest-28883503-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T17:38:00Z" title="Feb 8, 2015, 7:38 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Implement unhandled rejection tracking for promises as<br>
specified in <a rel="nofollow" href="https://gist.github.com/benjamingr/0237932cee84712951a2">https://gist.github.com/benjamingr/0237932cee84712951a2</a></p>
<p><span class="issue-keyword tooltipped tooltipped-se" aria-label="This pull request closes issue #256.">Fixes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="53723638" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/256" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/256/hovercard" href="https://github.com/nodejs/node/issues/256" aria-describedby="hovercard-aria-description">#256</a></p>
<p>Note that I did not implement any default action - so errors are still<br>
swallowed by default and many developers are therefore not going<br>
to discover the hooks. My recommendation would be by default<br>
to log the error as <code>"Potentially unhandled: " + error.stack</code> (and<br>
for example <code>"no stack trace"</code> for non-errors).</p>
<p>These hooks are enough to implement any kind of error handling scheme, including<br>
log-on-gc (needs native module I think).</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> , <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a> , <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> , <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> ,<a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">@bnoordhuis</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>

</div>


    

  <div id="js-timeline-progressive-loader" data-timeline-item-src="nodejs/node/timeline?id=MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM%3D&amp;variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABS26LCsgBqTIzMjQ1MTQ4Mg%3D%3D&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABS73zdQAH2gAxMjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA%3D%3D&amp;variables%5Bfirst%5D=60"></div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDIxOTM4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDIxOTM4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDIxOTM4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73421938">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="baa66a38beb425dee2ab4d07742a8085">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="baa66a38beb425dee2ab4d07742a8085" data-unfurl-authenticity-token="kzf09byPMLDEL+e2hRuY3MpVtFJ5jA5k4MNkddvVHOD0d3c00/bz0oMoDbOqvZ81Te+MgmO93gOYQEF4MM9Zgg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73421938">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73421938-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73421938" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73421938">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73421938" id="issuecomment-73421938-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T17:46:40Z" title="Feb 8, 2015, 7:46 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Awesome! I think this is the least argumentive way to go forward requiring the least changes to core.</p>
<p>(cc <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=39191" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/paulirish" aria-describedby="hovercard-aria-description">@paulirish</a> )</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxNzA6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24300550" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=613729" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tellnes" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@tellnes" src="https://avatars3.githubusercontent.com/u/613729?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=613729" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tellnes" aria-describedby="hovercard-aria-description">tellnes</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24300550" class="timestamp">
              <relative-time datetime="2015-02-08T17:56:41Z" title="Feb 8, 2015, 7:56 PM GMT+2">on Feb 8, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24300550" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300550R458" data-line-number="458" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      } else if (event === kPromiseHandlerAddedAfterReject) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300550R459" data-line-number="459" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        rejectionHandled(promise);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300550R460" data-line-number="460" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      } else {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300550R461" data-line-number="461" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        require('assert').fail('unexpected PromiseRejectEvent');</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24300550" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAwNTUw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAwNTUw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ad89caecf5d710faf7c875dbcafadd46">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ad89caecf5d710faf7c875dbcafadd46" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24300550">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24300550-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24300550" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24300550">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=613729" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tellnes" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@tellnes" src="https://avatars2.githubusercontent.com/u/613729?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=613729" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tellnes" aria-describedby="hovercard-aria-description">tellnes</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24300550" id="discussion_r24300550-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T17:56:41Z" title="Feb 8, 2015, 7:56 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Why not <code>throw new Error('unexpected PromiseRejectEvent')</code> which is basically what this does?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24300691" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAwNjkx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAwNjkx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ebc624b4825841c0c6a339d2c3ac475c">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ebc624b4825841c0c6a339d2c3ac475c" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24300691">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24300691-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24300691" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24300691">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24300691" id="discussion_r24300691-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:08:59Z" title="Feb 8, 2015, 8:08 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>This throws <code>AssertionError</code>, I think it's an important difference.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301087" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDg3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDg3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="196147a86dcc3bbfaf655edd2cca58f8">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="196147a86dcc3bbfaf655edd2cca58f8" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301087">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301087-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301087" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301087">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301087" id="discussion_r24301087-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:55:19Z" title="Feb 8, 2015, 8:55 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Yeah, asserts are fine when something is not supposed to happen.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxNzM6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24300983" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24300983" class="timestamp">
              <relative-time datetime="2015-02-08T18:41:43Z" title="Feb 8, 2015, 8:41 PM GMT+2">on Feb 8, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24300983" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300983R399" data-line-number="399" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var timers = NativeModule.require('timers');</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300983R400" data-line-number="400" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var unhandledPromises = new WeakMap();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300983R401" data-line-number="401" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    // A hack to work around uniterable WeakMaps.</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24300983R402" data-line-number="402" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var unhandledPromiseKeys = [];</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24300983" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAwOTgz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAwOTgz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ef59fda0fae1ba65980714d3db54eec7">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ef59fda0fae1ba65980714d3db54eec7" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24300983">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24300983-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24300983" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24300983">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24300983" id="discussion_r24300983-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:41:43Z" title="Feb 8, 2015, 8:41 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>So, what's the point of the <code>WeakMap</code> then? just use <code>Map</code></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301001" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDAx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDAx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="954fbc0def6296adea4ead2e9e625c83">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="954fbc0def6296adea4ead2e9e625c83" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301001">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301001-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301001" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301001">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301001" id="discussion_r24301001-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:44:17Z" title="Feb 8, 2015, 8:44 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><code>Map</code> will leak memory, note that the array only holds references until the next turn. The references in the map live much longer.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301037" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDM3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDM3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="568dfc0a95806ee44cf16caa589c0142">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="568dfc0a95806ee44cf16caa589c0142" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301037">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301037-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301037" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301037">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301037" id="discussion_r24301037-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:49:49Z" title="Feb 8, 2015, 8:49 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>You use <code>WeakMap</code>, but hold strong references to keys. Don't see much difference. Of course you need to  <code>clear()</code> the map</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301042" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDQy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDQy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="214a116d3b33cc50a1f2a9f538df2459">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="214a116d3b33cc50a1f2a9f538df2459" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301042">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301042-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301042" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301042">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301042" id="discussion_r24301042-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:50:51Z" title="Feb 8, 2015, 8:50 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I only hold strong references until the next turn. See how the array is cleared in the next setImmediate</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301079" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDc5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDc5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="7938570a5bc47856b957310e7f165579">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="7938570a5bc47856b957310e7f165579" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301079">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301079-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301079" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301079">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301079" id="discussion_r24301079-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:54:25Z" title="Feb 8, 2015, 8:54 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>What I'm saying is, instead of <code>unhandledPromiseKeys = []</code> you could call <code>unhandledPromises.clear()</code> it was a <code>Map</code>.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>


        <!-- '"` --><!-- </textarea></xmp> -->

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301082" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDgy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMDgy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="c7326ba6e8d23638805de4f08021d752">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="c7326ba6e8d23638805de4f08021d752" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301082">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301082-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301082" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301082">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301082" id="discussion_r24301082-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:54:50Z" title="Feb 8, 2015, 8:54 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>There is no way to know when you can <code>clear()</code> the map - a promise in the map may become handled at any point in the future.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301107" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTA3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTA3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="e9ae9bff1799e677b1f0f5647c08c075">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="e9ae9bff1799e677b1f0f5647c08c075" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301107">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301107-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301107" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301107">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301107" id="discussion_r24301107-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:57:14Z" title="Feb 8, 2015, 8:57 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>They keys in the array are just the promises that were added in previous turn, the map can still contain promises from earlier turns if they were not handled.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301128" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTI4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTI4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="a289bccd557be594dd65e90e1c4f8ee4">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="a289bccd557be594dd65e90e1c4f8ee4" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301128">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301128-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301128" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301128">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301128" id="discussion_r24301128-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T18:59:10Z" title="Feb 8, 2015, 8:59 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>What should we care about those? If a promise isn't handled, we emit an event and forget about it. If it is handled later we just see that it's not in the map and that's all we need.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301138" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTM4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTM4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="7dd15b341f92b86bd06307ae17b3c48e">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="7dd15b341f92b86bd06307ae17b3c48e" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301138">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301138-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301138" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301138">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301138" id="discussion_r24301138-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:00:26Z" title="Feb 8, 2015, 9:00 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Because <code>Promise.reject().catch()</code> from V8 fires the events as well. You need to be able to differentiate between notified rejections and unnotified.</p>
<p>Unnotified rejections don't cause an <code>"rejectionHandled"</code> event while notified rejections do cause that event.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>




        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301155" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTU1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTU1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="3ae396c9319070d5a73bfcf7220787c2">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="3ae396c9319070d5a73bfcf7220787c2" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301155">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301155-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301155" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301155">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301155" id="discussion_r24301155-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:02:01Z" title="Feb 8, 2015, 9:02 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>If rejection is not in the map it is notified</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301182" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTgy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTgy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="d0da3a1c490f328b19fcf512113b6bd1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="d0da3a1c490f328b19fcf512113b6bd1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301182">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301182-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301182" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301182">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301182" id="discussion_r24301182-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:06:29Z" title="Feb 8, 2015, 9:06 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>No, notification happens if after 1 turn there is no catch handler. <code>Promise.reject(err).catch(function(){})</code> causes V8 to fire an event but we wait 1 turn before creating a notification. However since there was .catch added immediately, we don't create notification.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301224" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjI0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjI0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ecfac1f3cdfaae4ab469eeb78d011149">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ecfac1f3cdfaae4ab469eeb78d011149" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301224">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301224-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301224" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301224">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301224" id="discussion_r24301224-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:10:07Z" title="Feb 8, 2015, 9:10 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><del>it is notified</del> it shouldn't be notified. It makes no difference why we should not emit event, whether it was emitted earlier or user has attached a handler.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301248" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjQ4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjQ4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="1be362178dc81724856d1b3f6a3ed625">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="1be362178dc81724856d1b3f6a3ed625" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301248">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301248-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301248" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301248">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301248" id="discussion_r24301248-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:13:30Z" title="Feb 8, 2015, 9:13 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>The array lives a lot less time than the WeakMap. That's the point, we remember promises that migr be handled later for future events but don't force them to stu in memory</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301251" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjUx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjUx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="debf04946a398e27f2cf9ad0cf3d66c6">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="debf04946a398e27f2cf9ad0cf3d66c6" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301251">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301251-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301251" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301251">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301251" id="discussion_r24301251-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:13:50Z" title="Feb 8, 2015, 9:13 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <div class="highlight highlight-source-js"><pre><span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>().<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){})</pre></div>
<p>Must not cause any notification</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();
<span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
    <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>() {});
})</pre></div>
<p>Must not cause any notification</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>()</pre></div>
<p>Must cause the notification <code>"unhandledRejection"</code></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();

<span class="pl-c1">setTimeout</span>(<span class="pl-k">function</span>() {
    <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>() {});
}, <span class="pl-c1">1</span>);</pre></div>
<p>Must cause the notifications <code>"unhandledRejection"</code> and <code>"rejectionHandled"</code></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxNzU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24301167" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24301167" class="timestamp">
              <relative-time datetime="2015-02-08T19:04:39Z" title="Feb 8, 2015, 9:04 PM GMT+2">on Feb 8, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24301167" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301167R423" data-line-number="423" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        unhandledRejection.hasBeenNotified = true;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301167R424" data-line-number="424" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        var reason = unhandledRejection.reason;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301167R425" data-line-number="425" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        if (!process.emit('unhandledRejection', reason, promise)) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301167R426" data-line-number="426" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          // Nobody is listening.</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301167" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTY3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMTY3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="58ddbc3e8abee598a3db04cacee95296">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="58ddbc3e8abee598a3db04cacee95296" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301167">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301167-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301167" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301167">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301167" id="discussion_r24301167-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:04:39Z" title="Feb 8, 2015, 9:04 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I'm for throwing as a default action</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301200" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjAw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjAw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b898c8c23243974673df16a63a761104">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b898c8c23243974673df16a63a761104" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301200">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301200-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301200" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301200">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=613729" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tellnes" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@tellnes" src="https://avatars2.githubusercontent.com/u/613729?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=613729" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tellnes" aria-describedby="hovercard-aria-description">tellnes</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301200" id="discussion_r24301200-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:08:30Z" title="Feb 8, 2015, 9:08 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>+1 for throwing</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301277" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjc3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjc3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="d7ae8da58d35377f441dbc3e18a6b61f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="d7ae8da58d35377f441dbc3e18a6b61f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301277">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301277-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301277" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301277">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301277" id="discussion_r24301277-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:17:05Z" title="Feb 8, 2015, 9:17 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I like throwing but choosing what to do here should be deferred to a future PR. The implications of throwing here are huge and depend on how people are already using native promises.</p>
<p>Extensive research needs to be conducted before a call is made in my opinion - I've started doing some (check the gist in the issue thread)</p>
<p>Great work on the base of this PR btw</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301416" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxNDE2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxNDE2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="aef21bf7d0e6c44236ee272559958686">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="aef21bf7d0e6c44236ee272559958686" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301416">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301416-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301416" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301416">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301416" id="discussion_r24301416-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:30:38Z" title="Feb 8, 2015, 9:30 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Yeah, and technically that would be a breaking change</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301510" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxNTEw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxNTEw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="32d8c3152cef0d8ef2d0b2fb2304c30f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="32d8c3152cef0d8ef2d0b2fb2304c30f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301510">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301510-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301510" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301510">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301510" id="discussion_r24301510-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:39:05Z" title="Feb 8, 2015, 9:39 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Exactly :) Those are a lot harder to make. The current PR does not dictate any default behavior and doesn't break peoples' workflows.</p>
<p>I'd like to emphasize again that I think we <em>should</em> add a default handler and it would be very useful for the very least to log (for the very least if the debug flag is turned on) - I just think that this decision should be deferred until this PR is merged.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24302156" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMTU2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMTU2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="7695877d1dfd81945aa090c98f6a1ad3">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="7695877d1dfd81945aa090c98f6a1ad3" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24302156">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24302156-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24302156" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24302156">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24302156" id="discussion_r24302156-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T20:45:28Z" title="Feb 8, 2015, 10:45 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Huge -1 for throwing. Logging is the absolute limit of what could be considered acceptable. Throwing removes the ability to use a whole class of programming patterns (including e.g. most of WHATWG streams).</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24310881" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzEwODgx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzEwODgx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="fe05c9789e522a06b1c64eec577756f1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="fe05c9789e522a06b1c64eec577756f1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24310881">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24310881-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24310881" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24310881">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=999113" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rlidwka" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@rlidwka" src="https://avatars3.githubusercontent.com/u/999113?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=999113" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rlidwka" aria-describedby="hovercard-aria-description">rlidwka</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24310881" id="discussion_r24310881-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T06:30:41Z" title="Feb 9, 2015, 8:30 AM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>It should throw. Unhandled promises are very similar to unhandled exceptions in this matter.</p>
<p>There is only a question of backward compatibility, because people are already using promises. Maybe do <code>console.error("this will throw later")</code> for now and revisit this issue in the future versions.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24310926" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzEwOTI2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzEwOTI2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="7d58604ceb4d8167468234fc6193a145">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="7d58604ceb4d8167468234fc6193a145" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24310926">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24310926-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24310926" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24310926">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24310926" id="discussion_r24310926-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T06:32:18Z" title="Feb 9, 2015, 8:32 AM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>They are not at all similar. Promises have a growing-and-shrinking list of uncaught errors. Many promise-using situations (for example, many browser promises like <code>.loaded</code> or almost all WHATWG streams promises) depend on being able to add elements to that list and then have them removed later.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxNzY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24301236" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24301236" class="timestamp">
              <relative-time datetime="2015-02-08T19:11:51Z" title="Feb 8, 2015, 9:11 PM GMT+2">on Feb 8, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24301236" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301236R406" data-line-number="406" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      if (!fullTurnQueued) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301236R407" data-line-number="407" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        fullTurnQueued = true;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301236R408" data-line-number="408" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        timers.setImmediate(function() {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24301236R409" data-line-number="409" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          process.nextTick(afterFullTurn);</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301236" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjM2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjM2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="32dd88e97503c6f6c3b2066ce060a8ef">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="32dd88e97503c6f6c3b2066ce060a8ef" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301236">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301236-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301236" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301236">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301236" id="discussion_r24301236-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:11:51Z" title="Feb 8, 2015, 9:11 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>This is the trickiest part. I'm not sure it is the right moment to do it.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301260" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjYw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjYw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="288f5adc5589fb6e2f07dad91e788362">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="288f5adc5589fb6e2f07dad91e788362" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301260">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301260-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301260" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301260">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301260" id="discussion_r24301260-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:14:51Z" title="Feb 8, 2015, 9:14 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>This is the only place where it makes sense to do this - wait a full macrotask. Any later is pointless, any sooner will report too often.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301281" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjgx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjgx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b2d1d34a1798179d61f402faefa47a70">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b2d1d34a1798179d61f402faefa47a70" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301281">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301281-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301281" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301281">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301281" id="discussion_r24301281-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:17:21Z" title="Feb 8, 2015, 9:17 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>This is so that</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();
<span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
     <span class="pl-smi">a</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
});</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
     <span class="pl-smi">a</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
});
<span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();</pre></div>
<p>Have the same end result - so that order doesn't matter.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301663" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxNjYz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxNjYz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="fae0283ce479efe3f5bd217b95a7b999">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="fae0283ce479efe3f5bd217b95a7b999" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301663">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301663-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301663" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301663">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301663" id="discussion_r24301663-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T19:54:40Z" title="Feb 8, 2015, 9:54 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>These would always have the same reason. <code>setImmediate</code> just seems random. Why not <code>setTimeout(0)</code>? or something else?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301806" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxODA2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxODA2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="a138c9d117e2de4047d0103266de973a">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="a138c9d117e2de4047d0103266de973a" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301806">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301806-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301806" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301806">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301806" id="discussion_r24301806-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T20:08:28Z" title="Feb 8, 2015, 10:08 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Good question- it really boils down to the distinction between a microtask (like nextTick) and a macrotask (setImmediate) - a setTimeout would be arbitrary- what we want to do is to wait for IO to flush and the event loop to loop (hence the setImmediate) but we also want to wait for other subscribers that started a macrotask at the same time we did so a microtask is scheduled. I think <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> is probably better than me at explaining these delicacies but that's the general gist of things. It's certainly not random or arbitrary :)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>


        <!-- '"` --><!-- </textarea></xmp> -->

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24301843" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxODQz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxODQz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="4cb777952874e9fcc7447f9a050ba449">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="4cb777952874e9fcc7447f9a050ba449" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24301843">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24301843-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24301843" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24301843">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24301843" id="discussion_r24301843-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T20:13:09Z" title="Feb 8, 2015, 10:13 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>What I saw in <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a>'s proposal is that this should be done in the end of the current event loop turn. <code>setImmediate</code> doesn't give you that.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24302162" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMTYy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMTYy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="c0cd071f238106caba9377464bcf28dd">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="c0cd071f238106caba9377464bcf28dd" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24302162">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24302162-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24302162" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24302162">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24302162" id="discussion_r24302162-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T20:46:31Z" title="Feb 8, 2015, 10:46 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Why do you say that's not what setImmediate does? My understanding is that's exactly what setImmediate does.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>




        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24302206" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMjA2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMjA2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="7ca5aa1951693c338c210aa236bc59dc">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="7ca5aa1951693c338c210aa236bc59dc" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24302206">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24302206-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24302206" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24302206">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24302206" id="discussion_r24302206-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T20:51:44Z" title="Feb 8, 2015, 10:51 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Two reasons:</p>
<ol>
<li>After <code>setImmediate</code> callback some things can happen in the CURRENT event loop turn: other <code>setImmediate</code> callbacks, <code>nextTick</code> callbacks, microtasks</li>
<li>If you call <code>setImmediate</code> from, say, <code>setTimeout</code> callback or io callback it will actually be called in the end of the current event loop turn (it might be not the last thing though). If you call it from <code>setImmediate</code> callback it will be called in the next event loop turn.</li>
</ol>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24302286" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMjg2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMjg2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="306cad4bc15e6b7d6c9f4f4b2486b175">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="306cad4bc15e6b7d6c9f4f4b2486b175" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24302286">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24302286-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24302286" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24302286">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24302286" id="discussion_r24302286-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T20:57:39Z" title="Feb 8, 2015, 10:57 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Right, OK, so I was being imprecise. Regardless, my proposal's more-precise version <em>enqueues a task</em> (or "macrotask") to trigger the reporting, which is exactly what setImmediate does.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24302359" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMzU5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyMzU5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f8c524e3c81671928b4bf9298484bafb">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f8c524e3c81671928b4bf9298484bafb" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24302359">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24302359-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24302359" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24302359">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24302359" id="discussion_r24302359-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T21:03:19Z" title="Feb 8, 2015, 11:03 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>this causes weird behaviour: <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard?comment_id=73428399&amp;comment_type=issue_comment" href="https://github.com/nodejs/node/pull/758#issuecomment-73428399" aria-describedby="hovercard-aria-description">#758 (comment)</a></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24302402" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyNDAy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyNDAy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="41fa0d93768f8c2949f84ff6ce6d61c2">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="41fa0d93768f8c2949f84ff6ce6d61c2" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24302402">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24302402-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24302402" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24302402">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24302402" id="discussion_r24302402-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T21:06:24Z" title="Feb 8, 2015, 11:06 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> so so you think that <code>setImmediate</code> is the way to go here or should something else be considered?</p>
<p>What about using <code>Promise.resolve().then(...)</code> instead.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> what would guarantee one turn has passed but nothing more? Do you have an idea for a more precise method to check this?</p>
<p>Adding a link to our discussion in StackOverflow which also contains links to relevant threads for everyone's benefit:  <a rel="nofollow" href="http://stackoverflow.com/questions/27647742/promise-resolve-then-vs-setimmediate-vs-nexttick?lq=1">http://stackoverflow.com/questions/27647742/promise-resolve-then-vs-setimmediate-vs-nexttick?lq=1</a></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24302504" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyNTA0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAyNTA0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="7ba3024035d93d9b12009ba486bd3cc7">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="7ba3024035d93d9b12009ba486bd3cc7" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24302504">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24302504-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24302504" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24302504">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24302504" id="discussion_r24302504-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-08T21:14:10Z" title="Feb 8, 2015, 11:14 PM GMT+2">on Feb 8, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Basically I think we should just keep adding test cases and make sure the behavior is the desired behavior in all cases. <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a>'s test case is one that should probably not behave the way it currently does. If we get to a point where we can't reconcile the various test cases then we'll need to step back and reevaluate.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI3NDMz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI3NDMz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDI3NDMz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73427433">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="a9b3f2525c8b1716feb63b890bfdfe8c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="a9b3f2525c8b1716feb63b890bfdfe8c" data-unfurl-authenticity-token="dAgzuUxCw1bZXtyWyf01pKtEqcfoWajrzBZHqJqS4OoTSLB4IzsANJ5ZNpPmWzJNLP6RF/JoeIy0lWKlcYiliA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73427433">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73427433-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73427433" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73427433">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73427433" id="issuecomment-73427433-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T19:39:43Z" title="Feb 8, 2015, 9:39 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>We clearly have a misunderstanding about <code>WeakMap</code>. I think you can achieve the same behaviour with plain <code>Map</code>. Here is diff to illustrate (I was trying to do exactly what you are doing):</p>
<div class="highlight highlight-source-diff"><pre><span class="pl-c1">diff --git a/src/env-inl.h b/src/env-inl.h</span>
index c5f2328..27e09cd 100644
<span class="pl-md">--- a/src/env-inl.h</span>
<span class="pl-mi1">+++ b/src/env-inl.h</span>
<span class="pl-mdr">@@ -331,6 +331,14 @@</span> inline Environment::IsolateData* Environment::isolate_data() const {
   return isolate_data_;
 }

<span class="pl-mi1"><span class="pl-mi1">+</span>inline void Environment::RunAfterLoopCallback() {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  v8::Handle&lt;v8::Function&gt; callback = this-&gt;after_loop_callback();</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  if (!callback.IsEmpty()) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    callback-&gt;Call(this-&gt;process_object(), 0, nullptr);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  }</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>}</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
 // this would have been a template function were it not for the fact that g++
 // sometimes fails to resolve it...
 #define THROW_ERROR(fun)                                                      \
<span class="pl-c1">diff --git a/src/env.h b/src/env.h</span>
index 4a4eaa3..75f6703 100644
<span class="pl-md">--- a/src/env.h</span>
<span class="pl-mi1">+++ b/src/env.h</span>
<span class="pl-mdr">@@ -215,6 +215,7 @@</span> namespace node {
   V(zero_return_string, "ZERO_RETURN")                                        \

 #define ENVIRONMENT_STRONG_PERSISTENT_PROPERTIES(V)                           \
<span class="pl-mi1"><span class="pl-mi1">+</span>  V(after_loop_callback, v8::Function)                                        \</span>
   V(async_hooks_init_function, v8::Function)                                  \
   V(async_hooks_pre_function, v8::Function)                                   \
   V(async_hooks_post_function, v8::Function)                                  \
<span class="pl-mdr">@@ -398,6 +399,8 @@</span> class Environment {
   inline bool printed_error() const;
   inline void set_printed_error(bool value);

<span class="pl-mi1"><span class="pl-mi1">+</span>  inline void RunAfterLoopCallback();</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
   inline void ThrowError(const char* errmsg);
   inline void ThrowTypeError(const char* errmsg);
   inline void ThrowRangeError(const char* errmsg);
<span class="pl-c1">diff --git a/src/node.cc b/src/node.cc</span>
index 990feea..cf8298b 100644
<span class="pl-md">--- a/src/node.cc</span>
<span class="pl-mi1">+++ b/src/node.cc</span>
<span class="pl-mdr">@@ -1002,6 +1002,16 @@</span> void SetupPromises(const FunctionCallbackInfo&lt;Value&gt;&amp; args) {
       FIXED_ONE_BYTE_STRING(args.GetIsolate(), "_setupPromises"));
 }

<span class="pl-mi1"><span class="pl-mi1">+</span>void SetAfterLoopCallback(const FunctionCallbackInfo&lt;Value&gt;&amp; args) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  Environment* env = Environment::GetCurrent(args);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  if (args[0]-&gt;IsFunction()) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    env-&gt;set_after_loop_callback(args[0].As&lt;Function&gt;());</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  }</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>}</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>

 Handle&lt;Value&gt; MakeCallback(Environment* env,
                            Handle&lt;Value&gt; recv,
<span class="pl-mdr">@@ -2779,6 +2789,8 @@</span> void SetupProcessObject(Environment* env,
   env-&gt;SetMethod(process, "_setupPromises", SetupPromises);
   env-&gt;SetMethod(process, "_setupDomainUse", SetupDomainUse);

<span class="pl-mi1"><span class="pl-mi1">+</span>  env-&gt;SetMethod(process, "_setAfterLoopCallback", SetAfterLoopCallback);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
   // pre-set _events object for faster emit checks
   process-&gt;Set(env-&gt;events_string(), Object::New(env-&gt;isolate()));
 }
<span class="pl-mdr">@@ -3710,6 +3722,7 @@</span> int Start(int argc, char** argv) {
     bool more;
     do {
       more = uv_run(env-&gt;event_loop(), UV_RUN_ONCE);
<span class="pl-mi1"><span class="pl-mi1">+</span>      env-&gt;RunAfterLoopCallback();</span>
       if (more == false) {
         EmitBeforeExit(env);

<span class="pl-mdr">@@ -3718,6 +3731,7 @@</span> int Start(int argc, char** argv) {
         more = uv_loop_alive(env-&gt;event_loop());
         if (uv_run(env-&gt;event_loop(), UV_RUN_NOWAIT) != 0)
           more = true;
<span class="pl-mi1"><span class="pl-mi1">+</span>        env-&gt;RunAfterLoopCallback();</span>
       }
     } while (more == true);
     code = EmitExit(env);
<span class="pl-c1">diff --git a/src/node.js b/src/node.js</span>
index a8278c1..51b26b8 100644
<span class="pl-md">--- a/src/node.js</span>
<span class="pl-mi1">+++ b/src/node.js</span>
<span class="pl-mdr">@@ -395,6 +395,7 @@</span>
     // this should be kept in sync with PromiseRejectEvent in v8.h
     var kPromiseRejectWithNoHandler = 0;
     var kPromiseHandlerAddedAfterReject = 1;
<span class="pl-mi1"><span class="pl-mi1">+</span>    var pendingRejections = new Map();</span>

     function promiseRejectCallback(event, promise, value) {

<span class="pl-mdr">@@ -406,19 +407,43 @@</span>

     function promiseRejectWithNoHandlerCallback(promise, value) {
       var rejection = new PromiseRejection(promise, value);
<span class="pl-md"><span class="pl-md">-</span>      process.emit('unhandledPromiseRejection', promise, rejection);</span>
<span class="pl-md"><span class="pl-md">-</span></span>
<span class="pl-md"><span class="pl-md">-</span>      if (!rejection.isHandled()) {</span>
<span class="pl-md"><span class="pl-md">-</span>        process.nextTick(function() {</span>
<span class="pl-md"><span class="pl-md">-</span>          throw value;</span>
<span class="pl-md"><span class="pl-md">-</span>        });</span>
<span class="pl-md"><span class="pl-md">-</span>      }</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      pendingRejections.set(promise, rejection);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      // process.emit('unhandledPromiseRejection', promise, rejection);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      //</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      // if (!rejection.isHandled()) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      //   process.nextTick(function() {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      //     throw value;</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      //   });</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      // }</span>
     }

     function promiseHandlerAddedAfterRejectCallback(promise) {
<span class="pl-md"><span class="pl-md">-</span>      process.emit('unhandledPromiseRejectionHandled', promise);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      var pendingRejection = pendingRejections.get(promise);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      if (pendingRejection) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>        pendingRejections.delete(promise);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      } else {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>        process.emit('unhandledPromiseRejectionHandled', promise);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      }</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
     }

<span class="pl-mi1"><span class="pl-mi1">+</span>    process._setAfterLoopCallback(function() {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      for (let rejection of pendingRejections.values()) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>        process.emit('unhandledPromiseRejection', rejection.promise, rejection);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>        if (!rejection.isHandled()) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>          process.nextTick(function() {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>            throw rejection.value;</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>          });</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>        }</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      }</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      pendingRejections.clear();</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    });</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
     function PromiseRejection(promise, value) {
       this.promise = promise;
       this.value = value;
</pre></div>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI4Mzk5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI4Mzk5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDI4Mzk5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73428399">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="7543570945e23b38a2ea347f6dd30921">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="7543570945e23b38a2ea347f6dd30921" data-unfurl-authenticity-token="Ifb99F5B0yEdj4+OP164VM1L9XIq/Gi56Bf/46WxsFlGtn41MTgQQ1qIZYsQ+L+9SvHNojDNuN6QlNruTqv1Ow==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73428399">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73428399-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73428399" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73428399">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73428399" id="issuecomment-73428399-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T19:59:11Z" title="Feb 8, 2015, 9:59 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>An example of nondeterministic behaviour:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">process</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>unhandledRejection<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
  <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>unhandledRejection<span class="pl-pds">'</span></span>);
});

<span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();

<span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();

  <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
    <span class="pl-smi">a</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});

  });
});</pre></div>
<p>Logs <code>unhandledRejection</code> 2 times. Comment out first rejection: logs 0 times</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5MDA0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5MDA0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDI5MDA0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73429004">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="e99b51237010a5fdd4c06870f3699528">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="e99b51237010a5fdd4c06870f3699528" data-unfurl-authenticity-token="hdnL64qGNB6obNTYtNtouE+3cn1uIKE3V731XRrlqu7imUgq5f/3fO9rPt2bfW9RyA1KrXQRcVAvPtBQ8f/vjA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73429004">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73429004-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73429004" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73429004">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73429004" id="issuecomment-73429004-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T20:11:23Z" title="Feb 8, 2015, 10:11 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> good example - <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a>  why is the wait not promise specific? Is firing one per promise expensive?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5NDA4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5NDA4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDI5NDA4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73429408">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ded6d50f8567d2914d5efde9c2cfde15">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="ded6d50f8567d2914d5efde9c2cfde15" data-unfurl-authenticity-token="0LJLZ1CLGZzQ3FbAX50ItkpBL5ppo9Em2Vk8/MdGBuS38simP/La/pfbvMVwOw9fzfsXSnOSAUGh2hnxLFxDhg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73429408">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73429408-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73429408" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73429408">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73429408" id="issuecomment-73429408-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T20:20:33Z" title="Feb 8, 2015, 10:20 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> the WeakMap and array are because there are two distinct collections here - one holding the promises to be reported at the next turn as unhandled - it's life duration is one turn and it should not hold references to promises for longer than that. The other is a map of <em>all</em> unhandled rejections so we can report them as handled - this has to retain a reference to these promises for all eternity but it <em>must not</em> hold a strong reference to the promises since that would interfere with GC (if something was GC'd it's impossible for it to be later handled).</p>
<p>If we use a regular map either we don't retain promises long enough or we leak because we keep a reference to them</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5NjM1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5NjM1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDI5NjM1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73429635">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="830f9f41eaad5f326fb6b67548796ecf">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="830f9f41eaad5f326fb6b67548796ecf" data-unfurl-authenticity-token="LX9zapLyqMEiT+ZgAM75hLRR+cw4qsXCoWr8Q0KxkodKP/Cr/Ytro2VIDGUvaP5tM+vBHCKbFaXZ6dlOqavX5Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73429635">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73429635-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73429635" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73429635">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73429635" id="issuecomment-73429635-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T20:25:08Z" title="Feb 8, 2015, 10:25 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>The other is a map of all unhandled rejections so we can report them as handled</p>
</blockquote>
<p>we don't need this. We have a map, we emit events for every rejection in the map and clear it. After that, if we receive <code>kPromiseHandlerAddedAfterReject</code> and promise is not in the map, we know that the event was emitted already an we need another one (<code>rejectionHandled</code>). No need to store these promises at all</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5Nzkx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDI5Nzkx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDI5Nzkx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73429791">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="5d05b2593387c46d672cf8dfeb896136">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="5d05b2593387c46d672cf8dfeb896136" data-unfurl-authenticity-token="g8qWsZVvZb6qgKjlgK5H+N6a30dOTMWMn2CVp1Mykj/kihVw+ham3O2HQuCvCEARWSDnl1R9Fevn47CquCjXXQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73429791">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73429791-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73429791" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73429791">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73429791" id="issuecomment-73429791-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T20:28:12Z" title="Feb 8, 2015, 10:28 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> using the afterLoopCallback these will have different behavior:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>()
<span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
  <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
});</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
  <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
});
<span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>()</pre></div>
<p>It also occasionally causes all the tests to fail.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMxODA0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMxODA0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMxODA0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73431804">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="2b3f2d1a58aa76ddb511d4b4c72ef8fd">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="2b3f2d1a58aa76ddb511d4b4c72ef8fd" data-unfurl-authenticity-token="PTx0+l6HXajjPw0PqrCUbu7ObVmzuUZHMihhQV6PAVBafPc7Mf6eyqQ45wqFFpOHaXRViamIliBKq0RMtZVEMg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73431804">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73431804-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73431804" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73431804">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73431804" id="issuecomment-73431804-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:06:13Z" title="Feb 8, 2015, 11:06 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard?comment_id=73428399&amp;comment_type=issue_comment" href="https://github.com/nodejs/node/pull/758#issuecomment-73428399" aria-describedby="hovercard-aria-description">#758 (comment)</a> is an interesting example. As far as I can tell <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> is basically following <a rel="nofollow" href="https://gist.github.com/domenic/9b40029f59f29b822f3b#promise-error-handling-hooks-rough-spec-algorithm">https://gist.github.com/domenic/9b40029f59f29b822f3b#promise-error-handling-hooks-rough-spec-algorithm</a> (with setImmediate = notify-rejected task... not sure why it's setImmediate + process.nextTick though?). So if we want to eliminate that example, which we almost certainly do, then we should probably fix the spec in that case.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyMzM0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyMzM0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMyMzM0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73432334">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="313ad8a6995bc9f456f6f99e3dee0201">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="313ad8a6995bc9f456f6f99e3dee0201" data-unfurl-authenticity-token="3D1Nngb7sn2jXWo2EqGUhAgJM4gYbHcWPzIJxUb2u8a7fc5faYJxH+RagDM9B5Ntj7MLWAJdp3FHsSzIrez+pA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73432334">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73432334-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73432334" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73432334">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73432334" id="issuecomment-73432334-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:16:24Z" title="Feb 8, 2015, 11:16 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>That is only because I was using nextTick as a generic micro task scheduler, when I use Promise.resolve().then(fn) as microtask scheduler, it works</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNDQ5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNDQ5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMyNDQ5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73432449">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="cb6ef9c1745b05e5066071ffc3b2fe1a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="cb6ef9c1745b05e5066071ffc3b2fe1a" data-unfurl-authenticity-token="rFgaJJOhfHklpxlmJzOdq/TVb96a/xEECt8tQMtvlpzLGJnl/Ni/G2Kg82MIlZpCc29XDoDOwWNyXAhNIHXT/g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73432449">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73432449-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73432449" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73432449">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73432449" id="issuecomment-73432449-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:18:45Z" title="Feb 8, 2015, 11:18 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> can you help me undesrstand why you do setImmediate + schedule a microtask, instead of just doing the work directly inside setImmediate?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNTIz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNTIz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMyNTIz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73432523">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="60ca8de7174540070f2a3c5aa3c03d29">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="60ca8de7174540070f2a3c5aa3c03d29" data-unfurl-authenticity-token="KhwV3oV26xUdLM6MxUwQSvfay8H7Mz2zXp23Et4MGO1NXJYf6g8od1orJInq6hejcGDzEeEC7dQmHpIfNRZdjw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73432523">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73432523-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73432523" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73432523">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73432523" id="issuecomment-73432523-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:20:09Z" title="Feb 8, 2015, 11:20 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Also if it is necessary you may be able to use V8 natives to do the equivalent semantically without creating two promises: <a rel="nofollow" href="https://code.google.com/p/v8/source/browse/branches/bleeding_edge/src/promise.js#120">https://code.google.com/p/v8/source/browse/branches/bleeding_edge/src/promise.js#120</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNTI0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNTI0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMyNTI0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73432524">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="793faab63e44f6aa57f02217aac72f82">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="793faab63e44f6aa57f02217aac72f82" data-unfurl-authenticity-token="RlI5BG/WPb5HzIsIhSmMyvKVTdS21Gl7q0rHBtQoqGQhErrFAK/+3ADLYQ2qj4sjdS91BKzluRzTyeILPzLtBg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73432524">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73432524-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73432524" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73432524">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73432524" id="issuecomment-73432524-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:20:13Z" title="Feb 8, 2015, 11:20 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>So that</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>()
<span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
  <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
});</pre></div>
<div class="highlight highlight-source-js"><pre><span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
  <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
});
<span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>()</pre></div>
<p>Give the same result</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNzcy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyNzcy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMyNzcy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73432772">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="6c690c73201461e23903ea0be970c061">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="6c690c73201461e23903ea0be970c061" data-unfurl-authenticity-token="pUIzKj2t2EQBc50C8dti6B+BufOYXo9pbTQ3ZJZK9wHCArDrUtQbJkZ0dwfefWUBmDuBI4JvXw4VtxJpfVCyYw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73432772">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73432772-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73432772" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73432772">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73432772" id="issuecomment-73432772-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:24:39Z" title="Feb 8, 2015, 11:24 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Basically as soon as you write <code>Promise.reject()</code> v8 calls the rejection hook synchronously, so a setImmediate is synchronously called right as you call <code>Promise.reject()</code> - so this would cause those above snippets to have different result which is very undesirable I think.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyOTA3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMyOTA3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMyOTA3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73432907">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="34f680b7a79b1b01573e743580e10a3f">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="34f680b7a79b1b01573e743580e10a3f" data-unfurl-authenticity-token="4WSa2SUCGpshYPFicYeOHC8YDA3cdpOHiFGTvLUrQMqGJBkYSnvZ+WZnG2deIYn1qKI03cZHQ+Dw0raxXjEFqA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73432907">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73432907-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73432907" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73432907">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73432907" id="issuecomment-73432907-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:27:16Z" title="Feb 8, 2015, 11:27 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>That makes sense. However it's kind of a losing game, right? E.g. now you've just pushed off the problem so that</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();
<span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
  <span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span> () {
    <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
  });
});</pre></div>
<p>vs.</p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
  <span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span> () {
    <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
  });
});
<span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();</pre></div>
<p>give different results.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzMTMx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzMTMx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMzMTMx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73433131">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="8159195844649d7eb2a11355e9b6998a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="8159195844649d7eb2a11355e9b6998a" data-unfurl-authenticity-token="dQulOIFw8wRwbr8PYV0ou5HeuNuleCf9d+//U4b/XOwSSyb57gkwZjdpVQpO+y9SFmSAC79J95oPbNpebeUZjg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73433131">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73433131-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73433131" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73433131">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73433131" id="issuecomment-73433131-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:31:15Z" title="Feb 8, 2015, 11:31 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Oh right. Well, what I want is basically scheduleMacroTaskAfterAllOtherMacroTasks</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzMjM4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzMjM4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMzMjM4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73433238">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="622ff0de83451fe7dbc74d306a1ddfc2">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="622ff0de83451fe7dbc74d306a1ddfc2" data-unfurl-authenticity-token="24u/tgWndybvIK8XqZ/wHlkdTHut3zPBlbpH56L2oxK8yzx3at60RKgnRRKGOff33qd0q7fu46btOWLqSezmcA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73433238">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73433238-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73433238" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73433238">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73433238" id="issuecomment-73433238-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:33:29Z" title="Feb 8, 2015, 11:33 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Yeah I see. I think we should either do that or we should give up and let it be order-dependent.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzMjcx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzMjcx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMzMjcx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73433271">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="47d5294784fa317f4c7f02f83770846b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="47d5294784fa317f4c7f02f83770846b" data-unfurl-authenticity-token="AXXNoy7sPTw4sFpXJPnHdE/be0VruWUekNsa4qyZZ5JmNU5iQZX+Xn+3sFILX8CdyGFDlXGItXnoWD/vR4Mi8A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73433271">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73433271-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73433271" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73433271">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73433271" id="issuecomment-73433271-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:34:20Z" title="Feb 8, 2015, 11:34 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I should be able to add internal method that adds to setImmediate's "late queue". (it doesn't exist probably)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzNDE3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDMzNDE3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDMzNDE3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73433417">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="b148ef13919159e80fefce4e0eee62c3">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="b148ef13919159e80fefce4e0eee62c3" data-unfurl-authenticity-token="6v4e8C5hgNEFu3cP7z8clqBMSJ5FjWeF4zMclKXcKpuNvp0xQRhDs0K8nQrAmRt/J/ZwTl+8t+KbsDmZTsZv+Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73433417">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73433417-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73433417" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73433417">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73433417" id="issuecomment-73433417-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T21:36:56Z" title="Feb 8, 2015, 11:36 PM GMT+2">on Feb 8, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> what's so bad about a <code>setTimeout</code> with <code>0</code> like <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> suggested?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDM1NjQ5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDM1NjQ5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDM1NjQ5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73435649">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="96897ff2971bd2304bc66f14239ae42c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="96897ff2971bd2304bc66f14239ae42c" data-unfurl-authenticity-token="eJjisKB70vVOgXl+hsing0HmnNiicl6D644ydB8PFTAf2GFxzwIRlwmGk3upbqBqxlykCLhDjuSTDRd59BVQUg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73435649">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73435649-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73435649" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73435649">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73435649" id="issuecomment-73435649-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T22:19:06Z" title="Feb 9, 2015, 12:19 AM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> Even using <code>setTimeout</code> with <code>0</code> this fails:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">common</span>.<span class="pl-en">asyncTest</span>(<span class="pl-k">function</span>(<span class="pl-smi">done</span>) {
  <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>();
  <span class="pl-en">onUnhandledFail</span>(done);
  <span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
    <span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();
    <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
      <span class="pl-smi">a</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){});
    });
  })
});</pre></div>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDM1NzU1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDM1NzU1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDM1NzU1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73435755">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="51d014bbd02296fe2b65ce055af2195a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="51d014bbd02296fe2b65ce055af2195a" data-unfurl-authenticity-token="aNJZKlPfEyNiMDeb8ieOyXgWkb0XLnqouzCZFA5wwdgPktrrPKbQQSU33Z7dgYkg/6ypbQ0fqs/Ds7wZ5WqEug==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73435755">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73435755-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73435755" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73435755">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73435755" id="issuecomment-73435755-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T22:21:27Z" title="Feb 9, 2015, 12:21 AM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Given that I never care about looking dumb.... <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a>, what about <code>setTimeout(fn, 1)</code> :D? Wouldn't a non-zero value fix it?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDM1Nzky">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDM1Nzky" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDM1Nzky/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73435792">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="c67d09250142f37ed1bf332f58a7b657">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="c67d09250142f37ed1bf332f58a7b657" data-unfurl-authenticity-token="J9apoWOHex2Tctc0JdjLwWC3PfB09VqDuQEyNu7E/WFAlipgDP64f9R1PTEKfswo5w0FIG7EiuTBghc7Bd64Aw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73435792">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73435792-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73435792" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73435792">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73435792" id="issuecomment-73435792-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-08T22:22:09Z" title="Feb 9, 2015, 12:22 AM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>That causes this to fail</p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">common</span>.<span class="pl-en">asyncTest</span>(<span class="pl-k">function</span>(<span class="pl-smi">done</span>) {
  <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>();
  <span class="pl-en">onUnhandledFail</span>(done);
  <span class="pl-k">var</span> _reject;
  <span class="pl-k">var</span> promise <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Promise</span>(<span class="pl-k">function</span>(<span class="pl-smi">_</span>, <span class="pl-smi">reject</span>) {
    _reject <span class="pl-k">=</span> reject;
  });
  <span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
    <span class="pl-smi">promise</span>.<span class="pl-c1">then</span>(<span class="pl-smi">assert</span>.<span class="pl-smi">fail</span>, <span class="pl-k">function</span>(){});
  });
  <span class="pl-en">_reject</span>(e);
});</pre></div>
<p>FWIW the best behavior I got was using setImmediate with V8 microtask from promise. Any other combination I tried fails in mythical ways, almost as if setImmediate, setTimeout and nextTick were coupled in some strange ways.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDY1NTI4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDY1NTI4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDY1NTI4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73465528">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="33bfb641d15dc87a70a3f9f6e6a86c67">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="33bfb641d15dc87a70a3f9f6e6a86c67" data-unfurl-authenticity-token="rR1OtU/FosxYJxCy9rclSPVX23cYA8bQLtcFYYZJeo7KXc10ILxhrh8g+rfZESKhcu3jpwIyFrdWVCBsbVM/7A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73465528">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73465528-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73465528" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73465528">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73465528" id="issuecomment-73465528-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T07:03:41Z" title="Feb 9, 2015, 9:03 AM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Right, so a quick recap on where this PR stands.</p>
<p>Open issues with the PR:</p>
<ul>
<li>As <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> said a <code>WeakMap</code> + array isn't needed - we can do this with an array or a map. <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> has already started working on implementing it this way.</li>
<li>As <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> said, it's probably a good and the easiest thing thing to report after setImmediate (a macrotask). I believe that while this will not have awesome precision and might report false positives when async exception handlers are attached (which is itself very rare in my experience) the alternatives have proven to be inconsistent. So I suggest logging unhandled rejections this way - the added benefit is that we can always improve precision and recall of this at a later PR.</li>
</ul>
<p>Things that are interesting to talk about as a result of the PR but should not postpone it:</p>
<ul>
<li>A <em>default</em> handler to untracked rejections. There are a lot of strong opinions on this and it's a very big issue that can be a breaking change. In my opinion it should be postponed to a future PR</li>
<li>Discussing how to run the hook with a guarantee a whole macro+micro task has passed - as several people have noted this has proven to be very hard because of how <code>setImmediate</code> and other deferring mechanisms are implemented (namely - things like the fact a nested setImmediate does not act the same as a non-nested one).</li>
</ul>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjMyNDEyNDI2">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-232412426">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:232412426,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A18B2:7C1EF6B:5C1788D1&quot;,&quot;originating_url&quot;:&quot;https://github.com/nodejs/node/pull/758&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="8f5b798d1113349059c525c750ff9df4981999e8d933789d8b7b781f25febc61" href="https://github.com/nodejs/node/compare/afa3db472c5b599ab3149cd8c3ab4723d2c27f63..55bfe7c321b9f603d712f6e8ff4147779ce5b30c">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-232412426" class="timestamp"><relative-time datetime="2015-02-09T12:10:31Z" title="Feb 9, 2015, 2:10 PM GMT+2">on Feb 9, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDk5NTI1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNDk5NTI1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNDk5NTI1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73499525">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="1e067d13aebd7e8965ce44f48ddc18ca">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="1e067d13aebd7e8965ce44f48ddc18ca" data-unfurl-authenticity-token="aKkUkpxolg6oeg07Gcr4zu4mXpk3qdhf99sxmhIRGiQP6ZdT8xFVbO995z42bP8naZxmSS2YCDiPWBSX+QtfRg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73499525">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73499525-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73499525" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73499525">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73499525" id="issuecomment-73499525-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T12:17:41Z" title="Feb 9, 2015, 2:17 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Rebased, fixed <a href="https://github.com/iojs/io.js/pull/758#issuecomment-73465528" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard" aria-describedby="hovercard-aria-description">issues</a> and squashed all commits into one</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxNzg6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24325107" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24325107" class="timestamp">
              <relative-time datetime="2015-02-09T12:37:34Z" title="Feb 9, 2015, 2:37 PM GMT+2">on Feb 9, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24325107" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24325107R397" data-line-number="397" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var kPromiseHandlerAddedAfterReject = 1;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24325107R398" data-line-number="398" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24325107R399" data-line-number="399" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var timers = NativeModule.require('timers');</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24325107R400" data-line-number="400" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var pendingRejections = [];</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325107" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1MTA3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1MTA3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="0e858d6fcd13938eedfe220057d81050">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="0e858d6fcd13938eedfe220057d81050" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325107">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325107-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325107" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325107">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325107" id="discussion_r24325107-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:37:34Z" title="Feb 9, 2015, 2:37 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>is it better than <code>Map</code>?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325189" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1MTg5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1MTg5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="008600d6e29a9cd1b36e91734a601e97">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="008600d6e29a9cd1b36e91734a601e97" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325189">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325189-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325189" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325189">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325189" id="discussion_r24325189-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:39:31Z" title="Feb 9, 2015, 2:39 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> not that it should matter that much but it's much faster than a map and the performance is more predictable from what I understand. Especially since all you do to it anyway is just iterate it once.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325232" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1MjMy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1MjMy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ae54625ce6bbc707ec2fbc1277ad4834">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ae54625ce6bbc707ec2fbc1277ad4834" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325232">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325232-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325232" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325232">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325232" id="discussion_r24325232-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:40:50Z" title="Feb 9, 2015, 2:40 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I'm worried about splicing</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325296" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1Mjk2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1Mjk2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b14d0c7c4f3b63553b19114b0601e8a9">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b14d0c7c4f3b63553b19114b0601e8a9" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325296">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325296-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325296" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325296">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325296" id="discussion_r24325296-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:42:07Z" title="Feb 9, 2015, 2:42 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> yes <a rel="nofollow" href="https://twitter.com/jashkenas/status/563736012313350144/photo/1">https://twitter.com/jashkenas/status/563736012313350144/photo/1</a></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325466" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1NDY2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1NDY2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="d118530220791d785dd61afbac81b5fe">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="d118530220791d785dd61afbac81b5fe" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325466">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325466-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325466" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325466">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325466" id="discussion_r24325466-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:46:33Z" title="Feb 9, 2015, 2:46 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><code>for..of</code> prevents optimizations,  but what about <code>forEach</code>?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325483" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1NDgz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1NDgz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="30b496b409e2d233fd0c3727c7a10dde">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="30b496b409e2d233fd0c3727c7a10dde" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325483">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325483-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325483" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325483">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325483" id="discussion_r24325483-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:46:58Z" title="Feb 9, 2015, 2:46 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Yes splicing is slow too (can implement custom splice if you need), but nothing compared to using maps and iterator protocols.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325756" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1NzU2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1NzU2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="346df0fd401ee9bf45271c0175085fd3">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="346df0fd401ee9bf45271c0175085fd3" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325756">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325756-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325756" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325756">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325756" id="discussion_r24325756-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:53:24Z" title="Feb 9, 2015, 2:53 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>It's not about optimizations but how the iterator protocol is specified - every iteration allocates an object with done and value properties. However forEach could be interesting as V8 shares the iteration object between iterations. But the main reason of using array is that it's going to be small in practice, typically 0 or 2 items.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24325959" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1OTU5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI1OTU5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f7b2edb96da169fe350873f97e548ba1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f7b2edb96da169fe350873f97e548ba1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24325959">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24325959-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24325959" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24325959">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24325959" id="discussion_r24325959-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T12:59:01Z" title="Feb 9, 2015, 2:59 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>see <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="54893949" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/525" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/525/hovercard" href="https://github.com/nodejs/node/pull/525" aria-describedby="hovercard-aria-description">#525</a>. <code>for..of</code> is much slower than iterating manually, though we reused <code>IterationResult</code> objects</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24327257" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI3MjU3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzI3MjU3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9c74ea47be67cc3200d3a4769ea5a6ef">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9c74ea47be67cc3200d3a4769ea5a6ef" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24327257">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24327257-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24327257" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24327257">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24327257" id="discussion_r24327257-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T13:27:45Z" title="Feb 9, 2015, 3:27 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> I'm not sure what that twit proves or shows. <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> said he is worried about the impact of <code>.splice</code>ing for removing from the array.</p>
<p>At the moment <a href="https://github.com/v8/v8/blob/master/src/collection.js#L230">deleting from a map</a> does <a href="https://github.com/v8/v8/blob/2816532d00405d1adc1b546d1ab464277537ed86/src/runtime/runtime-collections.cc#L150-L161">this</a> - removing from an OrderedHashMap which in turn <a href="https://github.com/v8/v8-git-mirror/blob/master/src/objects.h#L4019">inherits from OrderedHashTable</a> which has a <a href="https://github.com/v8/v8-git-mirror/blob/master/src/objects.h#L3850-L3999">Remove</a> implemented in objects.cc line 16104 calling RemoveEntry in L16207 which puts a hole in the map where the entry was. The crux here is that ECMAScript maps are ordered by insertion order so they have to maintain order anyway - so there is something akin to an array splice going on anyway - even if v8 will improve its implementation.</p>
<p>For sizes this big it shouldn't matter very much anyway since rejections are rare. If we want performance that is at the theoretical bound of a map we can put <code>null</code>s in the array instead of splicing and skipping them during iteration - like a map does.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjMyNDUxNDgy">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-232451482">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:232451482,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A18B2:7C1EF6B:5C1788D1&quot;,&quot;originating_url&quot;:&quot;https://github.com/nodejs/node/pull/758&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="142d4d6b58b725fb6a10fe0b19d6d056eb8639646908b420d406cdaab08eff08" href="https://github.com/nodejs/node/compare/1d3f3dbfe4de790ba7a4027cd63abe81a06c03e1..84006f259a71ef21424aa98b0bfd485bbcc17fc2">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-232451482" class="timestamp"><relative-time datetime="2015-02-09T13:33:01Z" title="Feb 9, 2015, 3:33 PM GMT+2">on Feb 9, 2015</relative-time></a>

  </h3>
</div>




</div>


  <div id="js-progressive-timeline-item-container">
  <!-- '"` --><!-- </textarea></xmp> -->


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIwOkNyb3NzUmVmZXJlbmNlZEV2ZW50NDk0NzgwMTY=">
  
        <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-57012772">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1093990" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Fishrock123" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@Fishrock123" src="https://avatars0.githubusercontent.com/u/1093990?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1093990" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Fishrock123" aria-describedby="hovercard-aria-description">Fishrock123</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-57012772">
        <relative-time datetime="2015-02-09T15:05:54Z" title="Feb 9, 2015, 5:05 PM GMT+2">on Feb 9, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/node/issues/768" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/768/hovercard" aria-describedby="hovercard-aria-description">
          Release proposal: v1.2.0
          <span class="issue-num">#768</span>
</a>      </h4>
    

    


  

</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxODE6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24338101" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24338101" class="timestamp">
              <relative-time datetime="2015-02-09T15:57:20Z" title="Feb 9, 2015, 5:57 PM GMT+2">on Feb 9, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24338101" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338101R427" data-line-number="427" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    }</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338101R428" data-line-number="428" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338101R429" data-line-number="429" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    function rejectionHandled(promise) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338101R430" data-line-number="430" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      if (pendingRejections.has(promise)) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24338101" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzM4MTAx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzM4MTAx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="a41ee1014c7aa70864efc740a00f9532">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="a41ee1014c7aa70864efc740a00f9532" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24338101">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24338101-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24338101" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24338101">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24338101" id="discussion_r24338101-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T15:57:20Z" title="Feb 9, 2015, 5:57 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>no curly braces for one-line bodies</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxODQ6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24338112" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24338112" class="timestamp">
              <relative-time datetime="2015-02-09T15:57:30Z" title="Feb 9, 2015, 5:57 PM GMT+2">on Feb 9, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24338112" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338112R435" data-line-number="435" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    }</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338112R436" data-line-number="436" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338112R437" data-line-number="437" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    process._setupPromises(function(event, promise, value) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24338112R438" data-line-number="438" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      if (event === kPromiseRejectWithNoHandler) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24338112" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzM4MTEy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzM4MTEy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="17411680c70a1a360ea54f273c89deb1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="17411680c70a1a360ea54f273c89deb1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24338112">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24338112-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24338112" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24338112">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24338112" id="discussion_r24338112-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-09T15:57:30Z" title="Feb 9, 2015, 5:57 PM GMT+2">on Feb 9, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>ditto</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM0NzQx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM0NzQx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM0NzQx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73534741">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="224bab29d871a8b075381603c368056f">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="224bab29d871a8b075381603c368056f" data-unfurl-authenticity-token="F6zvWGY1w/bEe+sUq2R/efxt7HHS+qpsMKM83EsTkLxw7GyZCUwAlIN8ARGEwniQe9fUocjLegtIIBnRoAnV3g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73534741">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73534741-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73534741" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73534741">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73534741" id="issuecomment-73534741-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:05:38Z" title="Feb 9, 2015, 6:05 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> Fixed one-line block braces.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM1NTUy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM1NTUy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM1NTUy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73535552">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="e0e75d59437c2e1d771341ffc835d025">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="e0e75d59437c2e1d771341ffc835d025" data-unfurl-authenticity-token="nXujyo7fZ0socbvgQQz1ihtGgms5R0/xk4aGYtHKOJ/6OyAL4aakKW92UeVuqvJjnPy6uyN2n5brBaNvOtB9/Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73535552">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73535552-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73535552" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73535552">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73535552" id="issuecomment-73535552-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:09:53Z" title="Feb 9, 2015, 6:09 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I see two problems:</p>
<ol>
<li><code>setImmediate</code>. We can do better. Right now implementation looks random and unjustified. If we want to flush notifications at the very end of event loop turn, we should do THAT. <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> said that he probably needs to fix the spec. So there's clearly a lot to think about.</li>
<li>Think about the following case. We want to throw by default (or whatever default action). Some module wants to suppress this behaviour for specific promises because it's ok for them to be in rejected state. How can you do that with current implementation?</li>
</ol>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM2Njc5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM2Njc5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM2Njc5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73536679">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="338d4e887ec0fcaedea445e03663de6a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="338d4e887ec0fcaedea445e03663de6a" data-unfurl-authenticity-token="Kcc7Ah4ndgBFqR7j1z7p2hTPHLmOdz9GauyG8YepJhJOh7jDcV61YgKu9Ob4mO4zk3UkaZRG7yESb6P8bLNjcA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73536679">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73536679-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73536679" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73536679">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73536679" id="issuecomment-73536679-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:15:55Z" title="Feb 9, 2015, 6:15 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <ol>
<li>The spec is fine, just that there is nothing in io.js that is called at the end of turn all the time. <code>setImmediate</code> is closest but if you are already in a setImmediate callback then any further setImmediate is called synchronously instead of being called at the end of the turn. The implementation you suggested using <code>setAfterLoopCallback</code> randomly drops out and simply doesn't call the callback.</li>
<li>As <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> said, you can attach a <code>.catch(functon(){})</code> if you want to suppress unhandled rejection for specific promises.</li>
</ol>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM2NzQ4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM2NzQ4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM2NzQ4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73536748">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="327f13c671e7133f877f94a698e4a1fc">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="327f13c671e7133f877f94a698e4a1fc" data-unfurl-authenticity-token="6Q8Y6YELh8oeEC6EZo1s9fih56jdx7mRuhB9AcwnceqOT5so7nJEqFkXxIFJK2scfxvfeMf2afbCk1gMJz00iA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73536748">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73536748-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73536748" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73536748">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73536748" id="issuecomment-73536748-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:16:10Z" title="Feb 9, 2015, 6:16 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>setImmediate. We can do better. Right now implementation looks random and unjustified. If we want to flush notifications at the very end of event loop turn, we should do THAT. <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> said that he probably needs to fix the spec. So there's clearly a lot to think about.</p>
</blockquote>
<p>It's certainly not random after all the discussions we've had about it and different attempts. The time we defer to can and should be further finer grained in the future to a more precise estimation. In practice bluebird and when (existing userland implementations of this) don't wait even that long since synchronous adding of error handlers is a very very very rare thing to do anyway so I think we should go forward with this and improve the detection logic later - this in no way prevents further pull requests from waiting more time for the report.</p>
<blockquote>
<p>Think about the following case. We want to throw by default (or whatever default action). Some module wants to suppress this behaviour for specific promises because it's ok for them to be in rejected state. How can you do that with current implementation?</p>
</blockquote>
<p>Throwing by default is a <strong>big</strong> choice to make and it's very divisive (read Domenic's comments above) - it's also a breaking change. I think it should be deferred to a future PR and issue and not discussed here - these hooks are very useful even without a default active action and adding it at a later point will be just as easy.</p>
<p>I think we should debate this elsewhere but a module can suppress this for a single promise by adding a <code>.catch(function(){})</code> to it for ignoring rejections for example as Domenic said in the original issue.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM3MDcw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM3MDcw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM3MDcw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73537070">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="3a25f6831b103d17a775002043827d2a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="3a25f6831b103d17a775002043827d2a" data-unfurl-authenticity-token="nA+47Sl8V7bABuc7BuRRbJsHjvgY5AfNll0B0D+oojP7TzssRgWU1IcBDT4pQlaFHL22KALV16ru3iTd1LLnUQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73537070">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73537070-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73537070" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73537070">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73537070" id="issuecomment-73537070-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:17:49Z" title="Feb 9, 2015, 6:17 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> the spec is not exactly fine; it says to enqueue a task (equivalent to setImmediate), and not anything about the end of turn. I think either would be OK.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM4MzU1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM4MzU1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM4MzU1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73538355">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="13e388f66abe102a688d28dee25c114b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="13e388f66abe102a688d28dee25c114b" data-unfurl-authenticity-token="Do1KDJMLj09EMyI+4iiL07R2Us1BlN5hm21dws7wRTFpzcnN/HJMLQM0yDvNjow6M8xqHVulDgbj7njPJeoAUw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73538355">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73538355-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73538355" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73538355">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73538355" id="issuecomment-73538355-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:24:30Z" title="Feb 9, 2015, 6:24 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a></p>
<blockquote>
<p>there is nothing in io.js that is called at the end of turn all the time</p>
</blockquote>
<p>We can make it. There is no much value in this being in core if just use "what we have".</p>
<blockquote>
<p>you can attach a .catch(functon(){})</p>
</blockquote>
<p>yeah, that works. I somehow missed it.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> what if we just use microtask instead? that would be so much easier</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM4NTIy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM4NTIy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM4NTIy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73538522">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="d138de13cc58e9c25a157ccfe15d011a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="d138de13cc58e9c25a157ccfe15d011a" data-unfurl-authenticity-token="cTU/LQYXRIzXekUvTogs5vSdQEEP8N2UIBOZyr//Y80WdbzsaW6H7pB9ryphLisPcyd4kRXBDfNYkLzHVOUmrw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73538522">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73538522-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73538522" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73538522">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73538522" id="issuecomment-73538522-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:25:23Z" title="Feb 9, 2015, 6:25 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a>  basically the point is to be able to say <code>Promise.reject(...).catch(function(){})</code> and it should never cause any notification. If we can achieve that with microtask, that's fine  by me.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM5NjA4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM5NjA4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM5NjA4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73539608">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="83a2fac99bf1e29bb45dddced584a136">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="83a2fac99bf1e29bb45dddced584a136" data-unfurl-authenticity-token="1HijW1dgAyeodZ6ek3fIogz7t7etDdzz5EnZTwd7OUWzOCCaOBnARe9ydJu80c9Li0GPZ7c8DJScyvxC7GF8Jw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73539608">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73539608-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73539608" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73539608">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73539608" id="issuecomment-73539608-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:30:47Z" title="Feb 9, 2015, 6:30 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> we can! also I think it's safe to do this now and change later to <code>setImmediate</code> or something else.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM5NjMy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTM5NjMy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTM5NjMy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73539632">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="c0690a75300bc023e270b329af2565fd">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="c0690a75300bc023e270b329af2565fd" data-unfurl-authenticity-token="xzEGQu7hko7D8I4yI1RhZQQcM1v7HH5LNnYR9i7fm+SgcYWDgZhR7IT3ZDcM8maMg6YLi+EtrixO9TT7xcXehg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73539632">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73539632-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73539632" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73539632">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73539632" id="issuecomment-73539632-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:30:55Z" title="Feb 9, 2015, 6:30 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> no, microtask is pretty bad, as you want to at least be able to delay deciding to catch by a microtask. Honestly I'd be more comfortable with e.g. 1 second, but that's too arbitrary, so a macrotask is better.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwMTA2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwMTA2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQwMTA2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73540106">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="e82c613a0a525d63c62d6e1ebecae8a6">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="e82c613a0a525d63c62d6e1ebecae8a6" data-unfurl-authenticity-token="AOzNbk52VXj8Dj27iZMydhBl5rrfg1XTqBv8lzp/laZnrE6vIQ+WGrsJ176mNTWfl9/easWyhbTQmNma0WXQxA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73540106">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73540106-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73540106" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73540106">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73540106" id="issuecomment-73540106-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:33:25Z" title="Feb 9, 2015, 6:33 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>as you want to at least be able to delay deciding to catch by a microtask</p>
</blockquote>
<p>so you want this to work:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();

<span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
  <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">...</span>);
});</pre></div>
<p>we can do that, no need for <code>setImmediate</code></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwMTg4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwMTg4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQwMTg4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73540188">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="c06fcb39a0a6d8ce61e2355d780bba7c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="c06fcb39a0a6d8ce61e2355d780bba7c" data-unfurl-authenticity-token="zrGilMwdh6yrBIUKEU7O/ThZY2wCXiWOkNmu7R/hMQ6p8SFVo2REzuwDbw8+6MkUv+NbvBhv9enoWovg9Pt0bA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73540188">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73540188-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73540188" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73540188">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73540188" id="issuecomment-73540188-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:33:51Z" title="Feb 9, 2015, 6:33 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>The point I'm trying to make here is that anything that defers to any later<br>
turn of the loop will catch the vast majority of unhandled rejections and<br>
either version will report back handled ones just fine - this can and<br>
should be fine grained later. I'm like <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> - ok with any variant<br>
that defers execution including nextTick, however if we're using one we<br>
might as well use setImmediate like Domenic suggested since it has that<br>
added benefit.</p>
<p>On Mon, Feb 9, 2015 at 4:31 PM, Domenic Denicola <a href="mailto:notifications@github.com">notifications@github.com</a><br>
wrote:</p>
<blockquote>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> <a href="https://github.com/vkurchatkin">https://github.com/vkurchatkin</a> no, microtask is pretty<br>
bad, as you want to at least be able to delay deciding to catch by a<br>
microtask. Honestly I'd be more comfortable with e.g. 1 second, but that's<br>
too arbitrary, so a macrotask is better.</p>
<p>—<br>
Reply to this email directly or view it on GitHub<br>
<a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard?comment_id=73539632&amp;comment_type=issue_comment" href="https://github.com/nodejs/node/pull/758#issuecomment-73539632" aria-describedby="hovercard-aria-description">#758 (comment)</a>.</p>
</blockquote>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwNzY5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwNzY5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQwNzY5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73540769">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="56e2a145700899151fe108369058c06b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="56e2a145700899151fe108369058c06b" data-unfurl-authenticity-token="COaH8uui9MGrO4EaRhbp1+vrEFMcJuwhUKQ042eHEnFvpgQzhNs3o+w8ax9psO4+bFEogwYXPEYoJxHujJ1XEw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73540769">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73540769-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73540769" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73540769">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73540769" id="issuecomment-73540769-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:36:30Z" title="Feb 9, 2015, 6:36 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><code>setImmediate</code> cause this: <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard?comment_id=73428399&amp;comment_type=issue_comment" href="https://github.com/nodejs/node/pull/758#issuecomment-73428399" aria-describedby="hovercard-aria-description">#758 (comment)</a><br>
To avoid it you will have to call <code>setImmediate</code> for each rejection, not just once</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwOTM5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQwOTM5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQwOTM5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73540939">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="84f032e52ed63a6d3fce9ced39f4d467">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="84f032e52ed63a6d3fce9ced39f4d467" data-unfurl-authenticity-token="Vgei/X2tU7iHAA0a/sht0jGKdsjr7fNMBIdGcy9J3VkxRyE8EtSQ2sAH5x/Rbmo7tjBOGPHcIyt8BGN+xFOYOw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73540939">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73540939-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73540939" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73540939">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73540939" id="issuecomment-73540939-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:37:21Z" title="Feb 9, 2015, 6:37 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> I also want that to work for any arbitrary nesting of process.nextTick and Promise.resolve().then(fn).</p>
<p>I also want to do something that can work well in both browsers and Node.js. Right now setImmediate (including the test case you point out) is a good analogue, because it's equivalent to queueing a task. Maybe we could investigate an end-of-task thing as well.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQxMTAx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQxMTAx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQxMTAx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73541101">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="adcd35f71b65673ce7b8a4ec4cdd46c2">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="adcd35f71b65673ce7b8a4ec4cdd46c2" data-unfurl-authenticity-token="UGhuXaNldlLhrm1qLC2bTttRexaCe3cqtxRSDVVl6yY3KO2czBy1MKaph28Di5ynXOtDxphKp03Pl3cAvn+uRA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73541101">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73541101-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73541101" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73541101">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73541101" id="issuecomment-73541101-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:38:08Z" title="Feb 9, 2015, 6:38 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> we can call setImmediate for each rejection that's fine with me - Petka?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQyMDEx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQyMDEx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQyMDEx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73542011">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="433db349aaba79f371760a649de4f6df">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="433db349aaba79f371760a649de4f6df" data-unfurl-authenticity-token="Qb7gaR4zL6rokieStSB6OQph34raNd/Z5MvfiUi+vncm/mOocUrsyK+VzZeahn3QjdvnWsAED76cSPqEo6T7FQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73542011">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73542011-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73542011" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73542011">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73542011" id="issuecomment-73542011-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:42:34Z" title="Feb 9, 2015, 6:42 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> that's possible, we have full control of it</p>
<blockquote>
<p>Maybe we could investigate an end-of-task thing as well.</p>
</blockquote>
<p>could you elaborate on that?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQyMzY2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQyMzY2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQyMzY2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73542366">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="dd81bad100eb4f744770aa92e0f636f2">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="dd81bad100eb4f744770aa92e0f636f2" data-unfurl-authenticity-token="TRq7bt9PKkyzzJibGH2zf1+ZtTeX0zK2qlbS3WxXEAsqWjivsDbpLvTLcp4327SW2CON543i4tHS1ffQh01VaQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73542366">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73542366-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73542366" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73542366">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73542366" id="issuecomment-73542366-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:44:19Z" title="Feb 9, 2015, 6:44 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> I don't know if browsers and related specs have a similar notion to "run this after all other macrotasks". So we'd want to investigate if they do, or are willing to add one, before creating such a notion in io.js to use for this feature.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ1MzE3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ1MzE3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQ1MzE3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73545317">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="a3431315aab46ee8849bff1435dfde49">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="a3431315aab46ee8849bff1435dfde49" data-unfurl-authenticity-token="0I14EMUwQQ1n7wM/YHM70sJ8CE4yyPuVjB+ENmCbac63zfvRqkmCbyDo6TpP1Tw7RcYwnij5K/L0nKE7i4EsrA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73545317">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73545317-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73545317" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73545317">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73545317" id="issuecomment-73545317-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T16:58:32Z" title="Feb 9, 2015, 6:58 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Using unique <code>setImmediate</code> per promise fixes this:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">common</span>.<span class="pl-en">asyncTest</span>(<span class="pl-k">function</span>(<span class="pl-smi">done</span>) {
  <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>();
  <span class="pl-en">onUnhandledFail</span>(done);
  <span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>(e);

  <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
    <span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span>() {
      <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
        <span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span>() {
          <span class="pl-smi">a</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>()&nbsp;{});
        })
      })
    })
  });
});</pre></div>
<p>So that you can now interleave as many microtasks in between and there is no notification.</p>
<p>However still same problem persist as before, when you are already inside setImmediate callback, the whole thing blows up.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ1NjI2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ1NjI2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQ1NjI2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73545626">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="82828a2b9b89a462ad49cfa1e48ef354">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="82828a2b9b89a462ad49cfa1e48ef354" data-unfurl-authenticity-token="NGXbrnlOI2LqdtgAZTzuVIAWfvA7pkP9FUCqNzKoXGdTJVhvFjfgAK1xMgVKmum9B6xGICGXk5ptw4862bIZBQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73545626">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73545626-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73545626" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73545626">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73545626" id="issuecomment-73545626-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:00:07Z" title="Feb 9, 2015, 7:00 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Would a <code>setTimeout(..., 0)</code> fix that?</p>
<p>On Mon, Feb 9, 2015 at 4:59 PM, Petka Antonov <a href="mailto:notifications@github.com">notifications@github.com</a><br>
wrote:</p>
<blockquote>
<p>Using unique setImmediate per promise fixes this:</p>
<p>common.asyncTest(function(done) {<br>
var e = new Error();<br>
onUnhandledFail(done);<br>
var a = Promise.reject(e);</p>
<p>process.nextTick(function() {<br>
Promise.resolve().then(function() {<br>
process.nextTick(function() {<br>
Promise.resolve().then(function() {<br>
a.catch(function() {});<br>
})<br>
})<br>
})<br>
});<br>
});</p>
<p>So that you can now interleave as many microtasks in between and there is<br>
no notification.</p>
<p>However still same problem persist as before, when you are already inside<br>
setImmediate callback, the whole thing blows up.</p>
<p>—<br>
Reply to this email directly or view it on GitHub<br>
<a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard?comment_id=73545317&amp;comment_type=issue_comment" href="https://github.com/nodejs/node/pull/758#issuecomment-73545317" aria-describedby="hovercard-aria-description">#758 (comment)</a>.</p>
</blockquote>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ2Njcx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ2Njcx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQ2Njcx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73546671">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="08b099251a5f7874a42514a515bcac79">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="08b099251a5f7874a42514a515bcac79" data-unfurl-authenticity-token="t0h7sxoj7Kl4Hkzp0ZS3qTbRwd4gsONZU4BtQq04vwrQCPhydVovyz8Zpuz+MrBAsWv5DjqBMz4rA0hPRiL6aA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73546671">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73546671-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73546671" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73546671">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73546671" id="issuecomment-73546671-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:05:24Z" title="Feb 9, 2015, 7:05 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>setTimeout sometimes fires before setImmediate and sometimes after... making some tests fail randomly</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ5OTk1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTQ5OTk1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTQ5OTk1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73549995">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="24c643c15a619c76036cba4b12d26cc6">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="24c643c15a619c76036cba4b12d26cc6" data-unfurl-authenticity-token="u/9aW+THa0onpwJ81hhnN2RkOCtII0c2WCwzV4etSvPcv9mai76oKGCg6Hn5vmDe494A+1ISl1EgrxZabLcPkQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73549995">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73549995-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73549995" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73549995">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73549995" id="issuecomment-73549995-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:23:01Z" title="Feb 9, 2015, 7:23 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> how do you think we should go forward?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTUwMjA5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTUwMjA5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTUwMjA5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73550209">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="59f5d66ecb439a606a313688fa8efd4a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="59f5d66ecb439a606a313688fa8efd4a" data-unfurl-authenticity-token="Lgh9RbOLLQwRx8gRq/6ttNDSRrTDycg3hmHTQ+IiSTRJSP6E3PLublbAIhSEWKpdV2h+ZNn4GFD+4vZOCTgMVg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73550209">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73550209-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73550209" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73550209">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73550209" id="issuecomment-73550209-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:24:19Z" title="Feb 9, 2015, 7:24 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> Well I am doing _setLateImmediate which adds to a late queue which is only drained when the early immediate queue has been completely drained.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTUzNzAw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTUzNzAw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTUzNzAw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73553700">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="22895f5dbb3940ccea3265704e522a35">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="22895f5dbb3940ccea3265704e522a35" data-unfurl-authenticity-token="mVL8+r7m1dPZz4j8W/0W08blL1QloMVZHUWOI08niQH+En870Z8WsZ7IYvl0WxE6QV8XhD+RFT5lxqsupD3MYw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73553700">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73553700-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73553700" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73553700">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73553700" id="issuecomment-73553700-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:42:47Z" title="Feb 9, 2015, 7:42 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I think we should emit notifications after microtasks right now. It could be safely changed later</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTU0Mzg0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTU0Mzg0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTU0Mzg0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73554384">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="532b1eb4d12e64ba470a00de700f0d9c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="532b1eb4d12e64ba470a00de700f0d9c" data-unfurl-authenticity-token="eewmArvCzCUKSN3G1BdrfhN3CHySspja4QQfE6mJbLQerKXD1LsPR01PN8P7sWyXlM0wrIiDSL2ZhzoeQpMp1g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73554384">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73554384-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73554384" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73554384">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73554384" id="issuecomment-73554384-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:46:24Z" title="Feb 9, 2015, 7:46 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I strongly disagree and would rather not this be merged if those are the semantics.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTU0NTY2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTU0NTY2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTU0NTY2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73554566">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ed73803c042fe77c7d131faff1b72414">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="ed73803c042fe77c7d131faff1b72414" data-unfurl-authenticity-token="sz71vc3PFZR5HaagRwcQTgkaHAZ9vt3SemIdoN6gLH3UfnZ8orbW9j4aTKVooRenjqAk1mePDbUC4TitNbppHw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73554566">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73554566-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73554566" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73554566">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73554566" id="issuecomment-73554566-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:47:28Z" title="Feb 9, 2015, 7:47 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Well I have already implemented late immediates and late microtasks, <code>timers._setLateImmediate</code> will run the given callback after all other immediates are ran and after all other microtasks are ran.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTU2MDcz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTU2MDcz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTU2MDcz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73556073">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="fbe9661db1efc9f9d2c1a94cb57c61ed">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="fbe9661db1efc9f9d2c1a94cb57c61ed" data-unfurl-authenticity-token="PBeLDWpB0iJwVXy+pmKwfbr6vHDNTPt3isFsRZZ6gWZbVwjMBTgRQDdSlruJxLeUPUCEoNd9KxDyQklIfWDEBA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73556073">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73556073-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73556073" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73556073">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73556073" id="issuecomment-73556073-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T17:56:13Z" title="Feb 9, 2015, 7:56 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> what's the problem? All nested nextTicks and microtasks would run before</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTYzNDE5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNTYzNDE5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNTYzNDE5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73563419">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="3b31ce405f48c378a99ac7727980cf20">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="3b31ce405f48c378a99ac7727980cf20" data-unfurl-authenticity-token="KHSMhwWkjvQ/2Y1stCqWH2oWk/04/R6+KwfiL4M7zlRPNA9Gat1NlnjeZ2mbjJH27ayrLSLMztlThMciaCGLNg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73563419">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73563419-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73563419" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73563419">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73563419" id="issuecomment-73563419-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-09T18:36:49Z" title="Feb 9, 2015, 8:36 PM GMT+2">on Feb 9, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I have now working implementation of <code>lateTick</code> which is basically run microtask after all microtasks have been completely drained. So this means you can do any combination of nested microtasks and no notification is caused:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> Doesn't cause any notification</span>
<span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();
<span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span>() {
    <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
        <span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span>() {
            <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
                <span class="pl-smi">a</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>() {});
            });
        });
    });
});</pre></div>
<p>Isn't this what you wanted <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> ?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjMyNjc1NTk0">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-232675594">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:232675594,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A23D9:7C1F505:5C1788D7&quot;,&quot;originating_url&quot;:&quot;https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/timeline/more_items?variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABS26LCsgBqTIzMjQ1MTQ4Mg%3D%3D&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABS73zdQAH2gAxMjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA%3D%3D&amp;variables%5Bfirst%5D=60&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;utf8=%E2%9C%93&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="5d27973853f08ff7afbca7ddd14ccfd5af1ef5ed51a42a4464e29e686e64f86e" href="https://github.com/nodejs/node/compare/e16a76c78f4c1d7eb91652ee60edf1ebb9136a13..65ea8f55e18e5251e521c88c7fdebb8d20ac6b9f">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-232675594" class="timestamp"><relative-time datetime="2015-02-09T18:45:20Z" title="Feb 9, 2015, 8:45 PM GMT+2">on Feb 9, 2015</relative-time></a>

  </h3>
</div>


  <div class="discussion-item discussion-item-labeled" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-232700095">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-tag" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1093990" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Fishrock123" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@Fishrock123" src="https://avatars0.githubusercontent.com/u/1093990?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1093990" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Fishrock123" aria-describedby="hovercard-aria-description">Fishrock123</a>
  


      

  added
  the 
<span class="IssueLabel d-inline-block v-align-middle" title="Issues opened for discussions and feedbacks." style="background-color: #02d7e1;">
  <a class="lh-condensed-ultra" href="https://github.com/nodejs/node/labels/discuss" style="color: #000000;">discuss</a>
</span>
 label


    <a href="https://github.com/nodejs/node/pull/758#event-232700095" class="timestamp"><relative-time datetime="2015-02-09T19:20:16Z" title="Feb 9, 2015, 9:20 PM GMT+2">on Feb 9, 2015</relative-time></a>

  </h3>
</div>


  <div class="discussion-item discussion-item-labeled" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-232896735">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-tag" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@rvagg" src="https://avatars3.githubusercontent.com/u/495647?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  


      

  added
  the 
<span class="IssueLabel d-inline-block v-align-middle" style="background-color: #5319e7;">
  <a class="lh-condensed-ultra" href="https://github.com/nodejs/node/labels/tc-agenda" style="color: #ffffff;">tc-agenda</a>
</span>
 label


    <a href="https://github.com/nodejs/node/pull/758#event-232896735" class="timestamp"><relative-time datetime="2015-02-10T00:53:37Z" title="Feb 10, 2015, 2:53 AM GMT+2">on Feb 10, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjI4NTkw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjI4NTkw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjI4NTkw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73628590">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="f9b1bf871ebe669cc542924613829db3">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="f9b1bf871ebe669cc542924613829db3" data-unfurl-authenticity-token="6Prlw+sczK7zM4FIBlKZwt2LKXFbrSbqEOX7r4y1osGPumYChGUPzLQ0a00p9J4rWjERoUGc9o1oZt6iZ6/now==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73628590">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73628590-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73628590" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73628590">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73628590" id="issuecomment-73628590-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T01:38:10Z" title="Feb 10, 2015, 3:38 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>So this means you can do any combination of nested microtasks and no notification is caused:</p>
</blockquote>
<p>I guess this is OK. I am unsure it is as good, because sometimes you'd rather be able to enqueue a full task in between. (In general I am in favor of later, as noted above.) With that in mind can you explain</p>
<blockquote>
<p>However still same problem persist as before, when you are already inside setImmediate callback, the whole thing blows up.</p>
</blockquote>
<p>?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjI4OTk2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjI4OTk2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjI4OTk2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73628996">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="11c1a16a848437eedcb0fe22ed43dea9">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="11c1a16a848437eedcb0fe22ed43dea9" data-unfurl-authenticity-token="iC8blshuLaM+h6sTJ+BujtfnaAtKF7flPAsaBaUCFIfvb5hXpxfuwXmAQRYIRmlnUF1Q21AmZ4JEiD8IThhR5Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73628996">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73628996-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73628996" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73628996">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73628996" id="issuecomment-73628996-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T01:41:48Z" title="Feb 10, 2015, 3:41 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Also maybe we are going in circles but what goes wrong if you do lateImmediate? (= task that happens after all other tasks, right?)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjI5ODU5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjI5ODU5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjI5ODU5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73629859">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="2ab19f03b0d60c936c764572ca959584">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="2ab19f03b0d60c936c764572ca959584" data-unfurl-authenticity-token="pHKTqwDtwxh2/81yLPKnJ3CAVrBm42cWE7gEJSu9AMfDMhBqb5QAejH4J3cDVKDO9zpuYHzSt3FrOyEowKdFpQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73629859">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73629859-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73629859" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73629859">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73629859" id="issuecomment-73629859-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T01:50:12Z" title="Feb 10, 2015, 3:50 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>Also maybe we are going in circles but what goes wrong if you do lateImmediate? (= task that happens after all other tasks, right?)</p>
</blockquote>
<p>it turned out to be unnecessary to get  the behavior you wanted (the ability to attach a catch handler after any amount of any type of microtask and not get notification). Youd need lateTick on top of lateImmediate anyway so it was just pointless additional code.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjMwNTYw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjMwNTYw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjMwNTYw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73630560">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="01f472c09a3e7cad37df8c47b6f9b6d0">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="01f472c09a3e7cad37df8c47b6f9b6d0" data-unfurl-authenticity-token="99/DMIR0IFo6hCRD7FTXKIE+j7iC2/vS/oy8iKkdA3mQn0Dx6w3jOH2DzkbD8tDBBoS3aJjqK7WGD5mFQgdGGw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73630560">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73630560-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73630560" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73630560">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73630560" id="issuecomment-73630560-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T01:58:11Z" title="Feb 10, 2015, 3:58 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>However still same problem persist as before, when you are already inside setImmediate callback, the whole thing blows up.</p>
</blockquote>
<p>This was just to say that simply queueing unique setImmediate per rejection wasnt enough to solve the problem with using setImmediate</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjMyNzYy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjMyNzYy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjMyNzYy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@rvagg" src="https://avatars2.githubusercontent.com/u/495647?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73632762">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="3970ee4c1651b3ff8f42f00cab008ee3">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="3970ee4c1651b3ff8f42f00cab008ee3" data-unfurl-authenticity-token="/t1P2wntg72VkW7kNzBFHqDCjzcwtTAfJcBuILZ8BKCZncwaZpRA39KWhOEYlkL3J3i35yqE4HhdQ0stXWZBwg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73632762">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73632762-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73632762" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73632762">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73632762" id="issuecomment-73632762-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T02:22:28Z" title="Feb 10, 2015, 4:22 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> what are the implications for userland promises implementations here, are they able to hook into this functionality or do they generally already provide their own?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjUwMTc5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjUwMTc5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjUwMTc5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73650179">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="a1c6bf3efa4a69a1022ce2af615e7171">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="a1c6bf3efa4a69a1022ce2af615e7171" data-unfurl-authenticity-token="qQUD7MbkUJPBQcUUIKOdSOlz5wEZaLlVotJukLt5gCrORYAtqZ2T8YZGLxEPBZqhbsnf0QNZaTLaUUudUGPFSA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73650179">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73650179-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73650179" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73650179">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73650179" id="issuecomment-73650179-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T06:16:11Z" title="Feb 10, 2015, 8:16 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a> several userland libraries provide the same functionality based on the specification of these two events. You can track their status here: <a rel="nofollow" href="https://gist.github.com/benjamingr/0237932cee84712951a2">https://gist.github.com/benjamingr/0237932cee84712951a2</a></p>
<p>How long an implementation must wait to report is implementation dependent so other methods can be explored in the future (like detection via GC for example).</p>
<p>Userland promises will also greatly benefit from this hook since it will give people the ability to catch all promise rejections that were unhandled in a central location regardless of promise library or how many libraries your project and its dependencies are using.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjUxMjk3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjUxMjk3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjUxMjk3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@rvagg" src="https://avatars2.githubusercontent.com/u/495647?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73651297">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="31d56b18791e530c999c11438915660b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="31d56b18791e530c999c11438915660b" data-unfurl-authenticity-token="DvnbSL2GpDo01SlKe1m0azXh2E0PfErslrTPposYbWlpuViJ0v9nWHPSw09U/7OCslvgnRVNmovuN+qrYAIoCw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73651297">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73651297-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73651297" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73651297">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73651297" id="issuecomment-73651297-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T06:31:26Z" title="Feb 10, 2015, 8:31 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> is it going to be simple for userland libraries to hook in to this and all end up behaving the same? Will they just have to do a <code>process.emit('...')</code> and handle the timing themselves or is there a better hook?</p>
<p>Also, like many others who aren't exercised about promises, I find it difficult to get my head into the details of this so if this discussion is coming down to needing answers on specific questions then it would be helpful for someone in here to distill that so that others like me can give some advice and perhaps help steer this towards landing. fwiw this feature actually makes me a bit more comfortable about Promises in general because it makes it more difficult to ignore error handling (which is one of the main gripes I have against Promises); so I'd lean towards a more aggressive failure policy like with <code>uncaughtException</code> but I understand that it's not quite that straightforward here.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjUyNjIx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjUyNjIx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjUyNjIx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73652621">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="59c20b3458f0cb0dfcedcff345171f7c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="59c20b3458f0cb0dfcedcff345171f7c" data-unfurl-authenticity-token="dqR+ZvggMDLTcgfzESzlcFSccDncigrFtqyBePQKC4YR5P2nl1nzUJR17fY+iuKZ0yZI6ca72qLOL6R1HxBO5A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73652621">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73652621-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73652621" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73652621">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73652621" id="issuecomment-73652621-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T06:49:01Z" title="Feb 10, 2015, 8:49 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>I'd lean towards a more aggressive failure policy like with uncaughtException but I understand that it's not quite that straightforward here</p>
</blockquote>
<p>This is what a lot of people expect, but there are use cases for promises where rejections should be completely ignored. So, throwing by default is a breaking change</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjU0ODAz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjU0ODAz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjU0ODAz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73654803">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="b55baa46615f1a2a7075ba8564afd21a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="b55baa46615f1a2a7075ba8564afd21a" data-unfurl-authenticity-token="g9GJJoejbKuWd0CaafcZf2ql1m2TcXEgRwg2/JcyY+zkkQrn6NqvydFwqp9GUR6W7R/uvYlAoUc/ixPxfCgmjg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73654803">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73654803-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73654803" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73654803">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73654803" id="issuecomment-73654803-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T07:17:47Z" title="Feb 10, 2015, 9:17 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a></p>
<blockquote>
<p>is it going to be simple for userland libraries to hook in to this and all end up behaving the same? Will they just have to do a process.emit('...') and handle the timing themselves or is there a better hook?</p>
</blockquote>
<p>Doing a <code>process.emit</code> and handling the timing themselves. It's worth mentioning that this is already implemented in several libraries. Being in charge of the promises and not just emitting the event gives promise libraries some interesting control - for example if you're creating a promise in a <code>then</code> chain and not returning it and it gets rejected - bluebird will not only report the rejection, it will also let you know that it happened because of that reason. This is impossible with the current hooks v8 promise offer.</p>
<p>To be fair we <em>could</em> opt to offering userland promise libraries a cleaner hook but I'm less than excited about exposing anything other than two events to the userland - I think anything involving this that can be implemented outside of core regarding this should.</p>
<blockquote>
<p>Also, like many others who aren't exercised about promises, I find it difficult to get my head into the details of this so if this discussion is coming down to needing answers on specific questions then it would be helpful for someone in here to distill that so that others like me can give some advice and perhaps help steer this towards landing.</p>
</blockquote>
<p>Luckily we have <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> here who has done a very good job so far helping us with this issue representing io.js interests that Petka or Domenic or I are not always aware of. I think that this PR is a lot nicer now and the new scheduling Petka implemented is very nice. I think that this PR is generally ready but there is still a lot more work to do about making promises more debuggable - like I said before there are still things to improve here but they can be improved in future PRs.</p>
<blockquote>
<p>fwiw this feature actually makes me a bit more comfortable about Promises in general because it makes it more difficult to ignore error handling (which is one of the main gripes I have against Promises); so I'd lean towards a more aggressive failure policy like with uncaughtException but I understand that it's not quite that straightforward here.</p>
</blockquote>
<p>First of all about debuggability and suppressed errors I completely agree - this is why I'm pushing for this so hard. Native promises are a nightmare to work with at the moment in terms of debuggability and will silently fail when an exception is thrown - this hook fixes this and lets users gain control of their code.</p>
<p>As for a more aggressive failure policy - I definitely agree that this is something that should be explored but it's a much much harder question since it can break existing code and makes assumptions on the way people use promises. It's a big decision to make in my opinion and it requires research on usage - people <a href="https://gist.github.com/benjamingr/0237932cee84712951a2#statistics">use these hooks in many different ways</a> and making a decision here is going to take time and research.</p>
<p>Because choosing a default action and deciding on a more precise algorithm for scheduling are things that require research and discussion - I believe this PR should land and a future PR can address these. This PR makes the least changes possible: just exposing two events and not changing any existing behavior.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjYzMDcw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNjYzMDcw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNjYzMDcw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73663070">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="300513c46956795a6d67ed36dd5bb264">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="300513c46956795a6d67ed36dd5bb264" data-unfurl-authenticity-token="cMtNVMZLp/BQyqdUhqE76tyAUmY4T2pOnq5lNRDLXfkXi86VqTJkkhfNTVGpBzwDWzpqtiJ+uinmLUA4+9EYmw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73663070">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73663070-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73663070" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73663070">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73663070" id="issuecomment-73663070-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T08:41:48Z" title="Feb 10, 2015, 10:41 AM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a></p>
<blockquote>
<p>what are the implications for userland promises implementations here, are they able to hook into this functionality or do they generally already provide their own</p>
</blockquote>
<p>Userland promise libraries cannot hook into this at all, they have to fire these events manually as they best see fit when the library sees its promises being rejected without them having a catch handler attached by the end of a turn. The io.js runtime has no knowledge of these promises as they are just custom user objects.</p>
<p>The userland libraries that provide the sufficient hooks needed to implement any error handling scheme, provide them through the same protocol as used in this PR.</p>
<blockquote>
<p>I'd lean towards a more aggressive failure policy like with uncaughtException but I understand that it's not quite that straightforward here</p>
</blockquote>
<p>This is out of scope for this PR but FWIW according to the data, the majority, I (and it seems many io.js maintainers too) prefer to use synchronous catch handlers and the simpler and more aggressive error handling scheme that it enables. But it is indeed possible to attach catch handlers asynchronously and some people are strong proponents for that so the hooks should be able to support that as well, in fact that's the entire reason a second hook type is even needed. However we can all discuss that till the end of times in another PR, this PR doesn't take any stance to that and simply provides the hooks needed to accomplish both schemes (and some other alternative schemes too).</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxODY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24440596" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24440596" class="timestamp">
              <relative-time datetime="2015-02-10T19:10:55Z" title="Feb 10, 2015, 9:10 PM GMT+2">on Feb 10, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.cc">src/node.cc</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24440596" class="diff-table">
    


    <tbody><tr data-position="0">
      <td id="discussion-diff-24440596HL980" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
      <td id="discussion-diff-24440596HR982" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
      <td class="blob-code blob-code-inner blob-code-hunk">@@ -981,6 +983,42 @@ void SetupNextTick(const FunctionCallbackInfo&lt;Value&gt;&amp; args) {</td>
    </tr>
    <tr>

        <td id="discussion-diff-24440596L981" data-line-number="981" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24440596R983" data-line-number="983" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">      FIXED_ONE_BYTE_STRING(args.GetIsolate(), "_setupNextTick"));</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24440596L982" data-line-number="982" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24440596R984" data-line-number="984" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">}</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24440596L983" data-line-number="983" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24440596R985" data-line-number="985" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440596R986" data-line-number="986" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">void PromiseRejectCallback(PromiseRejectMessage message) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440596R987" data-line-number="987" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  Isolate* isolate = Isolate::GetCurrent();</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24440596" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQwNTk2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQwNTk2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ee7a890890614b97f795f20144ee4d5c">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ee7a890890614b97f795f20144ee4d5c" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24440596">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24440596-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24440596" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24440596">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@trevnorris" src="https://avatars1.githubusercontent.com/u/289174?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24440596" id="discussion_r24440596-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:10:55Z" title="Feb 10, 2015, 9:10 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><code>Isolate::GetCurrent()</code> is going to be deprecated. Another way of retrieving the isolate should be used.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24441349" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxMzQ5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxMzQ5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ccbe0b2e50dfc0597b2c503656538b41">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ccbe0b2e50dfc0597b2c503656538b41" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24441349">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24441349-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24441349" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24441349">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24441349" id="discussion_r24441349-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:18:25Z" title="Feb 10, 2015, 9:18 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Is it really going to be deprecated? Sometimes there is no other way. In this case I think we can use <code>promise-&gt;GetIsolate()</code></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24441493" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxNDkz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxNDkz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="e1677a298b2deca859777556759f0629">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="e1677a298b2deca859777556759f0629" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24441493">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24441493-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24441493" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24441493">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24441493" id="discussion_r24441493-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:19:49Z" title="Feb 10, 2015, 9:19 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Since this is done inside <code>PromiseRejectCallback</code> which is passed to the isolate via <code>isolate-&gt;SetPromiseRejectCallback</code> it can likely be passed to the function in some way - the caller site has access to the isolate and the environment. I would suggest how but I'm not sure since I'm not familiar enough with the code base but it shouldn't be too hard.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443380" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzMzgw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzMzgw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="22c20f7bd48f66dea48a4458ca5cdc36">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="22c20f7bd48f66dea48a4458ca5cdc36" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443380">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443380-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443380" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443380">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@trevnorris" src="https://avatars1.githubusercontent.com/u/289174?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443380" id="discussion_r24443380-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:39:33Z" title="Feb 10, 2015, 9:39 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Scratch this for now. I know there was a time when it was going to be deprecated (I know this because I spent half a day working around it myself at one point), but I can't verify that right now.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443576" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNTc2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNTc2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="3e482cab62e84d136574ad18bd42d38b">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="3e482cab62e84d136574ad18bd42d38b" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443576">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443576-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443576" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443576">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443576" id="discussion_r24443576-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:42:01Z" title="Feb 10, 2015, 9:42 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> yeah I noticed that the code has several "Todo"s you wrote for yourself to refactor it out :)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124424" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDI0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDI0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="bb01a4a7da8ed7845a01fc672f099be8">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="bb01a4a7da8ed7845a01fc672f099be8" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124424">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124424-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124424" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124424">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124424" id="discussion_r25124424-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:42:22Z" title="Feb 21, 2015, 8:42 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>FWIW, you can get the isolate with <code>message.GetPromise()-&gt;GetIsolate()</code>.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124600" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjAw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjAw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="d6444aefb42dcc0056f63e389bb46ab5">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="d6444aefb42dcc0056f63e389bb46ab5" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124600">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124600-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124600" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124600">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124600" id="discussion_r25124600-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:00:29Z" title="Feb 21, 2015, 9:00 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Thanks <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">@bnoordhuis</a>, from what I understand <code>GetCurrent</code> is ok to use though right?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124639" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjM5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjM5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9e3596cdd1e10f45a87ea31e6466dd66">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9e3596cdd1e10f45a87ea31e6466dd66" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124639">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124639-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124639" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124639">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124639" id="discussion_r25124639-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:03:35Z" title="Feb 21, 2015, 9:03 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I see now that <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> said exactly the same thing. :-)</p>
<p>Yes, <code>Isolate::GetCurrent()</code> is fine for now but like <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> said, it's probably going to go away someday.  All other things being equal, we might as well start using <code>Promise::GetIsolate()</code> right away.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxODg6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24440652" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24440652" class="timestamp">
              <relative-time datetime="2015-02-10T19:11:31Z" title="Feb 10, 2015, 9:11 PM GMT+2">on Feb 10, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.cc">src/node.cc</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24440652" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440652R997" data-line-number="997" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440652R998" data-line-number="998" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  if (value.IsEmpty()) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440652R999" data-line-number="999" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    value = Undefined(isolate);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440652R1000" data-line-number="1000" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  }</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24440652" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQwNjUy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQwNjUy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="d3d1a35c11fae4a029889399190fbb58">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="d3d1a35c11fae4a029889399190fbb58" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24440652">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24440652-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24440652" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24440652">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@trevnorris" src="https://avatars1.githubusercontent.com/u/289174?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24440652" id="discussion_r24440652-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:11:31Z" title="Feb 10, 2015, 9:11 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>style: no need for <code>{ }</code> on the one-liner.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxODk6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24440947" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24440947" class="timestamp">
              <relative-time datetime="2015-02-10T19:14:22Z" title="Feb 10, 2015, 9:14 PM GMT+2">on Feb 10, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24440947" class="diff-table">
    


    <tbody><tr data-position="0">
      <td id="discussion-diff-24440947HL387" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
      <td id="discussion-diff-24440947HR395" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
      <td class="blob-code blob-code-inner blob-code-hunk">@@ -388,6 +396,53 @@</td>
    </tr>
    <tr>

        <td id="discussion-diff-24440947L388" data-line-number="388" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24440947R396" data-line-number="396" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">      nextTickQueue.push(obj);</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24440947L389" data-line-number="389" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24440947R397" data-line-number="397" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">      tickInfo[kLength]++;</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24440947L390" data-line-number="390" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24440947R398" data-line-number="398" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">    }</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440947R399" data-line-number="399" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440947R400" data-line-number="400" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    // Internal callbacks that must be run when there is no more micro-tasks</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24440947R401" data-line-number="401" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    // scheduled for this turn.</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24440947" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQwOTQ3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQwOTQ3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="0d8c6aa22bae871654408fc4e39f6a4e">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="0d8c6aa22bae871654408fc4e39f6a4e" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24440947">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24440947-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24440947" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24440947">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@trevnorris" src="https://avatars1.githubusercontent.com/u/289174?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24440947" id="discussion_r24440947-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:14:22Z" title="Feb 10, 2015, 9:14 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>"this turn" would indicate the entire turn of the event loop, but these are processed in every phase of the event loop.</p>
<p>Man, the naming of <code>nextTick()</code> is so unfortunate...</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24441238" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxMjM4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxMjM4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f9f867c33a2eed86c879b0b068c5abd3">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f9f867c33a2eed86c879b0b068c5abd3" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24441238">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24441238-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24441238" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24441238">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24441238" id="discussion_r24441238-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:17:11Z" title="Feb 10, 2015, 9:17 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> how would you name it?</p>
<p>Just clarifying why this is - It needs to run after all microtasks have finished running. This is so arbitrarily nested native promises have gotten a change to schedule and run.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24441563" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxNTYz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxNTYz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="2a6a244bd0938910b3d5faf701af77fc">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="2a6a244bd0938910b3d5faf701af77fc" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24441563">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24441563-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24441563" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24441563">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24441563" id="discussion_r24441563-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:20:33Z" title="Feb 10, 2015, 9:20 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>we don't need a queue of callbacks for this. what we want is a queue of promises</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24441994" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxOTk0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQxOTk0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="86cf1df1f350b15b81b09d0d94b82914">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="86cf1df1f350b15b81b09d0d94b82914" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24441994">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24441994-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24441994" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24441994">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24441994" id="discussion_r24441994-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:24:48Z" title="Feb 10, 2015, 9:24 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> why? This is for scheduling an action to run after all micro-tasks in the queue have run. How would a queue of promises help us here?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24442761" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQyNzYx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQyNzYx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="1cff4bae319c35de8a27dc74a8754360">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="1cff4bae319c35de8a27dc74a8754360" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24442761">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24442761-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24442761" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24442761">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24442761" id="discussion_r24442761-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:32:31Z" title="Feb 10, 2015, 9:32 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><code>_lateTick</code> is too generic. Since we only use it for one thing, we could just take whatever closure captures (promise and reason) and add to a qeueue. The function body can be moved then to <code>drainLateTickQueue</code></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>


        <!-- '"` --><!-- </textarea></xmp> -->

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443460" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNDYw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNDYw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="880b78e31d24811269c87a0536ed39a1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="880b78e31d24811269c87a0536ed39a1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443460">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443460-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443460" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443460">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443460" id="discussion_r24443460-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:40:35Z" title="Feb 10, 2015, 9:40 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I think that <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> wanted to comply with <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> 's suggestion in the clearest way which is "run after every microtask has finished" - this demonstrates that request quite literally. I'm not sure why it'd be any more or less work except for a one function and I do think it'd be useful to be able to run an action after the microtask queue has been drained - would do you think?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24488279" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4Mjc5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4Mjc5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="06f6c7e4f9e3f8c03d3298f9a23ce676">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="06f6c7e4f9e3f8c03d3298f9a23ce676" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24488279">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24488279-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24488279" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24488279">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24488279" id="discussion_r24488279-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T11:25:52Z" title="Feb 11, 2015, 1:25 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>it's really messed up to run something after microtask queue. Why should avoid that as much as possible. But also, yeah, extra closure allocation</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24488463" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4NDYz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4NDYz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="a36b53585715cb744d677e161c7e87c2">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="a36b53585715cb744d677e161c7e87c2" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24488463">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24488463-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24488463" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24488463">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24488463" id="discussion_r24488463-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T11:29:18Z" title="Feb 11, 2015, 1:29 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> the whole point of doing this here is running something after the microtask queue is finished because that's when <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> believes it is reasonable to report unhandled rejections (for example - attaching it in a <code>.then</code> of a resolved promise should not report the false positive). If you have another suggestion of when to run this I'd love to hear it.</p>
<p>I didn't understand the extra closure allocation bit - isn't it just allocating one extra closure per full turn?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>




        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24489357" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg5MzU3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg5MzU3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="976e18dca3b972d13092e651e86b55d2">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="976e18dca3b972d13092e651e86b55d2" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24489357">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24489357-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24489357" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24489357">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24489357" id="discussion_r24489357-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T11:47:28Z" title="Feb 11, 2015, 1:47 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I mean that I hope that we won't use this trick for something else.</p>
<blockquote>
<p>sn't it just allocating one extra closure per full turn</p>
</blockquote>
<p>no, per rejection. It is how <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a>'s spec describes it, but this is an obvious optimisation.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24489514" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg5NTE0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg5NTE0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b237e43575afb5b25e6fc02791678e94">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b237e43575afb5b25e6fc02791678e94" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24489514">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24489514-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24489514" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24489514">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24489514" id="discussion_r24489514-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T11:50:22Z" title="Feb 11, 2015, 1:50 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> unhandled rejections are supposed to be <em>very</em> rare - there should not be more than 10 of those per hour tops. You're opting for killing the app if a default handler isn't attached iirc.</p>
<p>If you think this is important then I'll take your word since you have a lot more io.js experience than me with these things but I don't see the big merit of optimizing this.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24489967" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg5OTY3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg5OTY3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="460e9c7475a42f3a79eed4c972c89116">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="460e9c7475a42f3a79eed4c972c89116" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24489967">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24489967-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24489967" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24489967">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24489967" id="discussion_r24489967-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T11:59:12Z" title="Feb 11, 2015, 1:59 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I mean per v8 notification, not iojs notification. Every time <code>Promise.reject()</code> is called, for example.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24490061" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkwMDYx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkwMDYx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="37bbfb82a6a6d2bcaa300edf920638e4">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="37bbfb82a6a6d2bcaa300edf920638e4" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24490061">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24490061-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24490061" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24490061">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24490061" id="discussion_r24490061-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T12:01:10Z" title="Feb 11, 2015, 2:01 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Oh that makes sense then thanks for clarifying.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24492161" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkyMTYx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkyMTYx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b5d0bbd42a9ddd656ca379080406b765">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b5d0bbd42a9ddd656ca379080406b765" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24492161">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24492161-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24492161" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24492161">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24492161" id="discussion_r24492161-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T12:47:28Z" title="Feb 11, 2015, 2:47 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Yes it's an obvious optimization but rejections are rare as they should be used like exceptions/errors.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY0MDIx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY0MDIx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY0MDIx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73764021">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="13aaede323b34a953145774721084685">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="13aaede323b34a953145774721084685" data-unfurl-authenticity-token="4MJupiBWhNW5pFUQmKcnR6K3Affvlux+ORPQ9uhXJaeHgu1nTy9Ht/6jvxW3ASCuJQ05J/WnPBlBkPX7A01gxQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73764021">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73764021-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73764021" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73764021">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73764021" id="issuecomment-73764021-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:18:52Z" title="Feb 10, 2015, 9:18 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>In terms of being able to do any sort of continuation tracking (e.g. the work I've done on <code>AsyncWrap</code>), V8 still hasn't exposed enough API. Currently any call stack that enters a Promise will be broken, and there's nothing we can do about that. IOW, even if this is the best solution we could hypothetically manage right now, it's not the solution we want for the long term.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY0NjU5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY0NjU5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY0NjU5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73764659">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="a529c8db77ba3903e3d96a770108783c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="a529c8db77ba3903e3d96a770108783c" data-unfurl-authenticity-token="pBp5GFxymbqzGZez1lRzGTvyn1lzbiAWzbH8XwF1iyrDWvrZMwta2PQefbb58nTwvEiniWlf8HG1MtlS6m/OSA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73764659">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73764659-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73764659" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73764659">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73764659" id="issuecomment-73764659-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:22:05Z" title="Feb 10, 2015, 9:22 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> these are independent issues, I think. Both are important, but this one is possible with API we already have</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY0ODE3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY0ODE3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY0ODE3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73764817">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="d59ff8cfc0f9691864c4f3973e173f13">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="d59ff8cfc0f9691864c4f3973e173f13" data-unfurl-authenticity-token="7QM9TLJpScQS8UP5TaTktApEDsogM9heiJlOtt1koJ+KQ76N3RCKplX2qfxiAuNdjf42GjoCCDnwGmu7Nn7l/Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73764817">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73764817-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73764817" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73764817">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73764817" id="issuecomment-73764817-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:22:54Z" title="Feb 10, 2015, 9:22 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> yeah that's an interesting issue with the call stack and <code>AsyncWrap</code> but I agree with <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a>  that the issues are independent and unhandled rejection tracking - even without good call stacks is something that can be exposed now and is future compatible.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY1NDMx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY1NDMx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY1NDMx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73765431">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ab66041b5dacd204514a75e3b247ee56">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="ab66041b5dacd204514a75e3b247ee56" data-unfurl-authenticity-token="o/6y31JKG4CDARuL4/49zcFTI609KWenz79PcwqCSsLEvjEePTPY4sQG8Y7MWDokRukbfScYt8C3PGp+4ZgPoA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73765431">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73765431-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73765431" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73765431">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73765431" id="issuecomment-73765431-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:25:59Z" title="Feb 10, 2015, 9:25 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I don't see why any of this should be enabled unless the user has explicitly set the <code>'unhandledPromiseRejection'</code> event.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY1ODMx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY1ODMx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY1ODMx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73765831">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="f0a221ca16453aef98bdb2b0c5d9e4a5">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="f0a221ca16453aef98bdb2b0c5d9e4a5" data-unfurl-authenticity-token="f2sC1VjdibR2NNiUffinGDLjBCwGUx42OqkuUepWWJ4YK4EUN6RK1jEzMpFSXqDxtVk8/BxizlFCKgtcAUwd/A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73765831">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73765831-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73765831" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73765831">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73765831" id="issuecomment-73765831-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:27:51Z" title="Feb 10, 2015, 9:27 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> I completely agree that for this PR no default event handler should be enabled. Deciding whether or not a default action should be enabled can, and should be deferred to a future PR. I think we've reached consensus on that.</p>
<p>Note that what you suggest (not performing any default action) is what happens in this PR right now. There is interesting discussion between <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> and <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> about this in the outdated diffs if you care.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY2NDYw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY2NDYw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY2NDYw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73766460">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="32c41a6d791cb45bc62fe89e584673cc">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="32c41a6d791cb45bc62fe89e584673cc" data-unfurl-authenticity-token="MC806/YWoUKrPD5zkAPPAGinJQN1Qsn9eG+tNTucOQVXb7cqmW9iIOw71Ha/pcjp7x0d029zGZoA7Ig40IZ8Zw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73766460">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73766460-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73766460" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73766460">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73766460" id="issuecomment-73766460-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:30:53Z" title="Feb 10, 2015, 9:30 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> I mean <code>_setupPromises()</code> should run until <code>'unhandledPromiseRejection'</code> has been set.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxOTE6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24442834" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24442834" class="timestamp">
              <relative-time datetime="2015-02-10T19:33:24Z" title="Feb 10, 2015, 9:33 PM GMT+2">on Feb 10, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24442834" class="diff-table">
    


    <tbody><tr>

        <td id="discussion-diff-24442834L291" data-line-number="291" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24442834R298" data-line-number="298" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">    function tickDone() {</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24442834L292" data-line-number="292" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24442834R299" data-line-number="299" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">      if (tickInfo[kLength] !== 0) {</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24442834L293" data-line-number="293" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24442834R300" data-line-number="300" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">        if (tickInfo[kLength] &lt;= tickInfo[kIndex]) {</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24442834L294" data-line-number="294" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24442834R301" data-line-number="301" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">          nextTickQueue = [];</span>

      </td>
    </tr>
    <tr>

        <td id="discussion-diff-24442834L295" data-line-number="295" class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="discussion-diff-24442834R302" data-line-number="302" class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">
        <span class="blob-code-inner blob-code-marker-context">          tickInfo[kLength] = 0;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24442834R303" data-line-number="303" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          drainLateTickQueue();</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24442834" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQyODM0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQyODM0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9e8ebf7b10adb8408b8da8fc565fef3f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9e8ebf7b10adb8408b8da8fc565fef3f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24442834">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24442834-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24442834" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24442834">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24442834" id="discussion_r24442834-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:33:24Z" title="Feb 10, 2015, 9:33 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>We can't just call it here. What if event listener calls <code>process.nextTick</code> or enqueues a microtask?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443042" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzMDQy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzMDQy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="111a7bb1b213857616b093618b62318f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="111a7bb1b213857616b093618b62318f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443042">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443042-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443042" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443042">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443042" id="discussion_r24443042-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:35:45Z" title="Feb 10, 2015, 9:35 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Then it would run the next time the microtask queue is drained - wouldn't it?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443558" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNTU4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNTU4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="1431c4e563a846c883b6efbf70c46ae7">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="1431c4e563a846c883b6efbf70c46ae7" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443558">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443558-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443558" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443558">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443558" id="discussion_r24443558-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:41:52Z" title="Feb 10, 2015, 9:41 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>it would, but possibly after a long period of time. they are supposed to be executed right after any user-provided code</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443738" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNzM4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzNzM4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="1f5c89c575b1853553b8e5b6cee15dc1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="1f5c89c575b1853553b8e5b6cee15dc1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443738">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443738-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443738" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443738">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443738" id="discussion_r24443738-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:43:39Z" title="Feb 10, 2015, 9:43 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> to be fair no user-provided code is executed here but I definitely see the merit for consistency - how would you suggest to deal with this then?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24445718" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ1NzE4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ1NzE4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="fa7d74b484fd53b4ef32a72f6d22bd62">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="fa7d74b484fd53b4ef32a72f6d22bd62" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24445718">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24445718-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24445718" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24445718">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24445718" id="discussion_r24445718-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:07:23Z" title="Feb 10, 2015, 10:07 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>well, we emit events, so listeners are called here. I was thinking about integrating this stuff into nextTick processing. We drain nextTick queue and microtask queue, then emit notifications (if any) and drain queues right after that again.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>


        <!-- '"` --><!-- </textarea></xmp> -->

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24446668" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ2NjY4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ2NjY4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9541e070ad60eaaefce796c33a7c6c38">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9541e070ad60eaaefce796c33a7c6c38" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24446668">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24446668-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24446668" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24446668">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24446668" id="discussion_r24446668-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:19:32Z" title="Feb 10, 2015, 10:19 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>It should take same amount of time that it takes when calling <code>nextTick</code> at top level when queue is not being processed.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24446890" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ2ODkw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ2ODkw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="c38478af1ae424b854abf3cdde403e7f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="c38478af1ae424b854abf3cdde403e7f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24446890">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24446890-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24446890" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24446890">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24446890" id="discussion_r24446890-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:22:32Z" title="Feb 10, 2015, 10:22 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>yes, exactly. And that's why user code is never executed at top level.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24448019" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ4MDE5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ4MDE5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="add345bdab94d76c428dd4268cd13394">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="add345bdab94d76c428dd4268cd13394" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24448019">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24448019-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24448019" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24448019">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24448019" id="discussion_r24448019-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:35:49Z" title="Feb 10, 2015, 10:35 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I am confused, if I call a process.nextTIck at the fresh start of a turn with empty queue, that's top level and it will take some time for it to be called.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24448667" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ4NjY3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ4NjY3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="1754bbec22fe6f6249b6774189dd6839">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="1754bbec22fe6f6249b6774189dd6839" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24448667">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24448667-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24448667" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24448667">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24448667" id="discussion_r24448667-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:44:03Z" title="Feb 10, 2015, 10:44 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <blockquote>
<p>it will take some time</p>
</blockquote>
<p>no, it should be executed immediately after current javascript stack unwinding.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24448778" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ4Nzc4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ4Nzc4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="c4f443115923525c7cefae9de008bd6f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="c4f443115923525c7cefae9de008bd6f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24448778">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24448778-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24448778" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24448778">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24448778" id="discussion_r24448778-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:45:19Z" title="Feb 10, 2015, 10:45 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Then that's what will happen here as well.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

  

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24449726" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ5NzI2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ5NzI2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="1f6b5d73bb1f7016a8bd6b5bb904e17b">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="1f6b5d73bb1f7016a8bd6b5bb904e17b" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24449726">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24449726-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24449726" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24449726">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24449726" id="discussion_r24449726-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:57:07Z" title="Feb 10, 2015, 10:57 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>nope, since late tick queue is  flushed after nextTick queue. The next time nextTick queue is flushed could be after <code>setTimeout(..., 1000000)</code></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>




        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24451088" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDUxMDg4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDUxMDg4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="8471483eb92ae4d48ac095d2ce33385b">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="8471483eb92ae4d48ac095d2ce33385b" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24451088">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24451088-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24451088" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24451088">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24451088" id="discussion_r24451088-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T21:14:03Z" title="Feb 10, 2015, 11:14 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>So we should call <code>scheduleMicrotasks()</code> if length is not <code>0</code> after flushing late queue?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24451330" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDUxMzMw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDUxMzMw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="099e16fd676473a73457dfc9d426db2d">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="099e16fd676473a73457dfc9d426db2d" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24451330">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24451330-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24451330" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24451330">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24451330" id="discussion_r24451330-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T21:17:15Z" title="Feb 10, 2015, 11:17 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><code>scheduleMicrotasks</code> simply adds a nextTick callback that runs v8 microtasks. If nextTick callbacks won't run microtasks won't run either</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24454868" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDU0ODY4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDU0ODY4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="fd4b62835b07c3c316ca59a349791699">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="fd4b62835b07c3c316ca59a349791699" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24454868">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24454868-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24454868" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24454868">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24454868" id="discussion_r24454868-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T21:58:21Z" title="Feb 10, 2015, 11:58 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I see, which function(s) should I call?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24488615" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4NjE1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4NjE1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="e887e0558c4783115d419a462e2973e7">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="e887e0558c4783115d419a462e2973e7" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24488615">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24488615-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24488615" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24488615">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24488615" id="discussion_r24488615-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T11:33:00Z" title="Feb 11, 2015, 1:33 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>The best place for this is <code>runMicrotasksCallback</code>, something like this:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">function</span> <span class="pl-en">runMicrotasksCallback</span>() {
  microtasksScheduled <span class="pl-k">=</span> <span class="pl-c1">false</span>;
  <span class="pl-en">_runMicrotasks</span>();

  <span class="pl-k">if</span> (tickInfo[kIndex] <span class="pl-k">&lt;</span> tickInfo[kLength]) <span class="pl-c"><span class="pl-c">//</span> nextTick has been called inside microtasks</span>
    <span class="pl-en">scheduleMicrotasks</span>();
  <span class="pl-k">else</span> { <span class="pl-c"><span class="pl-c">//</span> no nextTick callbacks, no microtasks</span>
   <span class="pl-k">var</span> hadRejections <span class="pl-k">=</span> <span class="pl-en">emitRejectionNotifications</span>();
    <span class="pl-k">if</span> (hadRejections) <span class="pl-c"><span class="pl-c">//</span> event handler could have added a nextTick callback or a microtask</span>
       <span class="pl-en">scheduleMicrotasks</span>();
  }
}</pre></div>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24492211" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkyMjEx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkyMjEx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ef7e1e872a92b720ced5de0130092cf9">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ef7e1e872a92b720ced5de0130092cf9" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24492211">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24492211-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24492211" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24492211">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24492211" id="discussion_r24492211-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T12:48:30Z" title="Feb 11, 2015, 2:48 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Ok that sounds good, will test tonight</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxOTQ6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24442985" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24442985" class="timestamp">
              <relative-time datetime="2015-02-10T19:35:05Z" title="Feb 10, 2015, 9:35 PM GMT+2">on Feb 10, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24442985" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24442985R401" data-line-number="401" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    // scheduled for this turn.</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24442985R402" data-line-number="402" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    function lateTick(callback) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24442985R403" data-line-number="403" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      lateTickQueue.push(callback);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24442985R404" data-line-number="404" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      scheduleMicrotasks();</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24442985" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQyOTg1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQyOTg1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="35ebb271ccb7365b5c20f60902cd62b6">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="35ebb271ccb7365b5c20f60902cd62b6" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24442985">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24442985-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24442985" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24442985">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24442985" id="discussion_r24442985-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:35:05Z" title="Feb 10, 2015, 9:35 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>What is this for?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443278" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzMjc4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzMjc4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ce84eccb50d47916aab937bcc7776671">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ce84eccb50d47916aab937bcc7776671" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443278">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443278-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443278" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443278">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443278" id="discussion_r24443278-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:38:17Z" title="Feb 10, 2015, 9:38 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> to make sure that the microtask queue would be scheduled for consumption in case it wasn't when this function is called.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24443852" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzODUy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQzODUy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="a861eef76535e813b126e2259dc13ea6">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="a861eef76535e813b126e2259dc13ea6" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24443852">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24443852-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24443852" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24443852">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24443852" id="discussion_r24443852-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:44:55Z" title="Feb 10, 2015, 9:44 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>they are scheduled when <code>_tickCallback</code> is called. don't think it actually does anything here</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24444093" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ0MDkz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ0MDkz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f19cf7cca592d1fdff7aea0214c77825">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f19cf7cca592d1fdff7aea0214c77825" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24444093">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24444093-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24444093" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24444093">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24444093" id="discussion_r24444093-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:47:47Z" title="Feb 10, 2015, 9:47 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>When is <code>_tickCallback</code> called? If you do <code>_lateTick</code> and don't schedule any microtasks I don't see what'd call <code>scheduleMicrotasks</code> for you</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24444615" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ0NjE1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ0NjE1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="96aaac709cd0b4b091601178ff195c38">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="96aaac709cd0b4b091601178ff195c38" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24444615">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24444615-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24444615" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24444615">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24444615" id="discussion_r24444615-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T19:53:47Z" title="Feb 10, 2015, 9:53 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><code>_tickCallback</code> is called from C++ (<code>MakeCallback</code>)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24445547" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ1NTQ3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDQ1NTQ3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ce43f379850611862b1899568e7408ed">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ce43f379850611862b1899568e7408ed" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24445547">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24445547-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24445547" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24445547">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24445547" id="discussion_r24445547-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-10T20:05:17Z" title="Feb 10, 2015, 10:05 PM GMT+2">on Feb 10, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> <code>lateTick</code> is only called when there is an unhandled rejection, it is completely unrelated to whether microtasks have been scheduled or not. In fact you can comment out the line and not a single test will pass anymore.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24488793" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4Nzkz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDg4Nzkz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="1e2960633179061fc8a1ef33241b5e88">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="1e2960633179061fc8a1ef33241b5e88" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24488793">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24488793-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24488793" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24488793">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24488793" id="discussion_r24488793-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T11:36:14Z" title="Feb 11, 2015, 1:36 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <blockquote>
<p>In fact you can comment out the line and not a single test will pass anymore.</p>
</blockquote>
<p>it means that something is terribly wrong in some other place. <code>scheduleMicrotasks</code> is supposed to be called only from nextTick queue processing code</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24491929" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkxOTI5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDkxOTI5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="959ed45b6ea2b504d853b3363ba3e551">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="959ed45b6ea2b504d853b3363ba3e551" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24491929">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24491929-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24491929" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24491929">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24491929" id="discussion_r24491929-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T12:41:47Z" title="Feb 11, 2015, 2:41 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I don't think anything is wrong, if you leave it out you need to wait until the next time the queue is processed which could be setTimeout 100000 as you say.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY3NjM5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY3NjM5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY3NjM5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73767639">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="bf88bfa2a5b9224e8e47e7c4cbe1e862">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="bf88bfa2a5b9224e8e47e7c4cbe1e862" data-unfurl-authenticity-token="kmOvThNo5Q3lhwog/x0MDNhIuenqH51q/+EHMomK28D1IyyPfBEmb6KA4CXQuwvlX/KBOfAuTQ2HYiI/YpCeog==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73767639">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73767639-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73767639" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73767639">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73767639" id="issuecomment-73767639-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:36:11Z" title="Feb 10, 2015, 9:36 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> in the future we definitely want some default action on unhandled rejections, <code>console.error</code> most likely</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY4OTA2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY4OTA2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY4OTA2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73768906">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="5dde3010451e3b84032765e9234f7886">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="5dde3010451e3b84032765e9234f7886" data-unfurl-authenticity-token="JdpdNokubAspA5jTX6CWo+9xRLOYv/V02ZDZGVL71MNCmt735levaW4EctZwBpFKaMt8Y4KOJROhE/wUueGRoQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73768906">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73768906-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73768906" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73768906">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73768906" id="issuecomment-73768906-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:42:20Z" title="Feb 10, 2015, 9:42 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> There's a lot of extra queue'ing going on for nextTick because of promises, and that will have a performance hit. Optimally we could detect whether a Promise has been used, and set it lazily, but that's probably not an option.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY5NTIy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY5NTIy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY5NTIy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73769522">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="723e0d6ce6d74f280f739d7af4f768a8">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="723e0d6ce6d74f280f739d7af4f768a8" data-unfurl-authenticity-token="uGUs5W1O744MNKChIXOMHXWcYZIvKyBH5iqjSevIzOzfJa8kAjcs7EszSqQO1Yv08iZZQjUa8CCeqYZEANKJjg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73769522">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73769522-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73769522" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73769522">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73769522" id="issuecomment-73769522-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:45:37Z" title="Feb 10, 2015, 9:45 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> I'm also wondering about <code>_setupPromises</code> - I agree it would be really nice to run it lazily but I have no idea how an implementation of that would look like - I was under the impression that it's relatively cheap to call.</p>
<p>Also - why is there extra queuing to <code>nextTick</code> if promises are not used?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY5ODU4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzY5ODU4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzY5ODU4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73769858">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="0e448d158e2891ca893d4cb98ec95e11">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="0e448d158e2891ca893d4cb98ec95e11" data-unfurl-authenticity-token="YIrzPZAEk85OIDncAcLGzkvyDa63QJQwkekcXC2WC7UHynD8/31QrAkn09kuZMEnzEg1fq1xRFfpajlRxoxO1w==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73769858">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73769858-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73769858" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73769858">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73769858" id="issuecomment-73769858-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:47:20Z" title="Feb 10, 2015, 9:47 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> It's not about the call to <code>_setupPromises()</code> specifically. It's about all the extra code that's run while processing callbacks that were passed to <code>nextTick()</code>.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzcwMjI5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzcwMjI5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzcwMjI5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73770229">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="14c151c6a9fc3f26270d31da3a5d25e7">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="14c151c6a9fc3f26270d31da3a5d25e7" data-unfurl-authenticity-token="sU5WEkCBIqyJka8IDUMkQTlZNR1tkG/Ak0W+6vWxWQDWDtXTL/jhzs6WRQ0i5SOovuMNzXehv6frxpvnHqscYg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73770229">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73770229-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73770229" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73770229">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73770229" id="issuecomment-73770229-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:49:19Z" title="Feb 10, 2015, 9:49 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> this could be solved by something like <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="47191590" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node-v0.x-archive/issues/8648" data-hovercard-type="issue" data-hovercard-url="/nodejs/node-v0.x-archive/issues/8648/hovercard?comment_id=69081887&amp;comment_type=issue_comment" href="https://github.com/nodejs/node-v0.x-archive/issues/8648#issuecomment-69081887" aria-describedby="hovercard-aria-description">nodejs/node-v0.x-archive#8648 (comment)</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzcwMzAx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzcwMzAx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzcwMzAx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73770301">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="2c6ffec889cedf84377acf1e80306f72">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="2c6ffec889cedf84377acf1e80306f72" data-unfurl-authenticity-token="8JDCzpPsu0tqlPSwKWJAHwk69SrhOU9Dpm2+sQjouZCX0EEP/JV4KS2THrUGxEf2joDN+vsInyTe7pu84/L88g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73770301">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73770301-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73770301" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73770301">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73770301" id="issuecomment-73770301-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:49:43Z" title="Feb 10, 2015, 9:49 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> I'm sorry if I'm being daft but what extra code is run when processing callbacks that were passed to nextTick?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzcyMjkw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzcyMjkw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzcyMjkw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73772290">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="69a588339cdaa74bf5a0e7357691cb9e">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="69a588339cdaa74bf5a0e7357691cb9e" data-unfurl-authenticity-token="ebjCqGfBF8v8/xtUl1cDE0+fdI/Tj+DnIYYl1WP/vQMe+EFpCLjUqbv48VG48QT6yCVMX8m+MIBZBQDYiOX4YQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73772290">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73772290-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73772290" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73772290">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73772290" id="issuecomment-73772290-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T19:59:58Z" title="Feb 10, 2015, 9:59 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>There is no extra code running while processing next tick callbacks and no extra code in general runs at all. There is one <code>.length</code> check per every full drainage of the tick queue and that's it.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>



  <div id="js-progressive-timeline-item-container">
  <!-- '"` --><!-- </textarea></xmp> -->


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzc4MTg5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzc4MTg5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzc4MTg5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73778189">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="4a711166ef15c672586f0293dcd99d59">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="4a711166ef15c672586f0293dcd99d59" data-unfurl-authenticity-token="IrPCRoyOa/wNAHH6tObQgTa91cWLYJM8RF5lBElSP01F80GH4/eonkoHm/+bQNdosQftFZFRQ1s83UAJokh6Lw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73778189">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73778189-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73778189" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73778189">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73778189" id="issuecomment-73778189-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T20:33:59Z" title="Feb 10, 2015, 10:33 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> Just going to recap what's going on in case anyone else didn't see the code flow:</p>
<ol>
<li><code>startup.processPromises()</code> runs <code>process._setupPromises()</code>.</li>
<li><code>process._setupPromises()</code> passes the callback <code>PromiseRejectCallback()</code> to <code>SetPromiseRejectCallback()</code>.</li>
<li><code>PromiseRejectCallback()</code> is only called in the cases of <code>kPromiseRejectWithNoHandler</code> or <code>kPromiseHandlerAddedAfterReject</code>.
<ul>
<li>When <code>PromiseRejectCallback()</code> is called a callback is pushed onto <code>lateTickQueue</code>.</li>
</ul>
</li>
<li>While the <code>nextTickQueue</code> is being processed, if <code>lateTickQueue.length != 0</code> then the callback queued is executed.</li>
</ol>
<p>Okay, now I see what you're saying about no extra code being executed. Didn't see that at first.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzc4Njg2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzc4Njg2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzc4Njg2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73778686">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="fc8983339087fe884c0b5e8f297acca8">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="fc8983339087fe884c0b5e8f297acca8" data-unfurl-authenticity-token="8AWkNP3bRUSRRiJ6qmA+GIGIOozw5ruTE/dTh67LFw2XRSf1kqKGJtZByH+FxjnxBjICXOrXa/RrdHaKRdFSbw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73778686">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73778686-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73778686" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73778686">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73778686" id="issuecomment-73778686-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T20:37:09Z" title="Feb 10, 2015, 10:37 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> thanks for that. :)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg0ODkw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg0ODkw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzg0ODkw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73784890">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="50d516418fa4626a31a00b463de6e1f3">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="50d516418fa4626a31a00b463de6e1f3" data-unfurl-authenticity-token="7tQr6bJBinGM1z7cfkVLKXwnldf+q2WZDyhZaBQMID+JlKgo3ThJE8vQ1NlR40zA+52tB+Satf53q3xl/xZlXQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73784890">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73784890-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73784890" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73784890">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73784890" id="issuecomment-73784890-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T21:14:18Z" title="Feb 10, 2015, 11:14 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I think we might be missing the case where a callback in <code>process.nextTick()</code> throws. The stack is handled differently in that case, and how do we want to handle any unhandled rejection callbacks that have been queued but are still waiting for the potential exception from nextTick to be handled by a domain or such?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg3MzM3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg3MzM3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzg3MzM3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73787337">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="c860e00815e9748d5c51d631a9a0593c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="c860e00815e9748d5c51d631a9a0593c" data-unfurl-authenticity-token="HV3ZCcr3JBPZsYWJ4wmL9wPkBH4XdOXK3uB3FxMBXLt6HVrIpY7ncZ62b4zMr4wehF48rg1FNa2mY1Ia+BsZ2Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73787337">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73787337-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73787337" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73787337">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73787337" id="issuecomment-73787337-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T21:27:38Z" title="Feb 10, 2015, 11:27 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I am trying to create a test for that but the domain is not catching the error for some reason</p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">common</span>.<span class="pl-en">asyncTest</span>(<span class="pl-k">function</span>(<span class="pl-smi">done</span>) {
  <span class="pl-k">var</span> d <span class="pl-k">=</span> <span class="pl-smi">domain</span>.<span class="pl-en">create</span>();
  <span class="pl-k">var</span> domainReceivedError;
  <span class="pl-smi">d</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">"</span>error<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
    domainReceivedError <span class="pl-k">=</span> e;
  });
  <span class="pl-smi">d</span>.<span class="pl-en">run</span>(<span class="pl-k">function</span>() {
    <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>error<span class="pl-pds">"</span></span>);
    <span class="pl-k">var</span> domainError <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>domain error<span class="pl-pds">"</span></span>);
    <span class="pl-en">onUnhandledSucceed</span>(done, <span class="pl-k">function</span>(<span class="pl-smi">reason</span>, <span class="pl-smi">promise</span>) {
      <span class="pl-smi">assert</span>.<span class="pl-en">strictEqual</span>(reason, e);
      <span class="pl-smi">assert</span>.<span class="pl-en">strictEqual</span>(domainReceivedError, domainError);
      <span class="pl-smi">d</span>.<span class="pl-en">dispose</span>();
    });
    <span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
      <span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>(e);
      <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
        <span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span>() {
          <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
            <span class="pl-k">throw</span> domainError;
          })
        })
      });
    });
  });
});</pre></div>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg3Nzc3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg3Nzc3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzg3Nzc3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73787777">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="61485c3aa5b0c38c419d923db3db1fa8">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="61485c3aa5b0c38c419d923db3db1fa8" data-unfurl-authenticity-token="IJWNn/8CY36nkmpfjuLS95GWkPcOnQfSOP940jLIWYNH1Q5ekHugHOCVgFqhRNUeFiyoJxSs17VAfF3f2dIc4Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73787777">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73787777-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73787777" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73787777">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73787777" id="issuecomment-73787777-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T21:30:10Z" title="Feb 10, 2015, 11:30 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="47191590" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node-v0.x-archive/issues/8648" data-hovercard-type="issue" data-hovercard-url="/nodejs/node-v0.x-archive/issues/8648/hovercard" href="https://github.com/nodejs/node-v0.x-archive/issues/8648" aria-describedby="hovercard-aria-description">nodejs/node-v0.x-archive#8648</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg4Mjc4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg4Mjc4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzg4Mjc4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73788278">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="85b8cb900af26874211e05de26a6f4da">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="85b8cb900af26874211e05de26a6f4da" data-unfurl-authenticity-token="g8LMgImGreYfjIub25vqTMkCX4uxoB+lPBF4B2Pyvq/kgk9B5v9uhFiLYZ70Pe2lTrhnW6uRz8JEkl0KiOj7zQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73788278">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73788278-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73788278" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73788278">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73788278" id="issuecomment-73788278-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T21:32:51Z" title="Feb 10, 2015, 11:32 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>This seems to work for me in latest io.js:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> domain <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>domain<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> d <span class="pl-k">=</span> <span class="pl-smi">domain</span>.<span class="pl-en">create</span>();
<span class="pl-k">var</span> domainReceivedError;
<span class="pl-smi">d</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">"</span>error<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
  <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>hi<span class="pl-pds">'</span></span>);
  domainReceivedError <span class="pl-k">=</span> e;
});
<span class="pl-smi">d</span>.<span class="pl-en">run</span>(<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>error<span class="pl-pds">"</span></span>);
  <span class="pl-k">var</span> domainError <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>domain error<span class="pl-pds">"</span></span>);
  <span class="pl-en">onUnhandledSucceed</span>(done, <span class="pl-k">function</span>(<span class="pl-smi">reason</span>, <span class="pl-smi">promise</span>) {
    <span class="pl-smi">assert</span>.<span class="pl-en">strictEqual</span>(reason, e);
    <span class="pl-smi">assert</span>.<span class="pl-en">strictEqual</span>(domainReceivedError, domainError);
    <span class="pl-smi">d</span>.<span class="pl-en">dispose</span>();
  });
  <span class="pl-en">setImmediate</span>(<span class="pl-k">function</span>() {
    <span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>(e);
    <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
      <span class="pl-c1">Promise</span>.<span class="pl-c1">resolve</span>().<span class="pl-c1">then</span>(<span class="pl-k">function</span>() {
        <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
          <span class="pl-k">throw</span> domainError;
        })
      })
    });
  });
});

<span class="pl-c"><span class="pl-c">//</span> output:</span>
<span class="pl-c"><span class="pl-c">//</span> hi</span></pre></div>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg5Njg4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzg5Njg4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzg5Njg4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73789688">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="7c13f1d1a3ce6dd3373ddb1ce81a26b2">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="7c13f1d1a3ce6dd3373ddb1ce81a26b2" data-unfurl-authenticity-token="kOJM4e9cKaJjzzLWRm+WVw1bfs7WaqQ8RuIEMEkaTW/3os8ggCXqwCTI2NNpyZG+iuFGHsxbdFs+YSE9ogAIDQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73789688">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73789688-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73789688" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73789688">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73789688" id="issuecomment-73789688-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T21:40:21Z" title="Feb 10, 2015, 11:40 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>It was probably the combination of asyncTest and promises, it works just fine now as :</p>
<div class="highlight highlight-source-js"><pre><span class="pl-smi">common</span>.<span class="pl-en">asyncTest</span>(<span class="pl-k">function</span>(<span class="pl-smi">done</span>) {
  <span class="pl-k">var</span> d <span class="pl-k">=</span> <span class="pl-smi">domain</span>.<span class="pl-en">create</span>();
  <span class="pl-k">var</span> domainReceivedError;
  <span class="pl-smi">d</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">"</span>error<span class="pl-pds">"</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {
    domainReceivedError <span class="pl-k">=</span> e;
  });
  <span class="pl-smi">d</span>.<span class="pl-en">run</span>(<span class="pl-k">function</span>() {
    <span class="pl-k">var</span> e <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>error<span class="pl-pds">"</span></span>);
    <span class="pl-k">var</span> domainError <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>domain error<span class="pl-pds">"</span></span>);
    <span class="pl-en">onUnhandledSucceed</span>(done, <span class="pl-k">function</span>(<span class="pl-smi">reason</span>, <span class="pl-smi">promise</span>) {
      <span class="pl-smi">assert</span>.<span class="pl-en">strictEqual</span>(reason, e);
      <span class="pl-smi">assert</span>.<span class="pl-en">strictEqual</span>(domainReceivedError, domainError);
      <span class="pl-smi">d</span>.<span class="pl-en">dispose</span>();
    });
    <span class="pl-k">var</span> a <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>(e);
    <span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
      <span class="pl-k">throw</span> domainError;
    });
  });
});</pre></div>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjMzNTUyODcw">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-233552870">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:233552870,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A2EF0:7C20E25:5C1788F1&quot;,&quot;originating_url&quot;:&quot;https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/timeline/more_items?variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABS3UTqjAAqDczNzcyMjkw&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABS73zdQAH2gAxMjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA%3D%3D&amp;variables%5Bfirst%5D=60&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;utf8=%E2%9C%93&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="57e1627ee2ffdff87eeb5893b446765bf7ccae105816727a6397a30bade20064" href="https://github.com/nodejs/node/compare/064d0625de757e424f98dc6f15d5e783d1e4a3f2..2010a64a9e43e7dc1f8501cf95f70634dd17dfb6">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-233552870" class="timestamp"><relative-time datetime="2015-02-10T21:43:46Z" title="Feb 10, 2015, 11:43 PM GMT+2">on Feb 10, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzkwNjIy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczNzkwNjIy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczNzkwNjIy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73790622">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="4b92993c170fd82f03fc65cfbc3f82d8">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="4b92993c170fd82f03fc65cfbc3f82d8" data-unfurl-authenticity-token="l5JoUwAi2DvBtVtMcFWkwX/7sFnFsCOsd7YTydWU4P/w0uuSb1sbWYaysUlf86Mo+EGIid+B88sPNTbEPo6lnQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73790622">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73790622-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73790622" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73790622">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73790622" id="issuecomment-73790622-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T21:45:39Z" title="Feb 10, 2015, 11:45 PM GMT+2">on Feb 10, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> it catches <code>onUnhandledSucceed is not defined</code></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODA2NDI2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODA2NDI2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczODA2NDI2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73806426">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="a3bb1f2626973d7833ea957552df2f37">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="a3bb1f2626973d7833ea957552df2f37" data-unfurl-authenticity-token="aj63/ZYGgBGgWxwGX+LPN/JG0LZTB2ZbTMy4LSi7zO4NfjQ8+X9Dc+dc9gNwRMjedfzoZkk2tjw0T50gw6GJjA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73806426">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73806426-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73806426" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73806426">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73806426" id="issuecomment-73806426-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-10T23:25:04Z" title="Feb 11, 2015, 1:25 AM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> ah thanks. domain and promises. definitely not two of my strong areas...</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODgxOTY1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODgxOTY1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczODgxOTY1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73881965">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="284b53b68e6d35a01727caeff70666b9">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="284b53b68e6d35a01727caeff70666b9" data-unfurl-authenticity-token="CIreWWejDKa/rlJYd/9Z0m8+QG4YiG1k3mVn+Tvg0rxvyl2YCNrPxPipuF1YWV476IR4vgK5vQOm5kL00PqX3g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73881965">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73881965-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73881965" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73881965">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73881965" id="issuecomment-73881965-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T13:40:16Z" title="Feb 11, 2015, 3:40 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Summarizing what's going on and progress. PR has been looked at by <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> , <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a> <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1093990" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Fishrock123" aria-describedby="hovercard-aria-description">@Fishrock123</a> and <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a>  all left useful comments. (Especially thanks to <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> for all the help and trev for all the useful comments yesterday).</p>
<p>The currently open issues are:</p>
<ul>
<li>Allocating a closure for every <code>.reject</code> called - <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> is this something that can be fixed easily here?</li>
<li>Position and calling of <code>runMicrotasksCallback</code> - this was already discussed and petka is rolling a fix tomorrow.</li>
</ul>
<p>Closed issues are:</p>
<ul>
<li>Default behavior if no handler is attached - consensus is to decide this at a later PR/issue. Once this is merged I'll open such an issue.</li>
<li>Various code style convention issues (positions of braces etc).</li>
<li>The collection used to hold the rejections (started off as a WeakMap and an array, optimized thanks to a comment <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> made).</li>
<li>When to run the unhandled rejection check - it was decided and so far uncontended that the next time to run this is when all microtasks have finished running. Several other alternatives were suggested but as the tests indicate this is the version that works best given the (good) constraints <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a>  and <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> raised.</li>
</ul>
<p>Discussed and closed before the PR:</p>
<ul>
<li>Interoperability concerns with how this will be handled with browsers. Was discussed with Domenic and Paul Irish from Google. Domenic is working on</li>
<li>Interoperability with userland promise libraries - Bluebird and When implement this. RSVP and es6-promise said they'll intergrate this soon. Other promise libraries said they'll likely go forward. I wrote a PR for Q (still need to fix some stuff there) - Kris said he'll likely merge it this weekend.</li>
<li>Naming it and other bikeshed issues.</li>
</ul>
<p>Just adding - awesome work keeping up with all this <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> <g-emoji class="g-emoji" alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png">👍</g-emoji></p>
<p>I'll write another update after the next round of updates.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg0MjQ0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg0MjQ0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczODg0MjQ0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73884244">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="d24af1749d3b3ae48a98a9fc77b48707">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="d24af1749d3b3ae48a98a9fc77b48707" data-unfurl-authenticity-token="NvXQl0gn2q+bxx38TO5Ft/H4J9AOe0tvbKN/WAYv9CJRtVNWJ14ZzdzA9/ljSEJedkIfABRKmwgUIFpV7TWxQA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73884244">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73884244-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73884244" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73884244">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73884244" id="issuecomment-73884244-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T13:57:11Z" title="Feb 11, 2015, 3:57 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>The collection used to hold the rejections (started off as a WeakMap and an array</p>
</blockquote>
<p><code>WeakMap</code> is back in, as I can see</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg0Mzc4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg0Mzc4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczODg0Mzc4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73884378">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="83f5561024ff9b39ef676300060e949c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="83f5561024ff9b39ef676300060e949c" data-unfurl-authenticity-token="FxmP1Tj8c5lo/mi0YuWkxXcKENAgtUNTY3qHi5rD3wpwWQwUV4Ww+y/5grFNQ6Ms8LAoADqEkzQb+aKGcdmaaA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73884378">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73884378-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73884378" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73884378">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73884378" id="issuecomment-73884378-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T13:58:19Z" title="Feb 11, 2015, 3:58 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Yes the WeakMap is needed after it was changed to schedule unique task per promise. Another way is to add new field (symbol or string) to the promise object but this is less preferable than weakmap I think.</p>
<p>Closure allocation is avoided trivially by making the lateTickQueue specialized for this case</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg1MTk2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg1MTk2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczODg1MTk2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73885196">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="a6646acb276a8380516992c59a3583ec">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="a6646acb276a8380516992c59a3583ec" data-unfurl-authenticity-token="F4Qx6IeSGDOt/MOa1XyWfdyAv31vdwRyagJ3rPdltHZwxLIp6OvbUer7KZ/62pGUWzqHrXVG1BUSgVKhHH/xFA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73885196">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73885196-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73885196" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73885196">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73885196" id="issuecomment-73885196-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T14:04:09Z" title="Feb 11, 2015, 4:04 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>lateTickQueue specialized for this case</p>
</blockquote>
<p>yes, that's what I meant.</p>
<p>After some thoughts, we probably still need an array of promises, because it is better to emit events in the same order as rejections actually happened</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg1NzQ4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg1NzQ4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczODg1NzQ4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73885748">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="2f795508638a0c6f0c92ab67c07af46b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="2f795508638a0c6f0c92ab67c07af46b" data-unfurl-authenticity-token="tMjhf7wnOP+Lwpf1IZI3eeSSMFPbyVAcFjxW13zKRKbTiGK+0177nczFffAONDCQYygIg8H4gHtuv3Pal9ABxA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73885748">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73885748-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73885748" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73885748">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73885748" id="issuecomment-73885748-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T14:07:50Z" title="Feb 11, 2015, 4:07 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>The WeakMap is not used a data structure but as a way to add expansion fields to the promise object without actually adding them. That cannot be replaced with an array.</p>
<p>The order of the events is based on the order of the lateQueue array which is in same order as the rejections.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg1ODk3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczODg1ODk3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczODg1ODk3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73885897">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="84ed207316a47d8030d4c3fba169c14f">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="84ed207316a47d8030d4c3fba169c14f" data-unfurl-authenticity-token="dyj42B3DejceWpc/rrHFOFVGRA+FzUktXQoGcGZVXkEQaHsZcrq5VVldfTqBF8LR0vx835/8mUoliSN9jU8bIw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73885897">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73885897-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73885897" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73885897">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73885897" id="issuecomment-73885897-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T14:08:59Z" title="Feb 11, 2015, 4:08 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>The WeakMap is not used a data structure but as a way to add expansion fields to the promise object without actually adding them.</p>
</blockquote>
<p>That's a big part of why <code>WeakMap</code>s were added to ECMAScript in the first place - it's definitely a valid use case for <code>WeakMap</code>s.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjM0MTAyMDUy">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-234102052">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:234104161,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A2EF0:7C20E25:5C1788F1&quot;,&quot;originating_url&quot;:&quot;https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/timeline/more_items?variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABS3UTqjAAqDczNzcyMjkw&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABS73zdQAH2gAxMjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA%3D%3D&amp;variables%5Bfirst%5D=60&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;utf8=%E2%9C%93&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="30c9aa91f9565a39053909666a600b21bef24f365c4743687ba2f71d9d9f193f" href="https://github.com/nodejs/node/compare/2365185999d0b0dcbd01721dacd79295d8d0f8fe..a81693e964fbe3441ce34ac66fbf19cfb7862087">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch
  2 times, most recently


    <a href="https://github.com/nodejs/node/pull/758#event-234102052" class="timestamp"><relative-time datetime="2015-02-11T17:48:02Z" title="Feb 11, 2015, 7:48 PM GMT+2">on Feb 11, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczOTI5OTQ0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczOTI5OTQ0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczOTI5OTQ0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73929944">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="f7d4d88cd2d58c59d2afbeb4bc34675a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="f7d4d88cd2d58c59d2afbeb4bc34675a" data-unfurl-authenticity-token="+LiQalwbDilr61wiOsQnl59LVF50xO2dpk3usqE3oIuf+BOrM2LNSyzsticVYiB+GPFsjm71Pfrezsu/Si3l6Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73929944">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73929944-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73929944" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73929944">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73929944" id="issuecomment-73929944-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T17:59:14Z" title="Feb 11, 2015, 7:59 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I removed the closure but IMO since without closure it is necessary to share variables between next tick startup and promise startup it's not worth it as the optimization has no real benefits since rejections are meant to be used like exceptions.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxOTU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24523873" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24523873" class="timestamp">
              <relative-time datetime="2015-02-11T19:17:10Z" title="Feb 11, 2015, 9:17 PM GMT+2">on Feb 11, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24523873" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24523873R441" data-line-number="441" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      else if (event === kPromiseHandlerAddedAfterReject)</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24523873R442" data-line-number="442" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        rejectionHandled(promise);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24523873R443" data-line-number="443" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      else</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24523873R444" data-line-number="444" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        require('assert').fail('unexpected PromiseRejectEvent');</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24523873" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTIzODcz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTIzODcz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="439c9b7b0e224afe5dde12192c16438a">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="439c9b7b0e224afe5dde12192c16438a" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24523873">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24523873-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24523873" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24523873">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24523873" id="discussion_r24523873-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-11T19:17:10Z" title="Feb 11, 2015, 9:17 PM GMT+2">on Feb 11, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>this should be <code>NativeModule.require</code></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDczOTU0Njc0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDczOTU0Njc0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDczOTU0Njc0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-73954674">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="3178d85ddbee4f0aa78b59fffb84019b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="3178d85ddbee4f0aa78b59fffb84019b" data-unfurl-authenticity-token="i9MY0uVeXaz13i6XN3EFNCWoqRH5ZavwvQ2kdbNdVFTsk5sTiieezrLZxJIY1wLdohKRweNUe5fFjoF4WEcRNg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-73954674">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-73954674-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-73954674" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-73954674">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-73954674" id="issuecomment-73954674-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-11T20:08:14Z" title="Feb 11, 2015, 10:08 PM GMT+2">on Feb 11, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>rejections are meant to be used like exceptions.</p>
</blockquote>
<p>Agreed.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0MDYyNDU1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0MDYyNDU1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0MDYyNDU1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74062455">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="b824ab1e48a3c99f6ddef1240c5fd7ae">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="b824ab1e48a3c99f6ddef1240c5fd7ae" data-unfurl-authenticity-token="hOxU8Onz2WfBUB3TTmYyMb3Ap4hhoGkHqKbzv9IjZE/jrNcxhooaBYZX99ZhwDXYOnqfWHuRuWDQJdayOTkhLQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74062455">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74062455-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74062455" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74062455">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74062455" id="issuecomment-74062455-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-12T12:22:58Z" title="Feb 12, 2015, 2:22 PM GMT+2">on Feb 12, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Right, so the performance concerns have been addressed and the fix for the timing of calling <code>runMicrotasksCallback</code> has been fixed.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> in terms of code functionality are we good to go?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0MTIzNzY4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0MTIzNzY4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0MTIzNzY4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=205482" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Qard" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@Qard" src="https://avatars0.githubusercontent.com/u/205482?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74123768">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="24f1b66c0e36c899eb53d5e5a9c6a7a7">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="24f1b66c0e36c899eb53d5e5a9c6a7a7" data-unfurl-authenticity-token="NikwCG/2OoUsih9tENR/ARsTLxyfWCUR6z9ywnjMUHNRabPJAI/552uN9Wg/cnjonKkXzIVp9XaTvFfPk9YVEQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74123768">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74123768-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74123768" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74123768">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=205482" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Qard" aria-describedby="hovercard-aria-description">Qard</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74123768" id="issuecomment-74123768-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-12T18:25:32Z" title="Feb 12, 2015, 8:25 PM GMT+2">on Feb 12, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>To me, it makes the most sense that promise failure should be consistent with streams failure in that it throws unless there is an explicit event handler.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0MTQyMzI3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0MTQyMzI3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0MTQyMzI3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74142327">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="56d1c967249013ed8f5e892439476ea9">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="56d1c967249013ed8f5e892439476ea9" data-unfurl-authenticity-token="dk8QlTUjC2vnDQK4IVZLuuCXwIARN/0cKVJOp/BMghoRD5NUWlrICaAK6L0O8ExTZy34UAsGLXtR0WuqG1bHeA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74142327">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74142327-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74142327" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74142327">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74142327" id="issuecomment-74142327-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-12T20:05:06Z" title="Feb 12, 2015, 10:05 PM GMT+2">on Feb 12, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Thanks <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=205482" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Qard" aria-describedby="hovercard-aria-description">@Qard</a> but we have decided ( I think?) to defer choosing the default action to another PR - see the comments above.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxOTY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24621162" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24621162" class="timestamp">
              <relative-time datetime="2015-02-12T21:18:16Z" title="Feb 12, 2015, 11:18 PM GMT+2">on Feb 12, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <a class="btn btn-sm btn-outline" href="https://github.com/nodejs/node/pull/758/files#r24621162">View changes</a>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <a href="https://github.com/nodejs/node/pull/758/files#diff-6ff379484cbabad48301d485db111c08" class="file-info link-gray-dark" title="src/node.js">
      src/node.js
    </a>


  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24621162" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24621162R412" data-line-number="412" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      return hadListeners;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24621162R413" data-line-number="413" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    }</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24621162R414" data-line-number="414" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24621162R415" data-line-number="415" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    addPendingUnhandledRejection = function(promise, reason) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24621162" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjIxMTYy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjIxMTYy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="90886672b2d9e857382165d5333f02dd">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="90886672b2d9e857382165d5333f02dd" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24621162">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24621162-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24621162" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24621162">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@trevnorris" src="https://avatars1.githubusercontent.com/u/289174?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24621162" id="discussion_r24621162-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-12T21:18:16Z" title="Feb 12, 2015, 11:18 PM GMT+2">on Feb 12, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Why do it this way instead of just <code>function addPendingUnhandledRejection()</code> ?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24621861" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjIxODYx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjIxODYx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ac76ab0d819a62349183a79331825f58">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ac76ab0d819a62349183a79331825f58" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24621861">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24621861-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24621861" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24621861">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24621861" id="discussion_r24621861-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-12T21:26:13Z" title="Feb 12, 2015, 11:26 PM GMT+2">on Feb 12, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>The promiseSetup needs to access it as well</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAxOTg6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-24657226" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@golyshevd" src="https://avatars2.githubusercontent.com/u/1090017?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description">golyshevd</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-24657226" class="timestamp">
              <relative-time datetime="2015-02-13T11:02:08Z" title="Feb 13, 2015, 1:02 PM GMT+2">on Feb 13, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <a class="btn btn-sm btn-outline" href="https://github.com/nodejs/node/pull/758/files#r24657226">View changes</a>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <a href="https://github.com/nodejs/node/pull/758/files#diff-6ff379484cbabad48301d485db111c08" class="file-info link-gray-dark" title="src/node.js">
      src/node.js
    </a>


  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-24657226" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24657226R401" data-line-number="401" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        var reason = pendingUnhandledRejections.shift();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24657226R402" data-line-number="402" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        if (hasBeenNotifiedProperty.get(promise) === false) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24657226R403" data-line-number="403" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          hasBeenNotifiedProperty.set(promise, true);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-24657226R404" data-line-number="404" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          if (!process.emit('unhandledRejection', reason, promise)) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24657226" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjU3MjI2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjU3MjI2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="5faf6c1e837b8cef52356a41566a75fb">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="5faf6c1e837b8cef52356a41566a75fb" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24657226">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24657226-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24657226" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24657226">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@golyshevd" src="https://avatars3.githubusercontent.com/u/1090017?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description">golyshevd</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24657226" id="discussion_r24657226-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-13T11:02:08Z" title="Feb 13, 2015, 1:02 PM GMT+2">on Feb 13, 2015</relative-time>
              </a>

          </span>
        </h4>

        





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Why not  just directly emit "uncaughtException"? Is't it very similar?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24657924" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjU3OTI0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjU3OTI0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="3497559f7c1307be065c530748e895ce">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="3497559f7c1307be065c530748e895ce" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24657924">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24657924-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24657924" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24657924">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24657924" id="discussion_r24657924-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-13T11:17:00Z" title="Feb 13, 2015, 1:17 PM GMT+2">on Feb 13, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Rejections can be handled asynchronously after</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24657989" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjU3OTg5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjU3OTg5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="da460fff6614e75e11d34703528542dd">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="da460fff6614e75e11d34703528542dd" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24657989">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24657989-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24657989" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24657989">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24657989" id="discussion_r24657989-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-13T11:17:35Z" title="Feb 13, 2015, 1:17 PM GMT+2">on Feb 13, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>No, it is not. Choosing to deal with unhandled rejections like uncaught exceptions is a very opinionated choice.</p>
<p>I'm not saying I agree or disagree with it but it is a breaking change for many users regardless - and not one we should easily introduce. The current plan is to introduce these events now and then choose a default action later - one such default action is to throw the error for <code>"uncaughtException"</code> events to deal with it - there are people who like it and people who object to it. However, at first we need the very basic ability to deal with these events so this pull request makes the minimal changes required that don't make any breaking changes to existing io.js code.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24661021" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjYxMDIx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjYxMDIx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9cbbad5d2031d9ab5166ae051212fcae">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9cbbad5d2031d9ab5166ae051212fcae" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24661021">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24661021-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24661021" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24661021">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@golyshevd" src="https://avatars3.githubusercontent.com/u/1090017?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description">golyshevd</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24661021" id="discussion_r24661021-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-13T12:28:32Z" title="Feb 13, 2015, 2:28 PM GMT+2">on Feb 13, 2015</relative-time>
              </a>

          </span>
        </h4>

        





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Thanks, it is reasonable</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r24663785" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjYzNzg1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NjYzNzg1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="a961a59072afd166869dfab5c69c56a5">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="a961a59072afd166869dfab5c69c56a5" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r24663785">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r24663785-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r24663785" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r24663785">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r24663785" id="discussion_r24663785-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-13T13:33:50Z" title="Feb 13, 2015, 3:33 PM GMT+2">on Feb 13, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1090017" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/golyshevd" aria-describedby="hovercard-aria-description">@golyshevd</a> I've actually since opened an issue about this where you are welcome to argue your stance: <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="57588499" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/830" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/830/hovercard" href="https://github.com/nodejs/node/issues/830" aria-describedby="hovercard-aria-description">#830</a></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIwOkNyb3NzUmVmZXJlbmNlZEV2ZW50NTAxNDUxOTA=">
  
        <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-57588499">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-57588499">
        <relative-time datetime="2015-02-13T11:31:38Z" title="Feb 13, 2015, 1:31 PM GMT+2">on Feb 13, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/node/issues/830" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/830/hovercard" aria-describedby="hovercard-aria-description">
          Default Unhandled Rejection Detection Behavior
          <span class="issue-num">#830</span>
</a>      </h4>
    

    


  

</div>

  <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-235767689">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:235767689,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A2EF0:7C20E25:5C1788F1&quot;,&quot;originating_url&quot;:&quot;https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/timeline/more_items?variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABS3UTqjAAqDczNzcyMjkw&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABS73zdQAH2gAxMjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA%3D%3D&amp;variables%5Bfirst%5D=60&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;utf8=%E2%9C%93&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="71696ebb03a2e5070968506192298409797cc30735fcd4c3f37adcb903f34f35" href="https://github.com/nodejs/node/compare/2855a6c4e0e647d18224a56eddcaea480947fb70..0236f1a63fe155acbce7037c40d2ee268e3204f8">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-235767689" class="timestamp"><relative-time datetime="2015-02-14T00:48:18Z" title="Feb 14, 2015, 2:48 AM GMT+2">on Feb 14, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0NjI1NDUy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0NjI1NDUy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0NjI1NDUy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74625452">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="c54e3dd650816e66fab921b8ccf66a50">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="c54e3dd650816e66fab921b8ccf66a50" data-unfurl-authenticity-token="ecVxI9ZMtb2JLywIrY2SXgya163sv6Ng4ymOLVGqg+AehfLiuTV2384oxg2CK5W3iyDvffaOcwebqqsgurDGgg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74625452">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74625452-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74625452" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74625452">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74625452" id="issuecomment-74625452-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-17T07:01:13Z" title="Feb 17, 2015, 9:01 AM GMT+2">on Feb 17, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Since you're going to discuss this in the TC meeting I'm wondering if you have any more questions/issues that you'd like to discuss before it - anything that can be clarified please let us know.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIwOkNyb3NzUmVmZXJlbmNlZEV2ZW50NTA3NTg5OTY=">
  
        <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-58065913">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@rvagg" src="https://avatars3.githubusercontent.com/u/495647?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-58065913">
        <relative-time datetime="2015-02-18T13:13:50Z" title="Feb 18, 2015, 3:13 PM GMT+2">on Feb 18, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/node/issues/874" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/874/hovercard" aria-describedby="hovercard-aria-description">
          io.js TC Meeting 2015-02-18
          <span class="issue-num">#874</span>
</a>      </h4>
    

    


  

</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTMxMTUx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTMxMTUx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTMxMTUx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74931151">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="71648cbf7d60ec641e4b75308c48603d">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="71648cbf7d60ec641e4b75308c48603d" data-unfurl-authenticity-token="kMNW5Js+yNQ1z5TJAKpwAICzQZAOljY4ZpRPJUQ9R4/3g9Ul9EcLtnLIfswvDHfpBwl5QBSn5l8eF2oorycC7Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74931151">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74931151-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74931151" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74931151">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74931151" id="issuecomment-74931151-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T19:31:33Z" title="Feb 18, 2015, 9:31 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I wrote a native module that does <code>Isolate::SetPromiseRejectCallback()</code> and simply <code>fprintf</code>'s when it's called. Along with the <code>PromiseRejectMessage</code> passed. Here's the test script:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Promise</span>(<span class="pl-k">function</span>(<span class="pl-smi">fulfill</span>, <span class="pl-smi">reject</span>) {
  <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">'</span>hey!<span class="pl-pds">'</span></span>);
});
<span class="pl-smi">p</span>.<span class="pl-c1">then</span>(<span class="pl-k">function</span>() { }, <span class="pl-k">function</span>() { });</pre></div>
<p>Here's the output:</p>
<pre><code>promise_reject: 1  (kPromiseHandlerAddedAfterReject)
promise_reject: 0  (kPromiseRejectWithNoHandler)
</code></pre>
<p>So it seems to be calling the callback more often than it should?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTMxNjc0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTMxNjc0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTMxNjc0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74931674">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="17002598aa262adaabe3dbc5fa7bbf1c">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="17002598aa262adaabe3dbc5fa7bbf1c" data-unfurl-authenticity-token="bqfuBzDKpAIIztxLsu2EBZDOTSQYgUEZWjgSI423lSkJ523GX7NnYE/JNk6dS4PsF3R19AKwkX4iuzcuZq3QSw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74931674">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74931674-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74931674" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74931674">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74931674" id="issuecomment-74931674-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T19:34:25Z" title="Feb 18, 2015, 9:34 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> I'm not sure I understand so correct me if I misunderstood your comment: v8 lets you know when <em>any</em> promise is rejected at any time (and not only unhandled ones) - it reports the rejections synchronously. That's why this PR needs the map for keeping track of rejections and waiting for all microtasks to run before calling the hook.</p>
<p>Like you said yourself earlier - rejections are like errors (much more rare than fulfillements) so this shouldn't really be an issue anyway.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM1NDQy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM1NDQy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTM1NDQy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74935442">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="8fb74f242f3bcc4789f1a0d77738c0cf">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="8fb74f242f3bcc4789f1a0d77738c0cf" data-unfurl-authenticity-token="3UeJt65ap0C7FpsEVe+J6FqPQVNhYwdhxbdfMclwd5K6Bwp2wSNkIvwRcQF6SY4B3TV5g3tS1wa9NHo8Imoy8A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74935442">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74935442-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74935442" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74935442">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74935442" id="issuecomment-74935442-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T19:54:18Z" title="Feb 18, 2015, 9:54 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> Yeah, the v8 hooks are too eager, hence the need for additional code and this PR to implement the unhandled rejection spec</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM4NTg0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM4NTg0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTM4NTg0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74938584">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="8d1a665033c0f579d95bfdd1a64e16b2">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="8d1a665033c0f579d95bfdd1a64e16b2" data-unfurl-authenticity-token="KQ0pe2YoCPLP4s5M7Iew40NtDlUKCVcqrBg0bcmNcIpOTaq6CVHLkIjlJEnDIbcKxNc2hRA4h03UmxFgIpc16A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74938584">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74938584-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74938584" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74938584">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74938584" id="issuecomment-74938584-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T20:11:57Z" title="Feb 18, 2015, 10:11 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> It appears that V8 runs the Promise callback immediately, then reports what happens in the future. Instead of running the callback in the future and reporting the results immediately. Here's the code to demonstrate:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Promise</span>(<span class="pl-k">function</span>(<span class="pl-smi">fulfill</span>, <span class="pl-smi">reject</span>) {
  <span class="pl-c1">process</span>.<span class="pl-en">_rawDebug</span>(<span class="pl-s"><span class="pl-pds">'</span>promise<span class="pl-pds">'</span></span>);
});
<span class="pl-smi">p</span>.<span class="pl-c1">then</span>(<span class="pl-k">function</span>() { }, <span class="pl-k">function</span>() { });
<span class="pl-c1">process</span>.<span class="pl-en">nextTick</span>(<span class="pl-k">function</span>() {
  <span class="pl-c1">process</span>.<span class="pl-en">_rawDebug</span>(<span class="pl-s"><span class="pl-pds">'</span>nextTick<span class="pl-pds">'</span></span>);
});
<span class="pl-c"><span class="pl-c">//</span> output:</span>
<span class="pl-c"><span class="pl-c">//</span> promise</span>
<span class="pl-c"><span class="pl-c">//</span> nextTick</span></pre></div>
<p>And since the promise throws an exception V8 saves the state of the call at that point in time. If V8 instead ran the callback in the future it would have already detected that a reject handler was added, and neither error would have been reported.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM4OTI4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM4OTI4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTM4OTI4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74938928">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="e81d9ed15b3716948c774ec3ddb98fc8">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="e81d9ed15b3716948c774ec3ddb98fc8" data-unfurl-authenticity-token="vezHm3cmY7tke2oPlTNfTYdK5NPNOQC4OInMzcdu3TnarERaGF+g2SN8gAq6lVikAPDcA9cI0N9ACunALHSYWw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74938928">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74938928-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74938928" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74938928">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74938928" id="issuecomment-74938928-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T20:14:06Z" title="Feb 18, 2015, 10:14 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> unlike <code>then</code> there is no requirement in the specification that the promise constructor runs asynchronously. When you do <code>new Promise</code> the code you pass into it is run synchronously. This is for people to support "deferred like" APIs.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM4OTkz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM4OTkz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTM4OTkz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74938993">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="b36202c2ce2de29e51e30ebd0179d1fa">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="b36202c2ce2de29e51e30ebd0179d1fa" data-unfurl-authenticity-token="vvpmc/46ml8HO9Q2sLcl/ieL2xka5SCmWAFTXZ+U2ojZuuWykUNZPUA8PjOfESIXoDHjyQDU8MEggnZQdI6f6g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74938993">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74938993-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74938993" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74938993">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74938993" id="issuecomment-74938993-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T20:14:30Z" title="Feb 18, 2015, 10:14 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>It appears that V8 runs the Promise callback immediately</p>
</blockquote>
<p><a rel="nofollow" href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-promise-executor">https://people.mozilla.org/~jorendorff/es6-draft.html#sec-promise-executor</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM5MzUx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTM5MzUx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTM5MzUx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74939351">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="eb2b63bcc84511313dc18b82f5054851">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="eb2b63bcc84511313dc18b82f5054851" data-unfurl-authenticity-token="LGPX898Y1kfdAoLKm8To4OAba98TJHVJlaTCid5aJEtLI1QysGEVJZoFaM+0Yu8JZ6FTDwkVpS7tJ+eENUBhKQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74939351">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74939351-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74939351" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74939351">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74939351" id="issuecomment-74939351-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T20:16:36Z" title="Feb 18, 2015, 10:16 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Ah I was confused, I thought <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> was talking about the callback he passed to <code>SetPromiseRejectCallback()</code></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTQyNDI2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTQyNDI2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTQyNDI2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74942426">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="90451939763cf9bb194b829050a27e01">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="90451939763cf9bb194b829050a27e01" data-unfurl-authenticity-token="hGNvRotmUV9vmZdIYuFnF7rd4ONKzWIKrLNH6DH9l2vjI+yH5B+SPSiefU1NR2D+PWfYM1D8sm3UMGLl2ufSCQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74942426">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74942426-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74942426" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74942426">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74942426" id="issuecomment-74942426-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T20:34:37Z" title="Feb 18, 2015, 10:34 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> It's more about the impression of how Promises work. Never having looked at the spec, and knowing the fulfill/reject callbacks always run in the future, I assumed that the "executor" would have also been run asynchronously.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTUxNjUy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTUxNjUy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTUxNjUy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74951652">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="440a2cec49bbf97443ff0c70d2766462">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="440a2cec49bbf97443ff0c70d2766462" data-unfurl-authenticity-token="8clKpr5riaBl1LWWofC6ANv0+ZEVhP5Z2mrtTT69w8qWicln0RJKwiLTX5OOVr3pXE7BQQ+1Lj6i6chA1aeGqA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74951652">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74951652-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74951652" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74951652">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74951652" id="issuecomment-74951652-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T21:28:39Z" title="Feb 18, 2015, 11:28 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> that was not criticism, the topic of when it executes was a pretty long debate.</p>
<p>When is this PR landing :D?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTU2OTg2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTU2OTg2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTU2OTg2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74956986">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="595ff66ae2942b838c865204244a97f3">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="595ff66ae2942b838c865204244a97f3" data-unfurl-authenticity-token="AGxCBhY5v+2dMtAvzrKBykvudDsdPxEdepYte7zlrdBnLMHHeUB8j9o1OirhFIYjzFRM6wcOwXoCFQh2V//osg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74956986">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74956986-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74956986" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74956986">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74956986" id="issuecomment-74956986-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T21:58:19Z" title="Feb 18, 2015, 11:58 PM GMT+2">on Feb 18, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> no worries. wasn't taken as such.</p>
<p>So it seems there is no standard, or even near consensus, of when the Promise executor should be called?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTU4NjY1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTU4NjY1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTU4NjY1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74958665">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="051694720b6eb98d130ca48710960216">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="051694720b6eb98d130ca48710960216" data-unfurl-authenticity-token="oM+VnVwxadTELR9wFPoQ6lMhCkPwG1anpvlgve0gJ83HjxZcM0iqtoMq9XU7XBcD1Jsyk+oqhsDeekWwBjpirw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74958665">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74958665-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74958665" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74958665">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74958665" id="issuecomment-74958665-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T22:07:51Z" title="Feb 19, 2015, 12:07 AM GMT+2">on Feb 19, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I think you have misunderstood, the executor function <em>must</em> be called synchronously and it's specified in <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-promise-executor" rel="nofollow">es6</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTU5NjQ3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTU5NjQ3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTU5NjQ3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74959647">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="afa986c4377b245028015f8d94ea12a6">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="afa986c4377b245028015f8d94ea12a6" data-unfurl-authenticity-token="X6jhCM5cck3vvye5oTEcXo2c5X85rGvB7+LolnH1m5Y46GLJoSWxL6i4zbyOlxu3CibdryOdu6aXYc2bmu/e9A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74959647">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74959647-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74959647" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74959647">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74959647" id="issuecomment-74959647-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T22:13:26Z" title="Feb 19, 2015, 12:13 AM GMT+2">on Feb 19, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> Thanks for clarifying. I can't see how that's specified by the link you posted, but I'll believe you. :)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTYwNDU2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTYwNDU2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTYwNDU2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74960456">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="161536f943420725d5855fd4b3bd53bd">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="161536f943420725d5855fd4b3bd53bd" data-unfurl-authenticity-token="c7VAQ/JbNJrVtdZUIg4N3h3zq1XWxbYTomeD4AjmQzQU9cOCnSL3+JKyPFENqAo3mkmThcz0ZnTa5Kbt4/wGVg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74960456">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74960456-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74960456" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74960456">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74960456" id="issuecomment-74960456-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T22:17:42Z" title="Feb 19, 2015, 12:17 AM GMT+2">on Feb 19, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> it's the 10th step</p>
<blockquote>
<ol start="10">
<li>Let completion be Call(executor, undefined, «resolvingFunctions.[[Resolve]], resolvingFunctions.[[Reject]]»).</li>
</ol>
</blockquote>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTc0MzUy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc0OTc0MzUy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc0OTc0MzUy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-74974352">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="6c55fb3418bb91a49097dee7458f773f">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="6c55fb3418bb91a49097dee7458f773f" data-unfurl-authenticity-token="/SjJjIMM1CY5MNCDznp9Dtd3cEElh5AUzuX9ZKl8FbeaaEpN7HUXRH43Oobh3HrnUM1IkT+2QHO2ZthpQmZQ1Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-74974352">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-74974352-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-74974352" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-74974352">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-74974352" id="issuecomment-74974352-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-18T23:51:38Z" title="Feb 19, 2015, 1:51 AM GMT+2">on Feb 19, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> Ah, okay. I didn't realize the steps had to be completed in synchronous execution order. Figured they'd just need to be executed in that order, but at possibly indeterministic times.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MjQ0ODAw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MjQ0ODAw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1MjQ0ODAw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75244800">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="b8a419ec5939fd5227e108af82dceca0">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="b8a419ec5939fd5227e108af82dceca0" data-unfurl-authenticity-token="9lwl686cqV0oyhrbQ/5w5/EVouqqmRupg3KeQ8AY3UuRHKYqoeVqP2/N8N5sWHcOdq+aOrCoy8778btOKwKYKQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75244800">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75244800-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75244800" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75244800">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75244800" id="issuecomment-75244800-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-20T14:22:02Z" title="Feb 20, 2015, 4:22 PM GMT+2">on Feb 20, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> can we land this?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mjg1NTc2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mjg1NTc2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1Mjg1NTc2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@trevnorris" src="https://avatars0.githubusercontent.com/u/289174?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75285576">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="69bab3c4f38e281b9903561999b99022">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="69bab3c4f38e281b9903561999b99022" data-unfurl-authenticity-token="5SjuWEUDW8RRbaoyEsJy37si3xgGc5PuM8b59PDytwuCaG2ZKnqYphZqQDc9ZHU2PJjnyBxCQ4lLRdz5G+jyaQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75285576">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75285576-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75285576" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75285576">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">trevnorris</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75285576" id="issuecomment-75285576-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-20T17:45:28Z" title="Feb 20, 2015, 7:45 PM GMT+2">on Feb 20, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>@iojs/collaborators As the person who dislikes Promises more than probably any other collaborator, I would really like another LGTM before this goes in.</p>
<p>LGTM.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOkxhYmVsZWRFdmVudDIzOTYxNDk5Nw==">
  
        <div class="discussion-item discussion-item-labeled" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-239614997">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-tag" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  


      

    added
      
<span class="IssueLabel d-inline-block v-align-middle" title="PRs that contain new features and should be released in the next minor version." style="background-color: #fef2c0;">
  <a class="lh-condensed-ultra" href="https://github.com/nodejs/node/labels/semver-minor" style="color: #000000;">semver-minor</a>
</span>

    and removed
      
<span class="IssueLabel d-inline-block v-align-middle" style="background-color: #5319e7;">
  <a class="lh-condensed-ultra" href="https://github.com/nodejs/node/labels/tc-agenda" style="color: #ffffff;">tc-agenda</a>
</span>

  labels


    <a href="https://github.com/nodejs/node/pull/758#event-239614997" class="timestamp"><relative-time datetime="2015-02-21T16:26:24Z" title="Feb 21, 2015, 6:26 PM GMT+2">on Feb 21, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzc5NTgx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzc5NTgx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1Mzc5NTgx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75379581">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="2d35429a94248f62b3e02784741f4239">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="2d35429a94248f62b3e02784741f4239" data-unfurl-authenticity-token="9b3SwBKnbemU7DpNjs0ep521mdqyKJrs7Zt6P8pWbSOS/VEBfd6ui9Pr0EihaxlOGg+hCqgZSouVGF8yIUwoQQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75379581">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75379581-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75379581" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75379581">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75379581" id="issuecomment-75379581-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-21T16:38:32Z" title="Feb 21, 2015, 6:38 PM GMT+2">on Feb 21, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I have a few questions/requests:</p>
<ol>
<li>I would like <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> to LGTM this explicitly before it goes in</li>
<li><code>scheduleMicrotasks()</code> usage <code>addPendingUnhandledRejection</code> requires a FIXME notice. It works and it's rather harmless, but still a hack. I can do this myself if I'm going to land this</li>
<li>Maybe we can emit <code>rejectionHandled</code> event in a microtask? /cc <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a></li>
<li><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a>  can you add tests to check that throwing/nextTick/microtask from event handlers works as expected?</li>
</ol>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzc5ODY1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzc5ODY1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1Mzc5ODY1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75379865">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="0430efd84c89d497ebd7dcb7d55ee05b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="0430efd84c89d497ebd7dcb7d55ee05b" data-unfurl-authenticity-token="uaUD0tDVpiVn2o/s6X8sufOiRnQVEpe5F/vNcMEhwdre5YATv6xlRyDdZenG2StQdBh+pA8jR95veOh9KjuEuA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75379865">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75379865-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75379865" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75379865">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75379865" id="issuecomment-75379865-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-21T16:44:30Z" title="Feb 21, 2015, 6:44 PM GMT+2">on Feb 21, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> There are tests for throwing (also includes domain usage) and microtask inside event handler at the end</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzc5OTM3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzc5OTM3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1Mzc5OTM3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75379937">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="81f8e67d6e2a966277daad210a7f13e1">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="81f8e67d6e2a966277daad210a7f13e1" data-unfurl-authenticity-token="cYVnt7k7g7fAW7SvJG+6ElnC+mnKEsWqETlG3QEg4mMWxeR21kJA1YdcXqoLyb373njCudAjFc1pumPQ6jqnAQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75379937">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75379937-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75379937" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75379937">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75379937" id="issuecomment-75379937-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-21T16:46:03Z" title="Feb 21, 2015, 6:46 PM GMT+2">on Feb 21, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>scheduleMicrotasks() usage addPendingUnhandledRejection requires a FIXME notice. It works and it's rather harmless, but still a hack. I can do this myself if I'm going to land this</p>
</blockquote>
<p>I need to schedule microtasks because they might not be scheduled and that will leave code hanging until they are scheduled next time, you really should rename the method if it's not the perfect usage for that...</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MzgwMzkw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MzgwMzkw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1MzgwMzkw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75380390">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="75cf966a677617bc94fdb2faec601264">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="75cf966a677617bc94fdb2faec601264" data-unfurl-authenticity-token="fwJppMI330mJjOjNJlox7lhIDKsIgEE9wO30VrBe9eYYQuplrU4cK86LAsgJ/DYH3/I0exKxkVq4btFbW0SwhA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75380390">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75380390-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75380390" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75380390">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75380390" id="issuecomment-75380390-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-21T16:55:28Z" title="Feb 21, 2015, 6:55 PM GMT+2">on Feb 21, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>I only see the test which throws from <code>nextTick</code>. Am I missing something?</p>
<blockquote>
<p>I need to schedule microtasks because they might not be scheduled and that will leave code hanging until they are scheduled next time, you really should rename the method if it's not the perfect usage for that...</p>
</blockquote>
<p>What you actually need is to ensure that <code>_tickCallback</code> is called. It's called from C++ code only if we have at least on <code>nextTick</code> callback to run. So <code>scheduleMicrotasks</code> only fixes the issue because it schedule exactly one <code>nextTick</code> callback. It is not required to do anything though.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MzgwNjk4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MzgwNjk4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1MzgwNjk4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75380698">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ac2e803b4a516397c4accce4ac54abbd">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="ac2e803b4a516397c4accce4ac54abbd" data-unfurl-authenticity-token="F6EvfOV111h6GBkDpxIN/h8GYa/HMAmqjuAMqH91ZUlw4ay9igwUOj0f8waItAoXmLxZf90B2c32YymllG8gKw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75380698">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75380698-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75380698" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75380698">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75380698" id="issuecomment-75380698-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-21T17:01:17Z" title="Feb 21, 2015, 7:01 PM GMT+2">on Feb 21, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> yes the test is right here for microtask:</p>
<div class="highlight highlight-source-diff"><pre><span class="pl-mi1"><span class="pl-mi1">+</span>common.asyncTest(function(done) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  clean();</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  var e = new Error("error");</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  var expectedDiff;</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  var now = Date.now();</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  process.on("unhandledRejection", function(reason, promise) {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    var now = Date.now();</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    process.nextTick(function() {</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      var diff = Date.now() - now;</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      assert(diff &lt;= 1);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>      done();</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    });</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  });</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  Promise.reject(e);</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>});</span></pre></div>
<p>The difference is always 0 or 1 when I test on virtual machine, when it was bugged the difference was 5+ ms. But if you have a better way to test it, I am ears.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MzgxNDAz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1MzgxNDAz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1MzgxNDAz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75381403">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="8f3d66599ea47928c3f00f677b221e21">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="8f3d66599ea47928c3f00f677b221e21" data-unfurl-authenticity-token="qmPBtrUXeUivIE2XZvDDEi4LFJXRZZUMjalUc9c/aWjNI0J32m66Kugnp5JJVsT7qbEsRctURWv1KnF+PCUsCg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75381403">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75381403-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75381403" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75381403">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75381403" id="issuecomment-75381403-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-21T17:15:37Z" title="Feb 21, 2015, 7:15 PM GMT+2">on Feb 21, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> if you are trying to test that <code>nextTick</code> callbacks are not deferred for a long time, you can call <code>setTimeout</code> and check that it's callback is executed after nextTick callback</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMDA6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25124428" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25124428" class="timestamp">
              <relative-time datetime="2015-02-21T18:43:03Z" title="Feb 21, 2015, 8:43 PM GMT+2">on Feb 21, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.cc">src/node.cc</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25124428" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124428R1003" data-line-number="1003" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  Local&lt;Object&gt; process = env-&gt;process_object();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124428R1004" data-line-number="1004" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124428R1005" data-line-number="1005" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124428R1006" data-line-number="1006" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  callback-&gt;Call(process, 3, args);</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124428" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDI4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDI4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="0dd943c87c9a832e463a7bf3e9f7dd04">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="0dd943c87c9a832e463a7bf3e9f7dd04" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124428">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124428-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124428" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124428">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124428" id="discussion_r25124428-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:43:03Z" title="Feb 21, 2015, 8:43 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>s/3/ARRAY_SIZE(args)/</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMDM6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25124454" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25124454" class="timestamp">
              <relative-time datetime="2015-02-21T18:46:26Z" title="Feb 21, 2015, 8:46 PM GMT+2">on Feb 21, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25124454" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124454R403" data-line-number="403" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          hasBeenNotifiedProperty.set(promise, true);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124454R404" data-line-number="404" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          if (!process.emit('unhandledRejection', reason, promise)) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124454R405" data-line-number="405" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">            // Nobody is listening.</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124454R406" data-line-number="406" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">            // TODO: Take some default action</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124454" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDU0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDU0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="6f1ea720639637308708d0935e1c2aa8">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="6f1ea720639637308708d0935e1c2aa8" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124454">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124454-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124454" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124454">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124454" id="discussion_r25124454-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:46:26Z" title="Feb 21, 2015, 8:46 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Minor style issue: prefer <code>TODO(username) Lorem ipsum.</code></p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124620" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjIw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjIw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b8d0e6b374ed275b902647a07bae7491">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b8d0e6b374ed275b902647a07bae7491" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124620">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124620-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124620" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124620">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124620" id="discussion_r25124620-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:01:52Z" title="Feb 21, 2015, 9:01 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">@bnoordhuis</a> this is to be decided - it's debated at <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="57588499" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/830" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/830/hovercard" href="https://github.com/nodejs/node/issues/830" aria-describedby="hovercard-aria-description">#830</a> - who should <code>(username)</code> be here?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124646" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjQ2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjQ2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="85cde87952d2957663dc28da65bf3afc">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="85cde87952d2957663dc28da65bf3afc" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124646">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124646-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124646" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124646">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124646" id="discussion_r25124646-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:03:59Z" title="Feb 21, 2015, 9:03 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>The author of the code.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMDU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25124470" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25124470" class="timestamp">
              <relative-time datetime="2015-02-21T18:48:45Z" title="Feb 21, 2015, 8:48 PM GMT+2">on Feb 21, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.js">src/node.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25124470" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124470R421" data-line-number="421" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  startup.processPromises = function() {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124470R422" data-line-number="422" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    // this should be kept in sync with PromiseRejectEvent in v8.h</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124470R423" data-line-number="423" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var kPromiseRejectWithNoHandler = 0;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124470R424" data-line-number="424" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var kPromiseHandlerAddedAfterReject = 1;</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124470" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDcw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NDcw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9db38db42721a586da7b795a3cbaf467">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9db38db42721a586da7b795a3cbaf467" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124470">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124470-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124470" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124470">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124470" id="discussion_r25124470-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:48:45Z" title="Feb 21, 2015, 8:48 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Maybe export these in C++ land as (possibly non-enumerable, non-modifiable) properties on the process object?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124624" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjI0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjI0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f8e666246885ac266cb293867fea6a86">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f8e666246885ac266cb293867fea6a86" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124624">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124624-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124624" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124624">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124624" id="discussion_r25124624-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:02:13Z" title="Feb 21, 2015, 9:02 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Good point</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124627" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjI3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjI3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="18dd8df0c735023f0e294b72b5512d36">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="18dd8df0c735023f0e294b72b5512d36" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124627">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124627-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124627" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124627">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124627" id="discussion_r25124627-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:02:22Z" title="Feb 21, 2015, 9:02 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">@bnoordhuis</a> what for?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124659" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjU5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NjU5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="85f45a539011d5c278201709d166bb91">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="85f45a539011d5c278201709d166bb91" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124659">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124659-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124659" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124659">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124659" id="discussion_r25124659-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:05:13Z" title="Feb 21, 2015, 9:05 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>To keep the values automatically in sync with the enum from v8.h.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124675" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0Njc1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0Njc1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="460279f974fa16d66f334321b706337b">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="460279f974fa16d66f334321b706337b" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124675">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124675-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124675" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124675">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124675" id="discussion_r25124675-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:07:01Z" title="Feb 21, 2015, 9:07 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Thanks, that makes sense</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124680" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0Njgw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0Njgw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9de524b10412c7d498ea7e97d775deb8">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9de524b10412c7d498ea7e97d775deb8" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124680">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124680-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124680" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124680">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@vkurchatkin" src="https://avatars2.githubusercontent.com/u/2993861?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124680" id="discussion_r25124680-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:07:26Z" title="Feb 21, 2015, 9:07 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I think this can be done later</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMDY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25124530" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25124530" class="timestamp">
              <relative-time datetime="2015-02-21T18:53:15Z" title="Feb 21, 2015, 8:53 PM GMT+2">on Feb 21, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/common.js">test/common.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25124530" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124530R389" data-line-number="389" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      test.action(done);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124530R390" data-line-number="390" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    } else {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124530R391" data-line-number="391" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      clearInterval(asyncTestHandle);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124530R392" data-line-number="392" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      process.exit(0);</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124530" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTMw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTMw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="e18447aa6869b625448401b86d649251">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="e18447aa6869b625448401b86d649251" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124530">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124530-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124530" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124530">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124530" id="discussion_r25124530-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:53:15Z" title="Feb 21, 2015, 8:53 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>I'm not a fan of calling process.exit() in tests.  Historically, quite a few bugs have gone unnoticed because a test called process.exit().</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMDc6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25124562" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25124562" class="timestamp">
              <relative-time datetime="2015-02-21T18:56:36Z" title="Feb 21, 2015, 8:56 PM GMT+2">on Feb 21, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/common.js">test/common.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25124562" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124562R406" data-line-number="406" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">          return fail(new Error("Async test timeout exceeded"));</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124562R407" data-line-number="407" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">        }</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124562R408" data-line-number="408" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      }, 10);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124562R409" data-line-number="409" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">      setTimeout(nextAsyncTest, 10);</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124562" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTYy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTYy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="9418b3f5b9b10f5f3d51d89201753582">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="9418b3f5b9b10f5f3d51d89201753582" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124562">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124562-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124562" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124562">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124562" id="discussion_r25124562-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:56:36Z" title="Feb 21, 2015, 8:56 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Using setInterval() and setTimeout() with a hard-coded timeout seems incredibly fragile to me.  Ditto for the fixed 10 second total running time.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25125068" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI1MDY4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI1MDY4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="d313fa8e64a06b920744c999e4f22dd8">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="d313fa8e64a06b920744c999e4f22dd8" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25125068">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25125068-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25125068" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25125068">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25125068" id="discussion_r25125068-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T19:45:09Z" title="Feb 21, 2015, 9:45 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Async test can fail by never calling done, it should be rare but 10 second should be generous enough so that it is never falsely triggered.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMDg6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25124565" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25124565" class="timestamp">
              <relative-time datetime="2015-02-21T18:56:51Z" title="Feb 21, 2015, 8:56 PM GMT+2">on Feb 21, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/common.js">test/common.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25124565" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124565R411" data-line-number="411" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  };</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124565R412" data-line-number="412" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124565R413" data-line-number="413" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">})();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124565R414" data-line-number="414" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124565" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTY1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTY1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="22b5a629564110c272ff203641ceca91">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="22b5a629564110c272ff203641ceca91" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124565">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124565-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124565" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124565">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124565" id="discussion_r25124565-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:56:51Z" title="Feb 21, 2015, 8:56 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Style: no blank line at end of file.  Also, please use single quotes for strings.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>


  <div id="js-progressive-timeline-item-container">
  <!-- '"` --><!-- </textarea></xmp> -->


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMDk6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25124572" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25124572" class="timestamp">
              <relative-time datetime="2015-02-21T18:58:03Z" title="Feb 21, 2015, 8:58 PM GMT+2">on Feb 21, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25124572" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124572R99" data-line-number="99" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    _reject = reject;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124572R100" data-line-number="100" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124572R101" data-line-number="101" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  setImmediate(function() {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25124572R102" data-line-number="102" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    // promise.then(assert.fail, function(){});</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25124572" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTcy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI0NTcy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="183a320e815e360d853e24772c812cf0">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="183a320e815e360d853e24772c812cf0" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25124572">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25124572-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25124572" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25124572">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25124572" id="discussion_r25124572-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-21T18:58:03Z" title="Feb 21, 2015, 8:58 PM GMT+2">on Feb 21, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Why is this commented out?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjM5NjQzNDU4">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-239643458">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:239643458,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A329A:7C21283:5C1788F5&quot;,&quot;originating_url&quot;:&quot;https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/timeline/more_items?variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABS61_1TgDqzE5NDkwMjA4OnYy&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABS73zdQAH2gAxMjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA%3D%3D&amp;variables%5Bfirst%5D=60&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;utf8=%E2%9C%93&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="01b3cbff36cb46f6e197a93284a74877f06de85a9eb829bcf41f6832acb59dfb" href="https://github.com/nodejs/node/compare/0236f1a63fe155acbce7037c40d2ee268e3204f8..4b1c94fd13c47446080becf60caa8ab4cf4f1a33">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-239643458" class="timestamp"><relative-time datetime="2015-02-21T19:46:38Z" title="Feb 21, 2015, 9:46 PM GMT+2">on Feb 21, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzg5MzIy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1Mzg5MzIy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1Mzg5MzIy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75389322">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="c6dfd19f7fd8bd1f148a45d0d3c0cb82">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="c6dfd19f7fd8bd1f148a45d0d3c0cb82" data-unfurl-authenticity-token="w447/j2E7zA52Zn0xQPPBJVvpziqluMhKix8vKT5fBWkzrg/Uv0sUn7ec/HqpcjtEtWf6LCnM0ZSr1mxT+M5dw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75389322">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75389322-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75389322" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75389322">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75389322" id="issuecomment-75389322-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-21T19:52:11Z" title="Feb 21, 2015, 9:52 PM GMT+2">on Feb 21, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Rebased and addressed all issues except the time limit for an async test: if there is a better way to fail a test that simply never calls <code>done</code> I am ears.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMTI6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25129534" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25129534" class="timestamp">
              <relative-time datetime="2015-02-22T06:00:14Z" title="Feb 22, 2015, 8:00 AM GMT+2">on Feb 22, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="src/node.cc">src/node.cc</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25129534" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129534R987" data-line-number="987" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">void PromiseRejectCallback(PromiseRejectMessage message) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129534R988" data-line-number="988" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  Isolate* isolate = message.GetPromise()-&gt;GetIsolate();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129534R989" data-line-number="989" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129534R990" data-line-number="990" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  CHECK(isolate);</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25129534" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTM0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTM0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ab98cbb59c68fa2b7acf5439662bb408">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ab98cbb59c68fa2b7acf5439662bb408" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25129534">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25129534-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25129534" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25129534">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25129534" id="discussion_r25129534-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-22T06:00:14Z" title="Feb 22, 2015, 8:00 AM GMT+2">on Feb 22, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>You can remove the CHECK, it can never be NULL now. :-)</p>
<p>It would be better to move <code>Local&lt;Promise&gt; promise = message.GetPromise();</code> to the top because calling GetPromise() twice is slightly inefficient, it creates a Local twice.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMTQ6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25129564" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25129564" class="timestamp">
              <relative-time datetime="2015-02-22T06:05:52Z" title="Feb 22, 2015, 8:05 AM GMT+2">on Feb 22, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <a class="btn btn-sm btn-outline" href="https://github.com/nodejs/node/pull/758/files#r25129564">View changes</a>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <a href="https://github.com/nodejs/node/pull/758/files#diff-6ff379484cbabad48301d485db111c08" class="file-info link-gray-dark" title="src/node.js">
      src/node.js
    </a>


  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25129564" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129564R418" data-line-number="418" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  };</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129564R419" data-line-number="419" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129564R420" data-line-number="420" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  startup.processPromises = function() {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129564R421" data-line-number="421" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    var promiseRejectEvent = process._promiseRejectEvent;</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25129564" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTY0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTY0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="73b4bd278751d0631565d309e1a069a7">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="73b4bd278751d0631565d309e1a069a7" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25129564">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25129564-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25129564" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25129564">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25129564" id="discussion_r25129564-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-22T06:05:52Z" title="Feb 22, 2015, 8:05 AM GMT+2">on Feb 22, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Using an object is not wrong but I would just have created <code>kPromiseRejectWithNoHandler</code> and <code>kPromiseHandlerAddedAfterReject</code> properties on the <code>process</code> object, then assign them to locals here.  That's how e.g. <code>lib/_http_common.js</code> operates.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMTY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25129576" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25129576" class="timestamp">
              <relative-time datetime="2015-02-22T06:09:30Z" title="Feb 22, 2015, 8:09 AM GMT+2">on Feb 22, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/common.js">test/common.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25129576" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129576R357" data-line-number="357" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129576R358" data-line-number="358" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129576R359" data-line-number="359" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129576R360" data-line-number="360" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">(function() {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25129576" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTc2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTc2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ef716ef1edf87164423edcc5b83dae48">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ef716ef1edf87164423edcc5b83dae48" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25129576">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25129576-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25129576" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25129576">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25129576" id="discussion_r25129576-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-22T06:09:30Z" title="Feb 22, 2015, 8:09 AM GMT+2">on Feb 22, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Can I suggest moving this to the regression test file?  It's only used in one place and while I understand that the hard-coded timeouts can't be helped, I don't want to encourage new contributors to start using it in their own tests.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMTg6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25129581" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25129581" class="timestamp">
              <relative-time datetime="2015-02-22T06:10:23Z" title="Feb 22, 2015, 8:10 AM GMT+2">on Feb 22, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25129581" class="diff-table">
    


    <tbody><tr data-position="0">
      <td id="discussion-diff-25129581HL" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
      <td id="discussion-diff-25129581HR0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
      <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,503 @@</td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129581R1" data-line-number="1" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">var common = require('../common');</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129581R2" data-line-number="2" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">var assert = require('assert');</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25129581R3" data-line-number="3" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">var domain = require("domain");</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25129581" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTgx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MTI5NTgx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="66647b6fea488c97faace2784453911c">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="66647b6fea488c97faace2784453911c" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25129581">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25129581-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25129581" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25129581">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@bnoordhuis" src="https://avatars1.githubusercontent.com/u/275871?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25129581" id="discussion_r25129581-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-22T06:10:23Z" title="Feb 22, 2015, 8:10 AM GMT+2">on Feb 22, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Style: can you run <code>s/"/'/g</code> on this file?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDIxODY5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDIxODY5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDIxODY5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@bnoordhuis" src="https://avatars0.githubusercontent.com/u/275871?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75421869">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="04d8bb24595b1f29f21e74b43c328ed7">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="04d8bb24595b1f29f21e74b43c328ed7" data-unfurl-authenticity-token="B4vCHGSYXdpY6Zy6QAnWatniiULbZBZ3PmcVpcsFmqRgy0HdC+GeuB/udr9vr9GDXlixksFVxhBG5DCoIB/fxg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75421869">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75421869-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75421869" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75421869">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">bnoordhuis</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75421869" id="issuecomment-75421869-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-22T06:10:39Z" title="Feb 22, 2015, 8:10 AM GMT+2">on Feb 22, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>LGTM with comments.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjM5NzQ3ODIy">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-239747822">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:239747822,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A329A:7C21283:5C1788F5&quot;,&quot;originating_url&quot;:&quot;https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/timeline/more_items?variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABS61_1TgDqzE5NDkwMjA4OnYy&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABS73zdQAH2gAxMjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA%3D%3D&amp;variables%5Bfirst%5D=60&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;utf8=%E2%9C%93&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="fe1246230621a35c1ede67ffaaf671328d0abc6f746c5c2e817ad5ac990aee59" href="https://github.com/nodejs/node/compare/4b1c94fd13c47446080becf60caa8ab4cf4f1a33..6c5e75005a887943ffb43fce0aaa53ab2bec4567">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-239747822" class="timestamp"><relative-time datetime="2015-02-22T12:44:36Z" title="Feb 22, 2015, 2:44 PM GMT+2">on Feb 22, 2015</relative-time></a>

  </h3>
</div>




</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDMzODc3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDMzODc3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDMzODc3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75433877">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="e7feb93d917d62e87153740a31fe9e99">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="e7feb93d917d62e87153740a31fe9e99" data-unfurl-authenticity-token="qg1ZHry26or2mSvRROP591WeoXCxUdp0QkqP/hPFeF7NTdrf088p6LGewdRrRf4e0iSZoKtgChM6yarz+N89PA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75433877">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75433877-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75433877" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75433877">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75433877" id="issuecomment-75433877-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-22T12:45:37Z" title="Feb 22, 2015, 2:45 PM GMT+2">on Feb 22, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Addressed comments, rebased and squashed</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY0NjM0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY0NjM0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDY0NjM0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75464634">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="c844af02b81102958912d3cbefd35ceb">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="c844af02b81102958912d3cbefd35ceb" data-unfurl-authenticity-token="QwtR/DqaLnmv2uafHpYqgufDvcglLSva+b1EZslkJ1MkS9I9VePtG+jdDJoxMC1rYHmFGD8c+72BPmFrIn5iMQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75464634">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75464634-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75464634" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75464634">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75464634" id="issuecomment-75464634-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-22T21:50:01Z" title="Feb 22, 2015, 11:50 PM GMT+2">on Feb 22, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Right, now that <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">@bnoordhuis</a>, <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> and <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=289174" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/trevnorris" aria-describedby="hovercard-aria-description">@trevnorris</a> have all read the PR it sounds like we're good to go.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> - <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> LGTM'd it in the last TC meeting: <a rel="nofollow" href="https://www.youtube.com/watch?v=jeBPYLJ2_Yc#t=2487">https://www.youtube.com/watch?v=jeBPYLJ2_Yc#t=2487</a> (starts a bit sooner)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY1Mzg2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY1Mzg2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDY1Mzg2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75465386">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="9500c82ff4b8aa2ddd184c88804ba621">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="9500c82ff4b8aa2ddd184c88804ba621" data-unfurl-authenticity-token="GZa8ZdfSh/18rqgPBIhhoQ1wCVuN2D5jumPOqv6mPTR+1j+kuKtEnzupQgorLmZIisoxi5fp7gTC4OunFbx4Vg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75465386">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75465386-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75465386" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75465386">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75465386" id="issuecomment-75465386-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-22T22:01:51Z" title="Feb 23, 2015, 12:01 AM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">@benjamingr</a> well, we can cross number 1 off my list, I guess. number 2 I can do myself. 3 and 4 are still pending, though</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY1NzEz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY1NzEz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDY1NzEz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75465713">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="8e8c063d9afbf2b8a2e6a6b396f329b0">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="8e8c063d9afbf2b8a2e6a6b396f329b0" data-unfurl-authenticity-token="0aEZH4WKmELZpj4hweRryXMO4g0BEB3z7OJKRbkLUJa24Zre6vNbIJ6h1CTuQmwg9LTa3RshzZSUYW9IUhEV9A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75465713">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75465713-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75465713" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75465713">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75465713" id="issuecomment-75465713-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-22T22:04:23Z" title="Feb 23, 2015, 12:04 AM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> anything about 3 and 4?</p>
<blockquote>
<p>3.. Maybe we can emit rejectionHandled event in a microtask? /cc <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a></p>
<p>4.. <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> can you add tests to check that throwing/nextTick/microtask from event handlers works as expected</p>
</blockquote>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY1OTA2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDY1OTA2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDY1OTA2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75465906">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="16df8271a991955a073fb0dcf9130448">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="16df8271a991955a073fb0dcf9130448" data-unfurl-authenticity-token="0pwt8vvT9sNqvtdM1WlzruxTS1efpF+vbG4GdBU7OW+13K4zlKo1oS25PUn6z3RHa+lzh4WVj8gU7SN5/iF8DQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75465906">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75465906-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75465906" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75465906">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75465906" id="issuecomment-75465906-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-22T22:06:05Z" title="Feb 23, 2015, 12:06 AM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>The tests are there, for the third time.</p>
<p>Waiting until all microtasks have fired and then waiting another microtask seems pointless to me.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc0NDIz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc0NDIz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDc0NDIz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75474423">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="79487a79dac6b8684d6d1b21056ba0ca">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="79487a79dac6b8684d6d1b21056ba0ca" data-unfurl-authenticity-token="nwik7Kh4KuhfLsSdb3MHp8zD55gnMeQlgiyioxB3Zxz4SCctxwHpihgpLphA1QBOS3nfSD0ANEL6r4eu+20ifg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75474423">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75474423-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75474423" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75474423">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75474423" id="issuecomment-75474423-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-23T00:12:35Z" title="Feb 23, 2015, 2:12 AM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Can you explain what is happening here then:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c1">process</span>.<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>rejectionHandled<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
  <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>;
});

<span class="pl-k">var</span> p <span class="pl-k">=</span> <span class="pl-c1">Promise</span>.<span class="pl-c1">reject</span>();

<span class="pl-c1">setTimeout</span>(<span class="pl-k">function</span>() {
  <span class="pl-k">try</span>{
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-c1">1</span>)
    <span class="pl-smi">p</span>.<span class="pl-c1">catch</span>(<span class="pl-k">function</span>(){
      <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>caught async<span class="pl-pds">'</span></span>);
    });
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-c1">3</span>)
  } <span class="pl-k">catch</span> (e) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>caught sync<span class="pl-pds">'</span></span>)
  }

}, <span class="pl-c1">0</span>);

<span class="pl-c1">setTimeout</span>(<span class="pl-k">function</span>() {
  <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>timeout<span class="pl-pds">'</span></span>);
}, <span class="pl-c1">1000</span>);</pre></div>
<p>Prints:</p>
<pre><code>1
caught sync
caught async
timeout // after 1000ms
</code></pre>
<p>If you comment out (3):</p>
<pre><code>1
timeout // after 1000ms
caught async
</code></pre>
<p>If you comment out (1):</p>
<pre><code>    console.log('caught sync')
            ^
TypeError: undefined is not a function
</code></pre>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc1OTI4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc1OTI4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDc1OTI4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75475928">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="35373beceb27f17a793d904e4dde5390">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="35373beceb27f17a793d904e4dde5390" data-unfurl-authenticity-token="tCmCys/kxPCu0kcAoWX40qAOmuftd2zbRY6wUNIwBWnTaQELoJ0HkunVrQWOw/87J7SiN/dGvLw9DZVdOSpACw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75475928">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75475928-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75475928" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75475928">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75475928" id="issuecomment-75475928-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-23T00:45:09Z" title="Feb 23, 2015, 2:45 AM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Does that happen without the try catch?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc2MzQx">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc2MzQx" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDc2MzQx/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75476341">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="70a6f61de31674d85be8f050237f25dd">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="70a6f61de31674d85be8f050237f25dd" data-unfurl-authenticity-token="Q5pAlbHcyxI3qoeeS1u1RzoFwL9CnK62RGKptE71U/sk2sNU3qUIcHCtbZtk/bKuvb/4b1itftE84Yy5pe8WmQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75476341">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75476341-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75476341" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75476341">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75476341" id="issuecomment-75476341-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-23T00:53:28Z" title="Feb 23, 2015, 2:53 AM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>No, it doesn't. Though the stack trace inside <code>uncaughtException</code> is weird:</p>
<pre><code>    at process.&lt;anonymous&gt; (/Users/vkurchatkin/io.js/test.js:7:11)
    at emitOne (events.js:77:13)
    at process.emit (events.js:166:7)
    at process._fatalException (node.js:219:26)
    at Promise.chain (native)
    at Promise.then (native)
    at Promise.catch (native)
    at null._onTimeout (/Users/vkurchatkin/io.js/test.js:16:12)
    at Timer.listOnTimeout (timers.js:88:15)
</code></pre>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc2OTg2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NDc2OTg2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NDc2OTg2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75476986">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="d6bbf7364baeed021e65357714931c35">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="d6bbf7364baeed021e65357714931c35" data-unfurl-authenticity-token="F/Q5rjyZu4NaqLQ6nBoQWop+n5xEK/BNaM1CILqv/FNwtLpvU+B44R2vXj+zvBezDcSnTF4aICoQTmctUbW5MQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75476986">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75476986-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75476986" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75476986">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75476986" id="issuecomment-75476986-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-23T01:06:13Z" title="Feb 23, 2015, 3:06 AM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> I added nextTick call and it appears to be fixed. I thought you wanted to microtask in all events before, now I realize what you meant.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NTcyOTQ0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NTcyOTQ0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NTcyOTQ0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75572944">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="69aff4f433fd2dc5240a1f780bd51d1d">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="69aff4f433fd2dc5240a1f780bd51d1d" data-unfurl-authenticity-token="TPM5+UCCfUglpfZ/yCunFstNZBZbenvCFPrNc0FEoewrs7o4L/u+KmKiHHrnjaD/TPdcxkFLq6Vseeh+ql7kjg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75572944">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75572944-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75572944" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75572944">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75572944" id="issuecomment-75572944-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-23T16:10:25Z" title="Feb 23, 2015, 6:10 PM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> can you please confirm nothing more is open at this point of time?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NTgxMzg2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1NTgxMzg2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1NTgxMzg2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75581386">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="166899a06ce5c6c38b23aa5b62339110">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="166899a06ce5c6c38b23aa5b62339110" data-unfurl-authenticity-token="Py5afp9Lp+45ZnjiOFl0mxiR0pHRulyTlrBPVnPEcV5Ybtm/8DJkjH5hkucX/3NynyvqQcuLjPTuM2pbmN40PA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75581386">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75581386-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75581386" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75581386">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75581386" id="issuecomment-75581386-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-23T16:51:06Z" title="Feb 23, 2015, 6:51 PM GMT+2">on Feb 23, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>we need <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a>'s confirmation. The latest change contradicts his spec</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIwOkNyb3NzUmVmZXJlbmNlZEV2ZW50NTE1MDAwMDY=">
  
        <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-58669735">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-58669735">
        <relative-time datetime="2015-02-24T01:48:18Z" title="Feb 24, 2015, 3:48 AM GMT+2">on Feb 24, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/node/issues/932" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/932/hovercard" aria-describedby="hovercard-aria-description">
          Release proposal: v1.4.0
          <span class="issue-num">#932</span>
</a>      </h4>
    

    


  

</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODI1NDQ5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODI1NDQ5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODI1NDQ5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75825449">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="af3ed0587ed055c8e4a2634d4158a297">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="af3ed0587ed055c8e4a2634d4158a297" data-unfurl-authenticity-token="UFdnhl8xA8S2GNq0SqysuO2M9tGtOiwSaxyxVnwJ7fE3F+RHMEjApvEfMLFlCqtRajbOAbcL/HUTn5RblxOokw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75825449">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75825449-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75825449" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75825449">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75825449" id="issuecomment-75825449-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T19:19:28Z" title="Feb 24, 2015, 9:19 PM GMT+2">on Feb 24, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>ping <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMjA6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299202" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299202" class="timestamp">
              <relative-time datetime="2015-02-24T22:20:30Z" title="Feb 25, 2015, 12:20 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <a class="btn btn-sm btn-outline" href="https://github.com/nodejs/node/pull/758/files#r25299202">View changes</a>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <a href="https://github.com/nodejs/node/pull/758/files#diff-eebac629c24e19e2e5640e6ce6f4555f" class="file-info link-gray-dark" title="test/parallel/test-promises-unhandled-rejections.js">
      test/parallel/test-promises-unhandled-rejections.js
    </a>


  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299202" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299202R97" data-line-number="97" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    done();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299202R98" data-line-number="98" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  }, 10);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299202R99" data-line-number="99" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">}</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299202R100" data-line-number="100" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299202" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MjAy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MjAy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="6dd84ce98a181550c8bbdaaf9b42a215">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="6dd84ce98a181550c8bbdaaf9b42a215" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299202">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299202-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299202" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299202">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299202" id="discussion_r25299202-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:20:30Z" title="Feb 25, 2015, 12:20 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>In general I think comments with test descriptions would help these. I will leave my own interpretation of them as line comments as I go and if I get any wrong then let me know.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300850" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwODUw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwODUw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="71589a4b9c537fe933a815c541b2fbdf">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="71589a4b9c537fe933a815c541b2fbdf" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300850">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300850-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300850" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300850">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300850" id="discussion_r25300850-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:39:56Z" title="Feb 25, 2015, 12:39 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> oh, sorry - should have just paid more attention - I get it now</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMjI6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299232" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299232" class="timestamp">
              <relative-time datetime="2015-02-24T22:20:49Z" title="Feb 25, 2015, 12:20 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299232" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299232R98" data-line-number="98" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  }, 10);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299232R99" data-line-number="99" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">}</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299232R100" data-line-number="100" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299232R101" data-line-number="101" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299232" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MjMy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MjMy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="90b642acc13b419a9164f373c514181b">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="90b642acc13b419a9164f373c514181b" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299232">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299232-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299232" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299232">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299232" id="discussion_r25299232-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:20:49Z" title="Feb 25, 2015, 12:20 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Next three: "synchronously rejected promise should trigger unhandledRejection"</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMjU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299266" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299266" class="timestamp">
              <relative-time datetime="2015-02-24T22:21:08Z" title="Feb 25, 2015, 12:21 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299266" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299266R116" data-line-number="116" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299266R117" data-line-number="117" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299266R118" data-line-number="118" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299266R119" data-line-number="119" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299266" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MjY2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MjY2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="5423cd5684568c467e393d42b0967632">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="5423cd5684568c467e393d42b0967632" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299266">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299266-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299266" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299266">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299266" id="discussion_r25299266-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:21:08Z" title="Feb 25, 2015, 12:21 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Promise rejected after setImmediate should trigger unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMjc6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299288" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299288" class="timestamp">
              <relative-time datetime="2015-02-24T22:21:23Z" title="Feb 25, 2015, 12:21 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299288" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299288R128" data-line-number="128" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299288R129" data-line-number="129" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299288R130" data-line-number="130" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299288R131" data-line-number="131" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299288" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5Mjg4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5Mjg4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="55c64036aad142f5eecba49a1398357e">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="55c64036aad142f5eecba49a1398357e" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299288">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299288-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299288" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299288">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299288" id="discussion_r25299288-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:21:23Z" title="Feb 25, 2015, 12:21 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Promise rejected after setTimeout(,1) should trigger unhandled rejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMjk6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299314" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299314" class="timestamp">
              <relative-time datetime="2015-02-24T22:21:43Z" title="Feb 25, 2015, 12:21 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299314" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299314R140" data-line-number="140" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299314R141" data-line-number="141" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299314R142" data-line-number="142" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299314R143" data-line-number="143" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299314" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MzE0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5MzE0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="bed2daeedabf5636658ee1681754b47b">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="bed2daeedabf5636658ee1681754b47b" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299314">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299314-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299314" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299314">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299314" id="discussion_r25299314-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:21:43Z" title="Feb 25, 2015, 12:21 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Catching a promise rejection after setImmediate is not soon enough to stop unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMzI6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299390" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299390" class="timestamp">
              <relative-time datetime="2015-02-24T22:22:38Z" title="Feb 25, 2015, 12:22 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299390" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299390R170" data-line-number="170" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  _reject(e);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299390R171" data-line-number="171" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299390R172" data-line-number="172" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299390R173" data-line-number="173" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299390" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5Mzkw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5Mzkw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ac5139876be179947ea6cd35649e215d">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ac5139876be179947ea6cd35649e215d" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299390">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299390-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299390" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299390">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299390" id="discussion_r25299390-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:22:38Z" title="Feb 25, 2015, 12:22 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>When re-throwing new errors in a promise catch, only the re-thrown error should hit unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMzM6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299453" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299453" class="timestamp">
              <relative-time datetime="2015-02-24T22:23:18Z" title="Feb 25, 2015, 12:23 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299453" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299453R183" data-line-number="183" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299453R184" data-line-number="184" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299453R185" data-line-number="185" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299453R186" data-line-number="186" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299453" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NDUz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NDUz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="5d50e4dfb34389a552e62b285ed2c0ea">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="5d50e4dfb34389a552e62b285ed2c0ea" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299453">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299453-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299453" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299453">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299453" id="discussion_r25299453-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:23:18Z" title="Feb 25, 2015, 12:23 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Test params of unhandledRejection for a synchronously-rejected promise</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMzQ6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299500" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299500" class="timestamp">
              <relative-time datetime="2015-02-24T22:23:57Z" title="Feb 25, 2015, 12:23 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299500" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299500R193" data-line-number="193" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var promise = Promise.reject(e);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299500R194" data-line-number="194" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299500R195" data-line-number="195" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299500R196" data-line-number="196" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299500" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NTAw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NTAw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="3a8e68fc4f4b2fdbca53beb48eb8be1c">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="3a8e68fc4f4b2fdbca53beb48eb8be1c" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299500">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299500-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299500" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299500">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299500" id="discussion_r25299500-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:23:57Z" title="Feb 25, 2015, 12:23 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>When re-throwing new errors in a promise catch, only the re-thrown error should hit unhandledRejection: original promise rejected async with setTimeout(,1)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMzY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299572" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299572" class="timestamp">
              <relative-time datetime="2015-02-24T22:24:47Z" title="Feb 25, 2015, 12:24 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299572" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299572R210" data-line-number="210" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299572R211" data-line-number="211" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299572R212" data-line-number="212" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299572R213" data-line-number="213" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299572" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NTcy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NTcy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="2ee3cd744ae0186c472ae284ccd3d6e1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="2ee3cd744ae0186c472ae284ccd3d6e1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299572">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299572-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299572" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299572">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299572" id="discussion_r25299572-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:24:47Z" title="Feb 25, 2015, 12:24 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>When re-throwing new errors in a promise catch, only the re-thrown error should hit unhandledRejection: promise catch attached a process.nextTick after rejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyMzk6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299641" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299641" class="timestamp">
              <relative-time datetime="2015-02-24T22:25:35Z" title="Feb 25, 2015, 12:25 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299641" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299641R231" data-line-number="231" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var promise2;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299641R232" data-line-number="232" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299641R233" data-line-number="233" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299641R234" data-line-number="234" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299641" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NjQx" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NjQx/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b453e949cff26a0cd9ffce7dbff4107a">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b453e949cff26a0cd9ffce7dbff4107a" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299641">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299641-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299641" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299641">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299641" id="discussion_r25299641-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:25:35Z" title="Feb 25, 2015, 12:25 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Next 2: unhandledRejection should not be triggered if a promise catch is attached synchronously upon the promise's creation</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNDA6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299702" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299702" class="timestamp">
              <relative-time datetime="2015-02-24T22:26:16Z" title="Feb 25, 2015, 12:26 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299702" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299702R245" data-line-number="245" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  }).then(assert.fail, function(){});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299702R246" data-line-number="246" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299702R247" data-line-number="247" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299702R248" data-line-number="248" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299702" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NzAy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5NzAy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="14854e89a06f23b1078b9d05ff2ebacc">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="14854e89a06f23b1078b9d05ff2ebacc" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299702">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299702-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299702" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299702">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299702" id="discussion_r25299702-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:26:16Z" title="Feb 25, 2015, 12:26 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Next three: Attaching a promise catch in a process.nextTick is soon enough to prevent unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNDI6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299797" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299797" class="timestamp">
              <relative-time datetime="2015-02-24T22:27:46Z" title="Feb 25, 2015, 12:27 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299797" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299797R265" data-line-number="265" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299797R266" data-line-number="266" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299797R267" data-line-number="267" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299797R268" data-line-number="268" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299797" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5Nzk3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5Nzk3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="385ce912d385721901d1ef35bf1116d1">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="385ce912d385721901d1ef35bf1116d1" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299797">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299797-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299797" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299797">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299797" id="discussion_r25299797-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:27:46Z" title="Feb 25, 2015, 12:27 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>This test seems to be a dupe of the previous</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNDU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299870" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299870" class="timestamp">
              <relative-time datetime="2015-02-24T22:28:37Z" title="Feb 25, 2015, 12:28 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299870" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299870R280" data-line-number="280" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299870R281" data-line-number="281" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var e = new Error();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299870R282" data-line-number="282" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  onUnhandledFail(done);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299870R283" data-line-number="283" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  Promise.resolve().then(function() {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299870" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5ODcw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5ODcw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="3959c4fcf9da70d07fc3fedef369ca07">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="3959c4fcf9da70d07fc3fedef369ca07" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299870">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299870-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299870" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299870">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299870" id="discussion_r25299870-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:28:37Z" title="Feb 25, 2015, 12:28 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>catching a promise which is asynchronously rejected (via resolution to an asynchronously-rejected promise) prevents unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNDc6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299910" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299910" class="timestamp">
              <relative-time datetime="2015-02-24T22:29:04Z" title="Feb 25, 2015, 12:29 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299910" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299910R291" data-line-number="291" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299910R292" data-line-number="292" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299910R293" data-line-number="293" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299910R294" data-line-number="294" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299910" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5OTEw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5OTEw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="2c3aec70f0d1cfebddc95939072d6a1d">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="2c3aec70f0d1cfebddc95939072d6a1d" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299910">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299910-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299910" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299910">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299910" id="discussion_r25299910-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:29:04Z" title="Feb 25, 2015, 12:29 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Catching a rejected promise derived from throwing in a fulfillment handler prevents unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNDk6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25299973" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25299973" class="timestamp">
              <relative-time datetime="2015-02-24T22:29:41Z" title="Feb 25, 2015, 12:29 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25299973" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299973R301" data-line-number="301" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299973R302" data-line-number="302" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299973R303" data-line-number="303" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25299973R304" data-line-number="304" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25299973" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5OTcz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjk5OTcz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="079b252327567b398e4cafe30caf73eb">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="079b252327567b398e4cafe30caf73eb" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25299973">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25299973-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25299973" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25299973">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25299973" id="discussion_r25299973-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:29:41Z" title="Feb 25, 2015, 12:29 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Catching a rejected promise derived from returning a synchronously-rejected promise in a fulfillment handler prevents unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNTE6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300074" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300074" class="timestamp">
              <relative-time datetime="2015-02-24T22:30:41Z" title="Feb 25, 2015, 12:30 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <a class="btn btn-sm btn-outline" href="https://github.com/nodejs/node/pull/758/files#r25300074">View changes</a>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <a href="https://github.com/nodejs/node/pull/758/files#diff-eebac629c24e19e2e5640e6ce6f4555f" class="file-info link-gray-dark" title="test/parallel/test-promises-unhandled-rejections.js">
      test/parallel/test-promises-unhandled-rejections.js
    </a>


  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300074" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300074R318" data-line-number="318" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    assert.strictEqual(e, reason);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300074R319" data-line-number="319" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    assert.strictEqual(_promise, promise);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300074R320" data-line-number="320" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300074R321" data-line-number="321" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  _promise = Promise.resolve().then(function() {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300074" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMDc0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMDc0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="c189e9167784fe92ed696459af9a02db">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="c189e9167784fe92ed696459af9a02db" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300074">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300074-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300074" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300074">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300074" id="discussion_r25300074-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:30:41Z" title="Feb 25, 2015, 12:30 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>A rejected promise derived from returning an asynchronously-rejected promise in a fulfillment handler does trigger unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNTU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300089" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300089" class="timestamp">
              <relative-time datetime="2015-02-24T22:30:50Z" title="Feb 25, 2015, 12:30 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300089" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300089R327" data-line-number="327" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300089R328" data-line-number="328" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300089R329" data-line-number="329" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300089R330" data-line-number="330" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300089" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMDg5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMDg5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="b65c6ebf1e282fbc5f04294372c2d988">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="b65c6ebf1e282fbc5f04294372c2d988" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300089">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300089-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300089" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300089">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300089" id="discussion_r25300089-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:30:50Z" title="Feb 25, 2015, 12:30 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>A rejected promise derived from throwing in a fulfillment handler does trigger unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNTc6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300103" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300103" class="timestamp">
              <relative-time datetime="2015-02-24T22:30:59Z" title="Feb 25, 2015, 12:30 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300103" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300103R339" data-line-number="339" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300103R340" data-line-number="340" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300103R341" data-line-number="341" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300103R342" data-line-number="342" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300103" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMTAz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMTAz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f88acc6db77521ba5c7c17393681ab95">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f88acc6db77521ba5c7c17393681ab95" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300103">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300103-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300103" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300103">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300103" id="discussion_r25300103-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:30:59Z" title="Feb 25, 2015, 12:30 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>A rejected promise derived from returning a synchronously-rejected promise in a fulfillment handler does trigger unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNTk6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300169" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300169" class="timestamp">
              <relative-time datetime="2015-02-24T22:31:45Z" title="Feb 25, 2015, 12:31 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300169" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300169R352" data-line-number="352" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300169R353" data-line-number="353" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300169R354" data-line-number="354" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">// Combinations with Promise.all</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300169R355" data-line-number="355" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300169" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMTY5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMTY5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="af45ccbfdbe5135c850c3a981b52c18a">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="af45ccbfdbe5135c850c3a981b52c18a" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300169">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300169-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300169" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300169">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300169" id="discussion_r25300169-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:31:45Z" title="Feb 25, 2015, 12:31 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Catching the Promise.all() of a collection that includes a rejected promise prevents unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNjE6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300190" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300190" class="timestamp">
              <relative-time datetime="2015-02-24T22:32:02Z" title="Feb 25, 2015, 12:32 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300190" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300190R358" data-line-number="358" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  Promise.all([Promise.reject(e)]).then(assert.fail, function()&nbsp;{});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300190R359" data-line-number="359" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300190R360" data-line-number="360" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300190R361" data-line-number="361" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300190" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMTkw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMTkw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ad0a8fe0fa7eb28a400699add1db8981">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ad0a8fe0fa7eb28a400699add1db8981" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300190">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300190-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300190" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300190">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300190" id="discussion_r25300190-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:32:02Z" title="Feb 25, 2015, 12:32 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Catching the Promise.all() of a collection that includes a nextTick-async rejected promise prevents unhandledRejection</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNjM6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300256" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300256" class="timestamp">
              <relative-time datetime="2015-02-24T22:32:45Z" title="Feb 25, 2015, 12:32 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300256" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300256R372" data-line-number="372" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300256R373" data-line-number="373" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300256R374" data-line-number="374" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300256R375" data-line-number="375" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300256" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMjU2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMjU2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="63d8fe5031a952116e73f8c57b61852e">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="63d8fe5031a952116e73f8c57b61852e" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300256">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300256-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300256" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300256">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300256" id="discussion_r25300256-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:32:45Z" title="Feb 25, 2015, 12:32 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Failing to catch the Promise.all() of a collection that includes a rejected promise triggers unhandledRejection for the returned promise, not the passed promise</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNjU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300352" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300352" class="timestamp">
              <relative-time datetime="2015-02-24T22:33:45Z" title="Feb 25, 2015, 12:33 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300352" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300352R381" data-line-number="381" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var p = Promise.all([Promise.reject(e)]);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300352R382" data-line-number="382" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300352R383" data-line-number="383" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300352R384" data-line-number="384" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300352" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMzUy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwMzUy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="6e52a5394ed6a294d54b4515b8d23466">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="6e52a5394ed6a294d54b4515b8d23466" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300352">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300352-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300352" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300352">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300352" id="discussion_r25300352-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:33:45Z" title="Feb 25, 2015, 12:33 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Waiting setTimeout(, 10) to catch a promise causes an unhandledRejection + rejectionHandled pair</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNjg6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300404" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300404" class="timestamp">
              <relative-time datetime="2015-02-24T22:34:21Z" title="Feb 25, 2015, 12:34 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300404" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300404R411" data-line-number="411" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var e = new Error();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300404R412" data-line-number="412" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  onUnhandledFail(done);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300404R413" data-line-number="413" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300404R414" data-line-number="414" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  setImmediate(function() {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300404" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNDA0" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNDA0/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="16ac30fd24949d4442860bad5774238f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="16ac30fd24949d4442860bad5774238f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300404">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300404-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300404" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300404">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300404" id="discussion_r25300404-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:34:21Z" title="Feb 25, 2015, 12:34 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Any reason this outer setImmediate exists (and the setTimeout,0) below)?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25301649" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxNjQ5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxNjQ5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="97292e84375c0be4c4478178d567cc7f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="97292e84375c0be4c4478178d567cc7f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25301649">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25301649-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25301649" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25301649">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25301649" id="discussion_r25301649-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:49:27Z" title="Feb 25, 2015, 12:49 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Because everything behaved differently once setImmediate was triggered vs. when it wasn't, when we used to use setImmediate to do scheduling. There should be no harm in having them even now though.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25301836" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxODM2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxODM2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="28fae3655c1f9e2aa21d61e2eb3600b5">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="28fae3655c1f9e2aa21d61e2eb3600b5" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25301836">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25301836-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25301836" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25301836">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25301836" id="discussion_r25301836-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:52:01Z" title="Feb 25, 2015, 12:52 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Got it. I'll amend my above description. Agreed it's a good test.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNzE6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300433" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300433" class="timestamp">
              <relative-time datetime="2015-02-24T22:34:45Z" title="Feb 25, 2015, 12:34 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300433" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300433R407" data-line-number="407" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300433R408" data-line-number="408" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300433R409" data-line-number="409" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300433R410" data-line-number="410" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300433" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNDMz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNDMz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="4417f9a4e0f0b2163f1edf61fa199db5">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="4417f9a4e0f0b2163f1edf61fa199db5" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300433">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300433-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300433" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300433">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300433" id="discussion_r25300433-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:34:45Z" title="Feb 25, 2015, 12:34 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Waiting for some combintaion of process.nextTick + promise microtasks to attach a catch handler is still soon enough to prevent unhandledRejection (all operations nested inside a setImmediate since that can interact strangely with all the moving parts here)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300576" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNTc2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNTc2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="72d323d655ea1d24fdf6bf437b4208d8">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="72d323d655ea1d24fdf6bf437b4208d8" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300576">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300576-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300576" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300576">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300576" id="discussion_r25300576-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:36:35Z" title="Feb 25, 2015, 12:36 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>A copy of this test that starts the chain with process.nextTick would help my sanity.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25301698" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxNjk4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxNjk4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="5b6df918c1e830cfcf2670e05e3c15c9">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="5b6df918c1e830cfcf2670e05e3c15c9" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25301698">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25301698-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25301698" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25301698">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25301698" id="discussion_r25301698-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:50:10Z" title="Feb 25, 2015, 12:50 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>You mean replacing setImmediate with nextTick or ?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25301805" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxODA1" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxODA1/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="000db26da5bed34b65e65225d0ee9f07">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="000db26da5bed34b65e65225d0ee9f07" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25301805">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25301805-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25301805" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25301805">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25301805" id="discussion_r25301805-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:51:42Z" title="Feb 25, 2015, 12:51 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>No I mean instead of Promise.reoslve -&gt; nextTick -&gt; Promise.resolve -&gt; nextTick -&gt; ..., start with nextTick -&gt; Promise.resolve -&gt; ...</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNzQ6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300653" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300653" class="timestamp">
              <relative-time datetime="2015-02-24T22:37:33Z" title="Feb 25, 2015, 12:37 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <a class="btn btn-sm btn-outline" href="https://github.com/nodejs/node/pull/758/files#r25300653">View changes</a>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <a href="https://github.com/nodejs/node/pull/758/files#diff-eebac629c24e19e2e5640e6ce6f4555f" class="file-info link-gray-dark" title="test/parallel/test-promises-unhandled-rejections.js">
      test/parallel/test-promises-unhandled-rejections.js
    </a>


  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300653" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300653R442" data-line-number="442" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">    });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300653R443" data-line-number="443" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  }, 0);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300653R444" data-line-number="444" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300653R445" data-line-number="445" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300653" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNjUz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNjUz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="ef0b4394daa1d975ac35a09e7e1edc59">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="ef0b4394daa1d975ac35a09e7e1edc59" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300653">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300653-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300653" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300653">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300653" id="discussion_r25300653-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:37:33Z" title="Feb 25, 2015, 12:37 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Next few: dupes of earlier tests but using .catch(function(){}) instead of .then(assert.fail, function(){})</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300680" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNjgw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNjgw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="2b6413ac948ab34b461e2124d51768e8">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="2b6413ac948ab34b461e2124d51768e8" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300680">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300680-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300680" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300680">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300680" id="discussion_r25300680-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:38:05Z" title="Feb 25, 2015, 12:38 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Ah, not quite, nevermind. This one is a dupe though.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNzY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300717" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300717" class="timestamp">
              <relative-time datetime="2015-02-24T22:38:30Z" title="Feb 25, 2015, 12:38 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300717" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300717R457" data-line-number="457" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300717R458" data-line-number="458" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300717R459" data-line-number="459" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300717R460" data-line-number="460" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300717" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNzE3" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNzE3/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="389243e723552dab295e1fad0a2601fc">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="389243e723552dab295e1fad0a2601fc" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300717">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300717-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300717" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300717">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300717" id="discussion_r25300717-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:38:30Z" title="Feb 25, 2015, 12:38 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>setImmediate + promise microtasks is too late to attach a catch handler; unhandledRejection will be triggered in that case. (setImmediate before promise creation/rejection)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNzg6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300738" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300738" class="timestamp">
              <relative-time datetime="2015-02-24T22:38:53Z" title="Feb 25, 2015, 12:38 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300738" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300738R476" data-line-number="476" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var p = Promise.reject();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300738R477" data-line-number="477" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300738R478" data-line-number="478" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300738R479" data-line-number="479" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300738" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNzM4" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwNzM4/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f3d8739048869308aa98375b277937a0">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f3d8739048869308aa98375b277937a0" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300738">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300738-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300738" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300738">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300738" id="discussion_r25300738-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:38:53Z" title="Feb 25, 2015, 12:38 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>setImmediate + promise microtasks is too late to attach a catch handler; unhandledRejection will be triggered in that case (setImmediate after promise creation/rejection)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyNzk6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300833" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300833" class="timestamp">
              <relative-time datetime="2015-02-24T22:39:46Z" title="Feb 25, 2015, 12:39 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300833" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300833R495" data-line-number="495" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300833R496" data-line-number="496" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300833R497" data-line-number="497" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300833R498" data-line-number="498" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300833" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwODMz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwODMz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="3f6d85758638c152a4dab00d57db4565">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="3f6d85758638c152a4dab00d57db4565" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300833">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300833-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300833" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300833">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300833" id="discussion_r25300833-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:39:46Z" title="Feb 25, 2015, 12:39 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Dupe of earlier test but without wrapping setImmediate or setTimeout(,0)</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25301919" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxOTE5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxOTE5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="382f7ec82e7fca66b83d5652a23a0eb9">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="382f7ec82e7fca66b83d5652a23a0eb9" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25301919">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25301919-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25301919" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25301919">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25301919" id="discussion_r25301919-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:52:59Z" title="Feb 25, 2015, 12:52 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>The difference is creating Promise.reject before calling setImmediate vs after calling setImmediate</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyODE6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300853" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300853" class="timestamp">
              <relative-time datetime="2015-02-24T22:40:02Z" title="Feb 25, 2015, 12:40 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300853" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300853R510" data-line-number="510" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300853R511" data-line-number="511" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300853R512" data-line-number="512" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300853R513" data-line-number="513" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300853" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwODUz" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwODUz/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="08534e468c3b2b571fc087ef3eb807a9">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="08534e468c3b2b571fc087ef3eb807a9" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300853">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300853-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300853" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300853">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300853" id="discussion_r25300853-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:40:02Z" title="Feb 25, 2015, 12:40 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Dupe of earlier test with .catch instead of .then</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyODI6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300930" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300930" class="timestamp">
              <relative-time datetime="2015-02-24T22:40:58Z" title="Feb 25, 2015, 12:40 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300930" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300930R527" data-line-number="527" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300930R528" data-line-number="528" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300930R529" data-line-number="529" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300930R530" data-line-number="530" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300930" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwOTMw" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwOTMw/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="2905f71fa2c941da48afb0fa3a33e6d5">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="2905f71fa2c941da48afb0fa3a33e6d5" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300930">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300930-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300930" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300930">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300930" id="discussion_r25300930-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:40:58Z" title="Feb 25, 2015, 12:40 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Promise unhandledRejection handler does not interfere with domain error handlers being given exceptions thrown from nextTick.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyODM6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25300972" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25300972" class="timestamp">
              <relative-time datetime="2015-02-24T22:41:27Z" title="Feb 25, 2015, 12:41 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25300972" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300972R552" data-line-number="552" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  clean();</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300972R553" data-line-number="553" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var e = new Error('error');</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300972R554" data-line-number="554" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var expectedDiff;</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25300972R555" data-line-number="555" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  var now = Date.now();</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25300972" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwOTcy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAwOTcy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="277739ab95f56a3e628f9a153541916e">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="277739ab95f56a3e628f9a153541916e" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25300972">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25300972-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25300972" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25300972">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25300972" id="discussion_r25300972-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:41:27Z" title="Feb 25, 2015, 12:41 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>now creations are dead code?</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25302056" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAyMDU2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAyMDU2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f55eb02682eafb7dffed4940ede16e55">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f55eb02682eafb7dffed4940ede16e55" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25302056">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25302056-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25302056" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25302056">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25302056" id="discussion_r25302056-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:54:42Z" title="Feb 25, 2015, 12:54 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>yea :P</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyODU6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25301016" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25301016" class="timestamp">
              <relative-time datetime="2015-02-24T22:41:59Z" title="Feb 25, 2015, 12:41 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25301016" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301016R548" data-line-number="548" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  });</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301016R549" data-line-number="549" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301016R550" data-line-number="550" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301016R551" data-line-number="551" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25301016" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxMDE2" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxMDE2/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="f419df77db0c2d27e8d10e8b8537a0e5">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="f419df77db0c2d27e8d10e8b8537a0e5" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25301016">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25301016-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25301016" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25301016">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25301016" id="discussion_r25301016-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:41:59Z" title="Feb 25, 2015, 12:41 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Inside an unhandledRejection handler, nextTick happens before setTimeout(,1)??</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>

        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25302099" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAyMDk5" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAyMDk5/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="506e9bd8b82708dc6adf566e570534e2">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="506e9bd8b82708dc6adf566e570534e2" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25302099">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25302099-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25302099" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25302099">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25302099" id="discussion_r25302099-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:55:22Z" title="Feb 25, 2015, 12:55 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>The tests whether nextTick is immediately scheduled while inside the event handler, if it wasn't, setTimeout would be called before nextTick. The test used to test difference between dates but <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a>  said this is ok too.</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMTk0OTAyODY6djI=">
  
      

<div class="timeline-comment-wrapper discussion-item-review mt-0">
  <div id="diff-for-comment-25301072" class="timeline-comment js-comment">
    

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


    <div class="discussion-item">
      <h3 class="discussion-item-header f5 text-normal">
        <div class="discussion-item-icon">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
        </div>

        <div class="discussion-item-copy d-inline-block">
          <strong>
            

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

          </strong>

          reviewed

          <span class="text-gray">
            <a href="https://github.com/nodejs/node/pull/758#discussion-diff-25301072" class="timestamp">
              <relative-time datetime="2015-02-24T22:42:47Z" title="Feb 25, 2015, 12:42 AM GMT+2">on Feb 25, 2015</relative-time>
            </a>
          </span>
        </div>

        <div class="float-right">
            <span class="btn btn-sm btn-outline tooltipped tooltipped-multiline tooltipped-s disabled" aria-label="The full changes referenced by this comment are no longer available.">View changes</span>
        </div>
      </h3></div>
    
  </div>
  <div class="discussion-item-body">
    



<div class="file js-comment-container js-resolvable-timeline-thread-container has-inline-notes">
  <div class="file-header">
        <span class="file-info" title="test/parallel/test-promises-unhandled-rejections.js">test/parallel/test-promises-unhandled-rejections.js</span>

    <span title="Label: Outdated" class="Label Label--outline bg-yellow-light">Outdated</span>

  </div>
      
  
<div class="blob-wrapper border-bottom">
  <table id="discussion-diff-25301072" class="diff-table">
    


    <tbody><tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301072R568" data-line-number="568" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">  Promise.reject(e);</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301072R569" data-line-number="569" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">});</span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301072R570" data-line-number="570" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition"></span>

      </td>
    </tr>
    <tr>

        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="discussion-diff-25301072R571" data-line-number="571" class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">
        <span class="blob-code-inner blob-code-marker-addition">asyncTest(function(done) {</span>

      </td>
    </tr>

  </tbody></table>
</div>

<div class="js-inline-comments-container">
  <div class="js-line-comments js-quote-selection-container" data-quote-markdown=".js-comment-body">
    <div class="js-comments-holder">
        

  <div class="review-comment js-minimizable-comment-group js-targetable-comment" id="discussion_r25301072" data-gid="MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxMDcy" data-url="/_render_node/MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MzAxMDcy/comments/review_comment">

    <div class="minimized-comment d-none">
        

<details class="Details-element details-reset " data-body-version="121a3d8bf49116eba3baf5920a5fd67f">
    <summary class="text-gray f6">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="review-comment-contents bg-white f5 text-normal text-italic" style="margin-left:38px">
          <div class="discussion-item-icon discussion-item-icon-gray text-gray">
            <svg class="octicon octicon-fold" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>
          </div>
          <div class="discussion-item-copy d-inline-block">
                This comment has been minimized.

          </div>
        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>

  <div class="previewable-edit js-suggested-changes-container js-task-list-container unminimized-comment js-comment " data-body-version="121a3d8bf49116eba3baf5920a5fd67f" data-thread-side="right">
    <div class="edit-comment-hide">
      <div class="timeline-comment-actions">
        <details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details" id="details-discussion_r25301072">
          <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show more options">
            <svg aria-label="Show more options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
          </summary>

          <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in">

            <clipboard-copy class="dropdown-item btn-link tooltipped tooltipped-nw" for="discussion_r25301072-permalink" aria-label="Copy link" data-toggle-for="details-discussion_r25301072" role="menuitem" tabindex="0">
              Copy link
            </clipboard-copy>

            <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-discussion_r25301072">
              Quote reply
            </button>







          </div>
        </details>
      </div>

      <span class="float-left mt-1">
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="28" width="28" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
      </span>

      <div class="review-comment-contents js-suggested-changes-contents" data-thread-side="right">
        <h4 class="f5 text-normal d-inline">
          <strong>
              <a class="author link-gray-dark" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a> 
          </strong>
          <span class="text-gray">

              <a href="https://github.com/nodejs/node/pull/758#discussion_r25301072" id="discussion_r25301072-permalink" class="js-timestamp timestamp d-inline-block">
                <relative-time datetime="2015-02-24T22:42:47Z" title="Feb 25, 2015, 12:42 AM GMT+2">on Feb 25, 2015</relative-time>
              </a>

          </span>
        </h4>

        
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>





        <task-lists disabled="" sortable="">
          <div class="comment-body markdown-body  js-comment-body">
            <p>Throwing an error inside a rejectionHandled handler goes to unhandledException, and does not cause .catch() to throw an exception</p>
          </div>
        </task-lists>


          

<div class="comment-reactions  js-reactions-container ">
</div>

      </div>
    </div>

  </div>
</div>



    </div>

  </div>


</div>




</div>


  </div>
</div>



</div>

  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODYzNzE5">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODYzNzE5" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODYzNzE5/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75863719">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="374a73702023290d5b36265ac670f2c9">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="374a73702023290d5b36265ac670f2c9" data-unfurl-authenticity-token="2mbFkulxkvEKRxkT/3rHDXynzlj30nlq3mLiFO6qUca9JkZThghRk01A8xbQ3MDk+x32iO3jqQ2m4ccZBbAUpA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75863719">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75863719-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75863719" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75863719">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75863719" id="issuecomment-75863719-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T22:45:42Z" title="Feb 25, 2015, 12:45 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>LGTM if <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> can confirm my interpretation of the tests. I think it would be cool to have those line comments I left in the source code too so that future maintainers know what's going on.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY4Mzg2">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY4Mzg2" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODY4Mzg2/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75868386">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="35503eb8541cf1e9ba08eab89e4ce503">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="35503eb8541cf1e9ba08eab89e4ce503" data-unfurl-authenticity-token="cdD/fnf+eq38EBreAAYP5zpqysJiPyKZyY9PcuGEGJgWkHy/GIe5z7sX8NsvoAgOvdDyEngO8v6xDGp/Cp5d+g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75868386">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75868386-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75868386" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75868386">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75868386" id="issuecomment-75868386-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T23:07:11Z" title="Feb 25, 2015, 1:07 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">@domenic</a> I actually just made asyncTest support descriptions like mocha, hope that's ok too</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY4NzUw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY4NzUw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODY4NzUw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@domenic" src="https://avatars1.githubusercontent.com/u/617481?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75868750">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="2ea4c4a16a311239be61219a87c0e8a1">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="2ea4c4a16a311239be61219a87c0e8a1" data-unfurl-authenticity-token="6fNahWciw5DD2OpkLfNOouwe59/x7cD67Nf630oVFoiOs9lECFsA8oTfAGECVUlLa6TfD+vcEJ2UVN/SoQ9T6g==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75868750">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75868750-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75868750" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75868750">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75868750" id="issuecomment-75868750-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T23:09:20Z" title="Feb 25, 2015, 1:09 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>LGTM although I imagine you may have angered the line-length gods</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY5NTA4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY5NTA4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODY5NTA4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75869508">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ae7723ceda2201b03bb52068735ad689">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="ae7723ceda2201b03bb52068735ad689" data-unfurl-authenticity-token="TPh1knUb74i+eyn2sjUDc2WKJNYUXaDOy6KB1j1gJYUruPZTGmIs6vl8w/OdkwSa4jAcBg5scKmzIaTb1npg5w==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75869508">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75869508-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75869508" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75869508">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75869508" id="issuecomment-75869508-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T23:14:05Z" title="Feb 25, 2015, 1:14 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Should be ok, many test files with such descriptions and messages go over 80 for those messages</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY5ODYw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODY5ODYw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODY5ODYw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=363611" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/phpnode" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@phpnode" src="https://avatars2.githubusercontent.com/u/363611?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75869860">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="7f0f6679c9f2c7da50b44c7ea087f6b7">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="7f0f6679c9f2c7da50b44c7ea087f6b7" data-unfurl-authenticity-token="WHQbuziqq0PRQ7/ArN78rEYTHThVbPy2BCC6JtpX/QI/NJh6V9NoIZZEVcWDePtFwakl6E9dLNF8o58rMU24YA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75869860">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75869860-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75869860" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75869860">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=363611" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/phpnode" aria-describedby="hovercard-aria-description">phpnode</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75869860" id="issuecomment-75869860-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T23:16:34Z" title="Feb 25, 2015, 1:16 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> is this ready to be merged now?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>



  <div id="js-progressive-timeline-item-container">
  <!-- '"` --><!-- </textarea></xmp> -->


  
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODczMDg3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODczMDg3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODczMDg3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@rvagg" src="https://avatars2.githubusercontent.com/u/495647?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75873087">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="3640526f9e189cfa5d73c8d8e94a3f5b">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="3640526f9e189cfa5d73c8d8e94a3f5b" data-unfurl-authenticity-token="J7pq9izb5ncUnfT5tyMQvCZymSvbHw8geIwpPhD6jV9A+uk3Q6IlFVOaHvyYhRdVocih+8Eu30cADwwz++DIPQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75873087">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75873087-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75873087" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75873087">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75873087" id="issuecomment-75873087-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T23:32:48Z" title="Feb 25, 2015, 1:32 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> can you rebase and squash into a single commit please?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>






  </div>



  </div>



  </div>



  </div>

    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDE3OlB1bGxSZXF1ZXN0Q29tbWl0Mjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA==">
  
      
<div class="discussion-item discussion-commits" id="commits-pushed-685dbd8">
  <div class="discussion-item-body">
    <div class="timeline-commits ">
        

<div class="commit js-details-container Details js-socket-channel js-updatable-content no-wrap d-flex mb-2" data-channel="repo:27193779:commit:685dbd85d4de411ffaca1e8c925fc8c67a8ce988" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0Q29tbWl0Mjg4ODM1MDM6Njg1ZGJkODVkNGRlNDExZmZhY2ExZThjOTI1ZmM4YzY3YThjZTk4OA==/commit/pull_condensed">

  <div class="commit-icon mr-3">
    <svg class="octicon octicon-git-commit" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  
<div class="AvatarStack flex-self-start ">
  <div class="AvatarStack-body" aria-label="petkaantonov">

        <a class="avatar" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">
          <img height="20" width="20" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4">
</a>  </div>
</div>



  <div class="commit-message pr-1">
    <code>
      <a title="node: implement unhandled rejection tracking

Implement unhandled rejection tracking for promises as
specified in https://gist.github.com/benjamingr/0237932cee84712951a2

Fixes #256" data-pjax="true" class="message" href="https://github.com/nodejs/node/pull/758/commits/685dbd85d4de411ffaca1e8c925fc8c67a8ce988">node: implement unhandled rejection tracking</a>
    </code>

      <span class="hidden-text-expander inline">
        <button type="button" class="ellipsis-expander js-details-target" aria-expanded="false">…</button>
      </span>
      <div class="commit-desc"><pre>Implement unhandled rejection tracking for promises as
specified in <a href="https://gist.github.com/benjamingr/0237932cee84712951a2">https://gist.github.com/benjamingr/0237932cee84712951a2</a>

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes issue #256.">Fixes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="53723638" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/256" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/256/hovercard" href="https://github.com/nodejs/node/issues/256" aria-describedby="hovercard-aria-description">#256</a></pre></div>

  </div>

  <div class="commit-sig-status text-right pr-1">
    

  </div>

  <div class="commit-ci-status pr-1">
  </div>

  <div class="commit-meta text-right">
    <code>
      <a href="https://github.com/nodejs/node/pull/758/commits/685dbd85d4de411ffaca1e8c925fc8c67a8ce988" class="commit-id">685dbd8</a>
    </code>
  </div>
</div>


    </div>
  </div>
</div>


</div>

    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MjQxMzYwMTE5">
  
        <div class="discussion-item discussion-item-head_ref_force_pushed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-241360119">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-repo-force-push" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      
<a data-hydro-click="{&quot;event_type&quot;:&quot;force_push_timeline_diff.click&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:28883503,&quot;repository_id&quot;:30495325,&quot;event_id&quot;:241360119,&quot;client_id&quot;:&quot;1908395949.1545045287&quot;,&quot;originating_request_id&quot;:&quot;D2F9:1C7A8:52A18B2:7C1EF6B:5C1788D1&quot;,&quot;originating_url&quot;:&quot;https://github.com/nodejs/node/pull/758&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="4210ecafe55d08438e4b2d7a45dfffa821bfa569a2070468670a69b0dcb78ebd" href="https://github.com/nodejs/node/compare/de0572fbae52fe4799c2de289728b814f26506bb..685dbd85d4de411ffaca1e8c925fc8c67a8ce988">force-pushed</a> the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking

  </span>
</span>
branch
  to
  <a href="https://github.com/nodejs/node/commit/685dbd85d4de411ffaca1e8c925fc8c67a8ce988"><code class="discussion-item-entity">685dbd8</code></a>


    <a href="https://github.com/nodejs/node/pull/758#event-241360119" class="timestamp"><relative-time datetime="2015-02-24T23:39:35Z" title="Feb 25, 2015, 1:39 AM GMT+2">on Feb 25, 2015</relative-time></a>

  </h3>
</div>




</div>

    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc1NjI4">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc1NjI4" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODc1NjI4/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@petkaantonov" src="https://avatars3.githubusercontent.com/u/829734?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75875628">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ee84047703a5069ac87036ce3b42d125">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="ee84047703a5069ac87036ce3b42d125" data-unfurl-authenticity-token="mc5CAusXjRpYrYfxninSGnVxA7W4DlAH+uLMup0loI7+jsHDhG5OeB+qbfSxj9Xz8ss7ZaI/gGCCYem3dj/l7A==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75875628">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75875628-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75875628" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75875628">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the node repository.">
      Contributor
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75875628" id="issuecomment-75875628-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-24T23:41:38Z" title="Feb 25, 2015, 1:41 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a> done</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc4MjYw">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc4MjYw" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODc4MjYw/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@rvagg" src="https://avatars2.githubusercontent.com/u/495647?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75878260">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="61c551dedce644275c1cdce29471df23">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="61c551dedce644275c1cdce29471df23" data-unfurl-authenticity-token="3RgVblbdG6vDqUKERHyn8Zaaynbsh87vaIYQZotlwIO6WJavOaTYyYSuqIFr2qAYESDypva2HogQBTVrYH+F4Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75878260">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75878260-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75878260" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75878260">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75878260" id="issuecomment-75878260-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:01:50Z" title="Feb 25, 2015, 2:01 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>oookkaayy ... I might land this then eh?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc4NDIz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc4NDIz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODc4NDIz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=363611" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/phpnode" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@phpnode" src="https://avatars2.githubusercontent.com/u/363611?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75878423">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="8409a92cc5e8a50745d73cb3322f76cd">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="8409a92cc5e8a50745d73cb3322f76cd" data-unfurl-authenticity-token="pUXlCcDosLVlkhU9erUQJ2V/8pEBZRi2DtctUuITspPCBWbIr5Fz1yKV/zhVExfO4sXKQRtUyNF2VAhfCQn38Q==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75878423">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75878423-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75878423" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75878423">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=363611" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/phpnode" aria-describedby="hovercard-aria-description">phpnode</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75878423" id="issuecomment-75878423-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:02:52Z" title="Feb 25, 2015, 2:02 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a> <g-emoji class="g-emoji" alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png">👍</g-emoji> a lot of hard work has gone into this, it'd be nice to see it finally land!</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc4NTA0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc4NTA0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODc4NTA0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@rvagg" src="https://avatars2.githubusercontent.com/u/495647?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75878504">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="acdfc8c71a60cac623116ee5eb55fbee">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="acdfc8c71a60cac623116ee5eb55fbee" data-unfurl-authenticity-token="H81+YDSjlxJ529HInRUPyL3Xy6iFx3rcvc9BmbEtv6p4jf2hW9pUcD7cO82yswghOm3zeJ/2qrvFTGSUWjf6yA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75878504">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75878504-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75878504" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75878504">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75878504" id="issuecomment-75878504-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:03:28Z" title="Feb 25, 2015, 2:03 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p><a rel="nofollow" href="https://jenkins-iojs.nodesource.com/job/iojs+any-pr+multi/193/">https://jenkins-iojs.nodesource.com/job/iojs+any-pr+multi/193/</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc5MjEy">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc5MjEy" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODc5MjEy/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@vkurchatkin" src="https://avatars3.githubusercontent.com/u/2993861?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75879212">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="a1eed2b53112b42a2426d6d80c21a5ef">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="a1eed2b53112b42a2426d6d80c21a5ef" data-unfurl-authenticity-token="mHnolc9N/YFIfc8WXBTrly1EDEvuXihhKnsF27Xkrgf/OWtUoDQ+4w96JRNzsux+qv40m/Rv+AZS+CDWXv7rZQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75879212">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75879212-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75879212" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75879212">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">vkurchatkin</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75879212" id="issuecomment-75879212-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:09:54Z" title="Feb 25, 2015, 2:09 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <blockquote>
<p>LGTM although I imagine you may have angered the line-length gods</p>
</blockquote>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=275871" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnoordhuis" aria-describedby="hovercard-aria-description">@bnoordhuis</a> would be really unhappy with long lines :)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc5MjE0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODc5MjE0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODc5MjE0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75879214">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ca94ba4d1e90a8aeb111300f98e5ddfe">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="ca94ba4d1e90a8aeb111300f98e5ddfe" data-unfurl-authenticity-token="u1nL4pTpgBLQJqd6cLk/4DOdoSfHrQCJOSQmxFUh+aHcGUgj+5BDcJchTX9fHzgJtCeZ992c0O5BpwPJvju8ww==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75879214">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75879214-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75879214" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75879214">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75879214" id="issuecomment-75879214-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:09:55Z" title="Feb 25, 2015, 2:09 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Awesome, great work everyone and especially <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> and <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=2993861" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vkurchatkin" aria-describedby="hovercard-aria-description">@vkurchatkin</a> - it was a long issue + spec + pr + 300 comment road to cross but I think we learned a lot in the process and the semantics formed quite nicely.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDE1OlJlZmVyZW5jZWRFdmVudDI0MTM4NTc4Mw==">
  
        <div class="discussion-item discussion-commits">
  <h3 class="discussion-item-header f5 text-normal" id="ref-commit-872702d">
    <span class="discussion-item-icon">
      <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
    </span>
    
  <a href="https://github.com/rvagg"><span class="author">rvagg</span></a> 


      added a commit
      that referenced
      this pull request

    <a href="https://github.com/nodejs/node/pull/758#ref-commit-872702d" class="timestamp">
      <relative-time datetime="2015-02-25T00:30:11Z" title="Feb 25, 2015, 2:30 AM GMT+2">on Feb 25, 2015</relative-time>
    </a>
  </h3>

  <div class="discussion-item-body">
    <div class="timeline-commits">
      

<div class="commit js-details-container Details js-socket-channel js-updatable-content no-wrap d-flex mb-2" data-channel="repo:27193779:commit:872702d9b712fc60d4e6b06a1e1526e0506abda0" data-url="/_render_node/MDY6Q29tbWl0MjcxOTM3Nzk6ODcyNzAyZDliNzEyZmM2MGQ0ZTZiMDZhMWUxNTI2ZTA1MDZhYmRhMA==/commit/condensed">

  <div class="commit-icon mr-3">
    <svg class="octicon octicon-git-commit" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  
<div class="AvatarStack flex-self-start AvatarStack--two">
  <div class="AvatarStack-body" aria-label="petkaantonov and rvagg (non-author committer)">

        <a class="avatar" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">
          <img height="20" width="20" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4">
</a>
        <a class="avatar" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">
          <img height="20" width="20" alt="@rvagg" src="https://avatars3.githubusercontent.com/u/495647?s=60&amp;v=4">
</a>  </div>
</div>



  <div class="commit-message pr-1">
    <code>
      <a title="node: implement unhandled rejection tracking

Implement unhandled rejection tracking for promises as
specified in https://gist.github.com/benjamingr/0237932cee84712951a2

Fixes #256
PR-URL: https://github.com/iojs/io.js/pull/758
Reviewed-By: Trevor Norris <trev.norris@gmail.com>
Reviewed-By: Ben Noordhuis <info@bnoordhuis.nl>
Reviewed-By: Domenic Denicola <domenic@domenicdenicola.com>" data-pjax="true" class="message" href="https://github.com/nodejs/node/commit/872702d9b712fc60d4e6b06a1e1526e0506abda0">node: implement unhandled rejection tracking</a>
    </code>

      <span class="hidden-text-expander inline">
        <button type="button" class="ellipsis-expander js-details-target" aria-expanded="false">…</button>
      </span>
      <div class="commit-desc"><pre>Implement unhandled rejection tracking for promises as
specified in <a href="https://gist.github.com/benjamingr/0237932cee84712951a2">https://gist.github.com/benjamingr/0237932cee84712951a2</a>

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes issue #256.">Fixes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="53723638" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/256" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/256/hovercard" href="https://github.com/nodejs/node/issues/256" aria-describedby="hovercard-aria-description">#256</a>
PR-URL: <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard" href="https://github.com/nodejs/node/pull/758" aria-describedby="hovercard-aria-description">#758</a>
Reviewed-By: Trevor Norris &lt;trev.norris@gmail.com&gt;
Reviewed-By: Ben Noordhuis &lt;info@bnoordhuis.nl&gt;
Reviewed-By: Domenic Denicola &lt;domenic@domenicdenicola.com&gt;</pre></div>

      <a href="https://github.com/nodejs/node/commit/872702d9b712fc60d4e6b06a1e1526e0506abda0#comments" aria-label="View comments on this commit">
        <svg class="octicon octicon-comment-discussion" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M15 1H6c-.55 0-1 .45-1 1v2H1c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h1v3l3-3h4c.55 0 1-.45 1-1V9h1l3 3V9h1c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zM9 11H4.5L3 12.5V11H1V5h4v3c0 .55.45 1 1 1h3v2zm6-3h-2v1.5L11.5 8H6V2h9v6z"></path></svg>
      </a>
  </div>

  <div class="commit-sig-status text-right pr-1">
    

  </div>

  <div class="commit-ci-status pr-1">
  </div>

  <div class="commit-meta text-right">
    <code>
      <a href="https://github.com/nodejs/node/commit/872702d9b712fc60d4e6b06a1e1526e0506abda0" class="commit-id">872702d</a>
    </code>
  </div>
</div>


    </div>
  </div>
</div>



</div>

    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODgxNjQ3">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODgxNjQ3" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODgxNjQ3/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@rvagg" src="https://avatars2.githubusercontent.com/u/495647?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75881647">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="eb555c58441e1991a1aca03d3667d2d7">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="eb555c58441e1991a1aca03d3667d2d7" data-unfurl-authenticity-token="6ehuQf7e/I59Fuc+9K11GaVOHMpfhVx2EMbwmcGUjCyOqO2Akac/7DoRDTvbC3LwIvQkGkW0jBFoRdWUKo7JTg==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75881647">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75881647-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75881647" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75881647">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75881647" id="issuecomment-75881647-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:30:41Z" title="Feb 25, 2015, 2:30 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>landed in <a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/nodejs/node/commit/872702d9b712fc60d4e6b06a1e1526e0506abda0/hovercard" href="https://github.com/nodejs/node/commit/872702d9b712fc60d4e6b06a1e1526e0506abda0" aria-describedby="hovercard-aria-description"><tt>872702d</tt></a></p>
<p>pretty sure <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> earns a collaborator spot for persisting with this, thanks <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> and others who contributed!</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDExOkNsb3NlZEV2ZW50MjQxMzg2MDI5">
  
        <div class="discussion-item discussion-item-closed" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-241386029">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-circle-slash" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm0 1.3c1.3 0 2.5.44 3.47 1.17l-8 8A5.755 5.755 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zm0 11.41c-1.3 0-2.5-.44-3.47-1.17l8-8c.73.97 1.17 2.17 1.17 3.47 0 3.14-2.56 5.7-5.7 5.7z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@rvagg" src="https://avatars3.githubusercontent.com/u/495647?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  


      
closed this


    <a href="https://github.com/nodejs/node/pull/758#event-241386029" class="timestamp"><relative-time datetime="2015-02-25T00:30:43Z" title="Feb 25, 2015, 2:30 AM GMT+2">on Feb 25, 2015</relative-time></a>

  </h3>
</div>

  <div class="closed-banner"></div>



</div>

    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODgxOTQ1">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODgxOTQ1" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODgxOTQ1/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@rvagg" src="https://avatars2.githubusercontent.com/u/495647?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75881945">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="bbb310ee580b19b51eeef2720c8a4a48">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="bbb310ee580b19b51eeef2720c8a4a48" data-unfurl-authenticity-token="3tQDB0VHIg7g7cw2x59Qu3m/sGBIPTz2PjvYWuaaFG65lIDGKj7hbKfqJjPoOVdS/gWIsFIM7JFGuP1XDYBRDA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75881945">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75881945-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75881945" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75881945">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">rvagg</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75881945" id="issuecomment-75881945-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:33:20Z" title="Feb 25, 2015, 2:33 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>It's just occurred to me that this is missing docs, could someone qualified please write some up and submit a PR? would be really good to have that in prior to a release <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="58669735" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/932" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/932/hovercard" href="https://github.com/nodejs/node/issues/932" aria-describedby="hovercard-aria-description">#932</a> (tomorrow?)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODgxOTg0">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1ODgxOTg0" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1ODgxOTg0/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75881984">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="388ea0ffdb88e0803d06d7397c40eeca">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="388ea0ffdb88e0803d06d7397c40eeca" data-unfurl-authenticity-token="SnT8pIFWnffT0YGNuhB30/2Eb/W4UKeTy8lA+Pmd9wUtNH9l7i9elZTWa4iVtnA6ej5XJaJhd/SzSmX1EoeyZw==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75881984">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75881984-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75881984" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75881984">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75881984" id="issuecomment-75881984-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T00:33:45Z" title="Feb 25, 2015, 2:33 AM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Awesome! If my opinion counts I definitely think <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">@petkaantonov</a> deserves a collaborator spot - this and other PRs show that he has a lot to offer to io.js in terms of APIhelp  and performance.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">@rvagg</a> already made a docs PR :) (Whoops, I pulled against the wrong fork, here it is now <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="58832094" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/946" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/946/hovercard" href="https://github.com/nodejs/node/pull/946" aria-describedby="hovercard-aria-description">#946</a> )</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQyNDE0MTc5NTA=">
  
        <div class="discussion-item discussion-item-head_ref_deleted" data-team-hovercards-enabled="">
  <h3 class="discussion-item-header f5 text-normal" id="event-241417950">

    <span class="discussion-item-icon">
      <svg class="octicon octicon-git-branch" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </span>

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">petkaantonov</a>
  


      deleted the
<span class="commit-ref user-select-contain">
  <span class="css-truncate-target">
    petkaantonov:unhandled-rejection-tracking


  </span>
</span>
branch


    <a href="https://github.com/nodejs/node/pull/758#event-241417950" class="timestamp"><relative-time datetime="2015-02-25T01:43:13Z" title="Feb 25, 2015, 3:43 AM GMT+2">on Feb 25, 2015</relative-time></a>

  </h3>
</div>


  <div class="discussion-item discussion-commits">
  <h3 class="discussion-item-header f5 text-normal" id="ref-commit-f468743">
    <span class="discussion-item-icon">
      <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
    </span>
    
  <a href="https://github.com/petkaantonov"><span class="author">petkaantonov</span></a> 


      added a commit
        to petkaantonov/io.js
      that referenced
      this pull request

    <a href="https://github.com/nodejs/node/pull/758#ref-commit-f468743" class="timestamp">
      <relative-time datetime="2015-02-25T01:54:46Z" title="Feb 25, 2015, 3:54 AM GMT+2">on Feb 25, 2015</relative-time>
    </a>
  </h3>

  <div class="discussion-item-body">
    <div class="timeline-commits">
      

<div class="commit js-details-container Details js-socket-channel js-updatable-content no-wrap d-flex mb-2" data-channel="repo:30495325:commit:f46874357ee7b909ae54304c6791f2a4baddf613" data-url="/_render_node/MDY6Q29tbWl0MzA0OTUzMjU6ZjQ2ODc0MzU3ZWU3YjkwOWFlNTQzMDRjNjc5MWYyYTRiYWRkZjYxMw==/commit/condensed">

  <div class="commit-icon mr-3">
    <svg class="octicon octicon-git-commit" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  
<div class="AvatarStack flex-self-start ">
  <div class="AvatarStack-body" aria-label="petkaantonov">

        <a class="avatar" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=829734" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/petkaantonov" aria-describedby="hovercard-aria-description">
          <img height="20" width="20" alt="@petkaantonov" src="https://avatars2.githubusercontent.com/u/829734?s=60&amp;v=4">
</a>  </div>
</div>



  <div class="commit-message pr-1">
    <code>
      <a title="node: implement unhandled rejection tracking

Implement unhandled rejection tracking for promises as
specified in https://gist.github.com/benjamingr/0237932cee84712951a2

Fixes #256
PR-URL: https://github.com/iojs/io.js/pull/758
Reviewed-By: Trevor Norris <trev.norris@gmail.com>
Reviewed-By: Ben Noordhuis <info@bnoordhuis.nl>
Reviewed-By: Domenic Denicola <domenic@domenicdenicola.com>" data-pjax="true" class="message" href="https://github.com/petkaantonov/io.js/commit/f46874357ee7b909ae54304c6791f2a4baddf613">node: implement unhandled rejection tracking</a>
    </code>

      <span class="hidden-text-expander inline">
        <button type="button" class="ellipsis-expander js-details-target" aria-expanded="false">…</button>
      </span>
      <div class="commit-desc"><pre>Implement unhandled rejection tracking for promises as
specified in <a href="https://gist.github.com/benjamingr/0237932cee84712951a2">https://gist.github.com/benjamingr/0237932cee84712951a2</a>

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes issue #256.">Fixes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="53723638" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/256" data-hovercard-type="issue" data-hovercard-url="/nodejs/node/issues/256/hovercard" href="https://github.com/nodejs/node/issues/256" aria-describedby="hovercard-aria-description">nodejs#256</a>
PR-URL: <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard" href="https://github.com/nodejs/node/pull/758" aria-describedby="hovercard-aria-description">nodejs#758</a>
Reviewed-By: Trevor Norris &lt;trev.norris@gmail.com&gt;
Reviewed-By: Ben Noordhuis &lt;info@bnoordhuis.nl&gt;
Reviewed-By: Domenic Denicola &lt;domenic@domenicdenicola.com&gt;</pre></div>

  </div>

  <div class="commit-sig-status text-right pr-1">
    

  </div>

  <div class="commit-ci-status pr-1">
  </div>

  <div class="commit-meta text-right">
    <code>
      <a href="https://github.com/petkaantonov/io.js/commit/f46874357ee7b909ae54304c6791f2a4baddf613" class="commit-id">f468743</a>
    </code>
  </div>
</div>


    </div>
  </div>
</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-58859881">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=156269" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fengmk2" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@fengmk2" src="https://avatars2.githubusercontent.com/u/156269?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=156269" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fengmk2" aria-describedby="hovercard-aria-description">fengmk2</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-58859881">
        <relative-time datetime="2015-02-25T07:09:54Z" title="Feb 25, 2015, 9:09 AM GMT+2">on Feb 25, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/nodejs-zh-CN/issues/109" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/nodejs-zh-CN/issues/109/hovercard" aria-describedby="hovercard-aria-description">
          Implement unhandled rejection tracking for promises
          <span class="issue-num">#109</span>
</a>      </h4>
    

    


  

</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-53723674">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-53723674">
        <relative-time datetime="2015-02-25T09:19:47Z" title="Feb 25, 2015, 11:19 AM GMT+2">on Feb 25, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/node-v0.x-archive/issues/8997" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/node-v0.x-archive/issues/8997/hovercard" aria-describedby="hovercard-aria-description">
          Consider exposing promise unhandled rejection hook
          <span class="issue-num">#8997</span>
</a>      </h4>
    

    


  

</div>



</div>

    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1OTcyODEz">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDc1OTcyODEz" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDc1OTcyODEz/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=801895" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tjconcept" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@tjconcept" src="https://avatars0.githubusercontent.com/u/801895?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-75972813">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="4a5e372ec1adeff2be5ec68f5cb87d22">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="4a5e372ec1adeff2be5ec68f5cb87d22" data-unfurl-authenticity-token="0n5R3ZlYyNxYAxNCFGHABodp/pRMhCZqCOn0lDW9esu1PtIc9iELvh8E+Uc7x8fvANPGRFa19g1watGZ3qc/qQ==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-75972813">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-75972813-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-75972813" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-75972813">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=801895" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tjconcept" aria-describedby="hovercard-aria-description">tjconcept</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-75972813" id="issuecomment-75972813-permalink" class="timestamp js-timestamp"><relative-time datetime="2015-02-25T14:51:19Z" title="Feb 25, 2015, 4:51 PM GMT+2">on Feb 25, 2015</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Amazing work being done. This is Open Source.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDE1OlJlZmVyZW5jZWRFdmVudDI0MTk2MDg1NA==">
  
        <div class="discussion-item discussion-commits">
  <h3 class="discussion-item-header f5 text-normal" id="ref-commit-fdc6e11">
    <span class="discussion-item-icon">
      <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
    </span>
    
  <a href="https://github.com/rvagg"><span class="author">rvagg</span></a> 


      added a commit
      that referenced
      this pull request

    <a href="https://github.com/nodejs/node/pull/758#ref-commit-fdc6e11" class="timestamp">
      <relative-time datetime="2015-02-25T19:25:10Z" title="Feb 25, 2015, 9:25 PM GMT+2">on Feb 25, 2015</relative-time>
    </a>
  </h3>

  <div class="discussion-item-body">
    <div class="timeline-commits">
      

<div class="commit js-details-container Details js-socket-channel js-updatable-content no-wrap d-flex mb-2" data-channel="repo:27193779:commit:fdc6e1142dc879ced0a92c0f59238b9c3c5883f8" data-url="/_render_node/MDY6Q29tbWl0MjcxOTM3Nzk6ZmRjNmUxMTQyZGM4NzljZWQwYTkyYzBmNTkyMzhiOWMzYzU4ODNmOA==/commit/condensed">

  <div class="commit-icon mr-3">
    <svg class="octicon octicon-git-commit" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  
<div class="AvatarStack flex-self-start ">
  <div class="AvatarStack-body" aria-label="rvagg">

        <a class="avatar" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">
          <img height="20" width="20" alt="@rvagg" src="https://avatars3.githubusercontent.com/u/495647?s=60&amp;v=4">
</a>  </div>
</div>



  <div class="commit-message pr-1">
    <code>
      <a title="2015-02-25 io.js v1.4.0 Release

Notable changes:

* process / promises: An'unhandledRejection' event is now emitted on
  process whenever a Promise is rejected and no error handler is
  attached to the Promise within a turn of the event loop. A
  'rejectionHandled' event is now emitted whenever a Promise was
  rejected and an error handler was attached to it later than after an
  event loop turn. See the process documentation for more detail.
  https://github.com/iojs/io.js/pull/758 (Petka Antonov)
* streams: you can now use regular streams as an underlying socket for
  tls.connect() https://github.com/iojs/io.js/pull/758 (Fedor Indutny)
* V8: Upgrade V8 to 4.1.0.21. Includes an embargoed fix, details
  should be available at
  https://code.google.com/p/chromium/issues/detail?id=430201
  when embargo is lifted. A breaking ABI change has been held back
  from this upgrade, possibly to be included when io.js merges V8 4.2.
  See https://github.com/iojs/io.js/pull/952 for discussion.
* npm: Upgrade npm to 2.6.0. Includes features to support the new
  registry and to prepare for npm@3. See npm CHANGELOG.md
  https://github.com/npm/npm/blob/master/CHANGELOG.md#v260-2015-02-12
  for details.
* libuv: Upgrade to 1.4.1. See libuv ChangeLog
  https://github.com/libuv/libuv/blob/v1.x/ChangeLog for details of
  fixes." data-pjax="true" class="message" href="https://github.com/nodejs/node/commit/fdc6e1142dc879ced0a92c0f59238b9c3c5883f8">2015-02-25 io.js v1.4.0 Release</a>
    </code>

      <span class="hidden-text-expander inline">
        <button type="button" class="ellipsis-expander js-details-target" aria-expanded="false">…</button>
      </span>
      <div class="commit-desc"><pre>Notable changes:

* process / promises: An'unhandledRejection' event is now emitted on
  process whenever a Promise is rejected and no error handler is
  attached to the Promise within a turn of the event loop. A
  'rejectionHandled' event is now emitted whenever a Promise was
  rejected and an error handler was attached to it later than after an
  event loop turn. See the process documentation for more detail.
  <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard" href="https://github.com/nodejs/node/pull/758" aria-describedby="hovercard-aria-description">#758</a> (Petka Antonov)
* streams: you can now use regular streams as an underlying socket for
  tls.connect() <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard" href="https://github.com/nodejs/node/pull/758" aria-describedby="hovercard-aria-description">#758</a> (Fedor Indutny)
* V8: Upgrade V8 to 4.1.0.21. Includes an embargoed fix, details
  should be available at
  <a href="https://code.google.com/p/chromium/issues/detail?id=430201" rel="nofollow">https://code.google.com/p/chromium/issues/detail?id=430201</a>
  when embargo is lifted. A breaking ABI change has been held back
  from this upgrade, possibly to be included when io.js merges V8 4.2.
  See <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="58887898" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/952" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/952/hovercard" href="https://github.com/nodejs/node/pull/952" aria-describedby="hovercard-aria-description">#952</a> for discussion.
* npm: Upgrade npm to 2.6.0. Includes features to support the new
  registry and to prepare for npm@3. See npm CHANGELOG.md
  <a href="https://github.com/npm/npm/blob/master/CHANGELOG.md#v260-2015-02-12">https://github.com/npm/npm/blob/master/CHANGELOG.md#v260-2015-02-12</a>
  for details.
* libuv: Upgrade to 1.4.1. See libuv ChangeLog
  <a href="https://github.com/libuv/libuv/blob/v1.x/ChangeLog">https://github.com/libuv/libuv/blob/v1.x/ChangeLog</a> for details of
  fixes.</pre></div>

  </div>

  <div class="commit-sig-status text-right pr-1">
    

  </div>

  <div class="commit-ci-status pr-1">
  </div>

  <div class="commit-meta text-right">
    <code>
      <a href="https://github.com/nodejs/node/commit/fdc6e1142dc879ced0a92c0f59238b9c3c5883f8" class="commit-id">fdc6e11</a>
    </code>
  </div>
</div>


    </div>
  </div>
</div>

  
  <div class="discussion-item discussion-commits">
  <h3 class="discussion-item-header f5 text-normal" id="ref-commit-4810dd4">
    <span class="discussion-item-icon">
      <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
    </span>
    
  <a href="https://github.com/rvagg"><span class="author">rvagg</span></a> 


      added a commit
      that referenced
      this pull request

    <a href="https://github.com/nodejs/node/pull/758#ref-commit-4810dd4" class="timestamp">
      <relative-time datetime="2015-02-26T19:40:45Z" title="Feb 26, 2015, 9:40 PM GMT+2">on Feb 26, 2015</relative-time>
    </a>
  </h3>

  <div class="discussion-item-body">
    <div class="timeline-commits">
      

<div class="commit js-details-container Details js-socket-channel js-updatable-content no-wrap d-flex mb-2" data-channel="repo:27193779:commit:4810dd494e7d8fa4423d6aa590ea83ce86b1ca8e" data-url="/_render_node/MDY6Q29tbWl0MjcxOTM3Nzk6NDgxMGRkNDk0ZTdkOGZhNDQyM2Q2YWE1OTBlYTgzY2U4NmIxY2E4ZQ==/commit/condensed">

  <div class="commit-icon mr-3">
    <svg class="octicon octicon-git-commit" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  
<div class="AvatarStack flex-self-start ">
  <div class="AvatarStack-body" aria-label="rvagg">

        <a class="avatar" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=495647" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rvagg" aria-describedby="hovercard-aria-description">
          <img height="20" width="20" alt="@rvagg" src="https://avatars3.githubusercontent.com/u/495647?s=60&amp;v=4">
</a>  </div>
</div>



  <div class="commit-message pr-1">
    <code>
      <a title="2015-02-26 io.js v1.4.1 Release

Notable changes:

* process / promises: An'unhandledRejection' event is now emitted on
  process whenever a Promise is rejected and no error handler is
  attached to the Promise within a turn of the event loop. A
  'rejectionHandled' event is now emitted whenever a Promise was
  rejected and an error handler was attached to it later than after an
  event loop turn. See the process documentation for more detail.
  https://github.com/iojs/io.js/pull/758 (Petka Antonov)
* streams: you can now use regular streams as an underlying socket for
  tls.connect() https://github.com/iojs/io.js/pull/758 (Fedor Indutny)
* http: A new 'abort' event emitted when a http.ClientRequest is
  aborted by the client. https://github.com/iojs/io.js/pull/945
  (Evan Lucas)
* V8: Upgrade V8 to 4.1.0.21. Includes an embargoed fix, details
  should be available at
  https://code.google.com/p/chromium/issues/detail?id=430201
  when embargo is lifted. A breaking ABI change has been held back
  from this upgrade, possibly to be included when io.js merges V8 4.2.
  See https://github.com/iojs/io.js/pull/952 for discussion.
* npm: Upgrade npm to 2.6.0. Includes features to support the new
  registry and to prepare for npm@3. See npm CHANGELOG.md
  https://github.com/npm/npm/blob/master/CHANGELOG.md#v260-2015-02-12
  for details.
* libuv: Upgrade to 1.4.2. See libuv ChangeLog
  https://github.com/libuv/libuv/blob/v1.x/ChangeLog for details of
  fixes." data-pjax="true" class="message" href="https://github.com/nodejs/node/commit/4810dd494e7d8fa4423d6aa590ea83ce86b1ca8e">2015-02-26 io.js v1.4.1 Release</a>
    </code>

      <span class="hidden-text-expander inline">
        <button type="button" class="ellipsis-expander js-details-target" aria-expanded="false">…</button>
      </span>
      <div class="commit-desc"><pre>Notable changes:

* process / promises: An'unhandledRejection' event is now emitted on
  process whenever a Promise is rejected and no error handler is
  attached to the Promise within a turn of the event loop. A
  'rejectionHandled' event is now emitted whenever a Promise was
  rejected and an error handler was attached to it later than after an
  event loop turn. See the process documentation for more detail.
  <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard" href="https://github.com/nodejs/node/pull/758" aria-describedby="hovercard-aria-description">#758</a> (Petka Antonov)
* streams: you can now use regular streams as an underlying socket for
  tls.connect() <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="56959710" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/758" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/758/hovercard" href="https://github.com/nodejs/node/pull/758" aria-describedby="hovercard-aria-description">#758</a> (Fedor Indutny)
* http: A new 'abort' event emitted when a http.ClientRequest is
  aborted by the client. <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="58830458" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/945" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/945/hovercard" href="https://github.com/nodejs/node/pull/945" aria-describedby="hovercard-aria-description">#945</a>
  (Evan Lucas)
* V8: Upgrade V8 to 4.1.0.21. Includes an embargoed fix, details
  should be available at
  <a href="https://code.google.com/p/chromium/issues/detail?id=430201" rel="nofollow">https://code.google.com/p/chromium/issues/detail?id=430201</a>
  when embargo is lifted. A breaking ABI change has been held back
  from this upgrade, possibly to be included when io.js merges V8 4.2.
  See <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="58887898" data-permission-text="Issue title is private" data-url="https://github.com/nodejs/node/issues/952" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/node/pull/952/hovercard" href="https://github.com/nodejs/node/pull/952" aria-describedby="hovercard-aria-description">#952</a> for discussion.
* npm: Upgrade npm to 2.6.0. Includes features to support the new
  registry and to prepare for npm@3. See npm CHANGELOG.md
  <a href="https://github.com/npm/npm/blob/master/CHANGELOG.md#v260-2015-02-12">https://github.com/npm/npm/blob/master/CHANGELOG.md#v260-2015-02-12</a>
  for details.
* libuv: Upgrade to 1.4.2. See libuv ChangeLog
  <a href="https://github.com/libuv/libuv/blob/v1.x/ChangeLog">https://github.com/libuv/libuv/blob/v1.x/ChangeLog</a> for details of
  fixes.</pre></div>

  </div>

  <div class="commit-sig-status text-right pr-1">
    

  </div>

  <div class="commit-ci-status pr-1">
  </div>

  <div class="commit-meta text-right">
    <code>
      <a href="https://github.com/nodejs/node/commit/4810dd494e7d8fa4423d6aa590ea83ce86b1ca8e" class="commit-id">4810dd4</a>
    </code>
  </div>
</div>


    </div>
  </div>
</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-pullrequest-59085254">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=19714" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/azu" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@azu" src="https://avatars1.githubusercontent.com/u/19714?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=19714" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/azu" aria-describedby="hovercard-aria-description">azu</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-pullrequest-59085254">
        <relative-time datetime="2015-02-27T00:06:58Z" title="Feb 27, 2015, 2:06 AM GMT+2">on Feb 27, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--purple float-right" title="State: merged">
        <svg height="14" class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="10" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      Merged
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/azu/slide/pull/8" class="title-link" data-hovercard-type="pull_request" data-hovercard-url="/azu/slide/pull/8/hovercard" aria-describedby="hovercard-aria-description">
          error-handling-sushi
          <span class="issue-num">#8</span>
</a>      </h4>
    

    

  <span class="issue-meta-section task-progress">
    <svg class="octicon octicon-checklist" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 8.5l-6 6-3-3L8.5 10l1.5 1.5L14.5 7 16 8.5zM5.7 12.2l.8.8H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v6.5l-.8-.8c-.39-.39-1.03-.39-1.42 0L5.7 10.8a.996.996 0 0 0 0 1.41v-.01zM4 4h5V3H4v1zm0 2h5V5H4v1zm0 2h3V7H4v1zM3 9H2v1h1V9zm0-2H2v1h1V7zm0-2H2v1h1V5zm0-2H2v1h1V3z"></path></svg><span class="task-progress-counts">6 of 6 tasks complete</span>
    <span class="progress-bar v-align-middle">
      <span class="progress" style="width: 100%"></span>
    </span>
  </span>

  

</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-58479609">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=502396" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnb" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@bnb" src="https://avatars2.githubusercontent.com/u/502396?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=502396" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bnb" aria-describedby="hovercard-aria-description">bnb</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-58479609">
        <relative-time datetime="2015-02-27T19:05:14Z" title="Feb 27, 2015, 9:05 PM GMT+2">on Feb 27, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/evangelism/issues/4" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/evangelism/issues/4/hovercard" aria-describedby="hovercard-aria-description">
          Evangelism: Weekly Update Feb 27th
          <span class="issue-num">#4</span>
</a>      </h4>
    

    


  

</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-pullrequest-59328928">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=555645" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yosuke-furukawa" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@yosuke-furukawa" src="https://avatars3.githubusercontent.com/u/555645?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=555645" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yosuke-furukawa" aria-describedby="hovercard-aria-description">yosuke-furukawa</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-pullrequest-59328928">
        <relative-time datetime="2015-02-28T18:07:58Z" title="Feb 28, 2015, 8:07 PM GMT+2">on Feb 28, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--purple float-right" title="State: merged">
        <svg height="14" class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="10" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      Merged
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/nodejs-ja/pull/42" class="title-link" data-hovercard-type="pull_request" data-hovercard-url="/nodejs/nodejs-ja/pull/42/hovercard" aria-describedby="hovercard-aria-description">
          io.js weekly translation 2015-02-27
          <span class="issue-num">#42</span>
</a>      </h4>
    

    


  

</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-70319626">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=655869" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bolinfest" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@bolinfest" src="https://avatars3.githubusercontent.com/u/655869?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=655869" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bolinfest" aria-describedby="hovercard-aria-description">bolinfest</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-70319626">
        <relative-time datetime="2015-04-23T06:10:15Z" title="Apr 23, 2015, 9:10 AM GMT+3">on Apr 23, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/atom/atom/issues/6488" class="title-link" data-hovercard-type="issue" data-hovercard-url="/atom/atom/issues/6488/hovercard" aria-describedby="hovercard-aria-description">
          "Unhandled promise rejection" no longer shows up in the console.
          <span class="issue-num">#6488</span>
</a>      </h4>
    

    


  

</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-76911731">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=3670967" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/why-jay" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@why-jay" src="https://avatars0.githubusercontent.com/u/3670967?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=3670967" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/why-jay" aria-describedby="hovercard-aria-description">why-jay</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-76911731">
        <relative-time datetime="2015-05-16T01:21:40Z" title="May 16, 2015, 4:21 AM GMT+3">on May 16, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/why-jay/js-build/issues/21" class="title-link" data-hovercard-type="issue" data-hovercard-url="/why-jay/js-build/issues/21/hovercard" aria-describedby="hovercard-aria-description">
          Should I override `Promise`s with `Bluebird`s?
          <span class="issue-num">#21</span>
</a>      </h4>
    

    


  

</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-84187354">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@domenic" src="https://avatars0.githubusercontent.com/u/617481?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=617481" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/domenic" aria-describedby="hovercard-aria-description">domenic</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-84187354">
        <relative-time datetime="2015-06-02T20:03:51Z" title="Jun 2, 2015, 11:03 PM GMT+3">on Jun 2, 2015</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/domenic/unhandled-rejections-browser-spec/issues/2" class="title-link" data-hovercard-type="issue" data-hovercard-url="/domenic/unhandled-rejections-browser-spec/issues/2/hovercard" aria-describedby="hovercard-aria-description">
          Does this cover all test cases?
          <span class="issue-num">#2</span>
</a>      </h4>
    

    


  

</div>

  <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-131795848">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-131795848">
        <relative-time datetime="2016-02-10T16:28:30Z" title="Feb 10, 2016, 6:28 PM GMT+2">on Feb 10, 2016</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--red float-right" title="State: closed">
          <svg height="14" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
      Closed
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/post-mortem/issues/16" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/post-mortem/issues/16/hovercard" aria-describedby="hovercard-aria-description">
          promises and post-mortem debugging
          <span class="issue-num">#16</span>
</a>      </h4>
    

    


  

</div>



</div>

    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDE4NDM0MDI2MA==">
  
    
  <div class="timeline-comment-wrapper js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDE4NDM0MDI2MA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDE4NDM0MDI2MA==/timeline/issue_comment">

  

<div class="avatar-parent-child timeline-comment-avatar">
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar rounded-1" height="44" width="44" alt="@benjamingr" src="https://avatars1.githubusercontent.com/u/1315533?s=88&amp;v=4"></a>

</div>


  
<div class="timeline-comment-group js-minimizable-comment-group js-targetable-comment" id="issuecomment-184340260">
    <div class="minimized-comment d-none ">
        

<details class="Details-element details-reset border rounded-1 bg-white" data-body-version="3f5aca8ca87c503ee1207944d99f0258">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
      <div class="text-gray text-small">
        <a rel="nofollow" class="link-gray" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to view</a>
      </div>
    </div>
  </summary>
</details>


    </div>
  <div class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment" data-body-version="3f5aca8ca87c503ee1207944d99f0258" data-unfurl-authenticity-token="Crk0iKncNalPmSJt3cXnQE+CCKt+8KSKajFS8M2KATJt+bdJxqX2ywieyGjyY+CpyDgwe2TBdO0Ssnf9JpBEUA==">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    















<details class="details-overlay details-reset position-relative d-inline-block js-dropdown-details " id="details-issuecomment-184340260">
  <summary class="btn-link timeline-comment-action" aria-haspopup="true" aria-label="Show options">
    <svg aria-label="Show options" class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>
  </summary>
  <div class="dropdown-menu dropdown-menu-sw show-more-popover text-gray-dark anim-scale-in" role="menu">
        <clipboard-copy class="dropdown-item btn-link" for="issuecomment-184340260-permalink" aria-label="Copy link" data-toggle-for="details-issuecomment-184340260" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

        <button type="button" class="dropdown-item btn-link d-none js-comment-quote-reply" data-toggle-for="details-issuecomment-184340260">
    Quote reply
  </button>

      
  </div>
</details>

  </div>

    
    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the Node.js Foundation organization.">
      Member
    </span>



  <h3 class="timeline-comment-header-text f5 text-normal">


    <strong class="css-truncate">
      

  <a class="author text-inherit css-truncate-target" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

    </strong>

    commented

      <a href="https://github.com/nodejs/node/pull/758#issuecomment-184340260" id="issuecomment-184340260-permalink" class="timestamp js-timestamp"><relative-time datetime="2016-02-15T18:35:34Z" title="Feb 15, 2016, 8:35 PM GMT+2">on Feb 15, 2016</relative-time></a>


    <span class="js-comment-fragment">
      <include-fragment class="js-comment-edit-history d-inline">
      </include-fragment>
    </span>
  </h3>
</div>


    <div class="edit-comment-hide">

      
<task-lists disabled="" sortable="">
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">

          <p>Politely pinging parties involved in this to invite them to participate in <a href="https://github.com/nodejs/promises">https://github.com/nodejs/promises</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        

<div class="comment-reactions  js-reactions-container ">
</div>

    </div>

  </div>
</div>


</div>


</div>


    
  
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIwOkNyb3NzUmVmZXJlbmNlZEV2ZW50MTIwMDkwMDAy">
  
        <div class="discussion-item">
        <h3 class="discussion-item-header f5 text-normal" id="ref-issue-133802245">
      <span class="discussion-item-icon">
        <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
      </span>
        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description"><img class="avatar" height="16" width="16" alt="@benjamingr" src="https://avatars0.githubusercontent.com/u/1315533?s=60&amp;v=4"></a>
  <a class="author text-inherit" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=1315533" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjamingr" aria-describedby="hovercard-aria-description">benjamingr</a>
  

        referenced this pull request
      <a class="timestamp" href="https://github.com/nodejs/node/pull/758#ref-issue-133802245">
        <relative-time datetime="2016-02-16T18:04:44Z" title="Feb 16, 2016, 8:04 PM GMT+2">on Feb 16, 2016</relative-time>
      </a>
    </h3>

  
    <span class="State State--small ml-1 State--green float-right" title="State: open">
          <svg height="14" class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="12" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
      Open
    </span>


    
      <h4 class="discussion-item-ref-title">
        <a href="https://github.com/nodejs/promises/issues/10" class="title-link" data-hovercard-type="issue" data-hovercard-url="/nodejs/promises/issues/10/hovercard" aria-describedby="hovercard-aria-description">
          Differentiating Programmer Errors from Operational Errors
          <span class="issue-num">#10</span>
</a>      </h4>
    

    


  

</div>



</div>




<!-- Rendered timeline since 2016-02-16 10:04:44 -->
<div id="partial-timeline" class="js-timeline-marker js-socket-channel js-updatable-content" data-channel="pull_request:28883503" data-url="/_render_node/MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=/pull_requests/unread_timeline?variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;variables%5BsyntaxHighlightingEnabled%5D=true&amp;variables%5BtimelinePageSize%5D=30&amp;variables%5BtimelineSince%5D=2016-02-16T18%3A04%3A44Z" data-last-modified="Tue, 16 Feb 2016 18:04:44 GMT" data-gid="MDExOlB1bGxSZXF1ZXN0Mjg4ODM1MDM=">
  <!-- '"` --><!-- </textarea></xmp> --><form class="d-none js-timeline-marker-form" action="https://github.com/_graphql/MarkNotificationSubjectAsRead" accept-charset="UTF-8" data-remote="true" method="post">
    
</form></div>


  </div>

  <div class="discussion-timeline-actions">
          <div class="flash flash-warn mt-3">
    <a rel="nofollow" class="btn btn-primary" href="https://github.com/join?source=comment-repo">Sign up for free</a>
    <strong>to join this conversation on GitHub</strong>.
    Already have an account?
    <a rel="nofollow" href="https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fnodejs%2Fnode%2Fpull%2F758">Sign in to comment</a>
</div>


  </div>
</div>

    </div>
  </div>
  


  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

        
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">© 2018 <span title="3.05142s from unicorn-99bf5d9f8-l6wsw">GitHub</span>, Inc.</li>
        <li class="mr-3"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com/">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon mr-lg-4" href="https://github.com/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3"><a href="https://developer.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3"><a href="https://blog.github.com/" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    
    
    
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="https://github.com/nodejs/node/pull/758">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="https://github.com/nodejs/node/pull/758">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
    </button>
  </div>
</div>

  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark" open="">
    <summary aria-haspopup="dialog" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog="">
        <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;"></div>
</div>

<div id="hovercard-aria-description" class="sr-only">
  Press h to open a hovercard with more details.
</div>

  <div aria-live="polite" class="js-global-screen-reader-notice sr-only">Member
rvagg commented on Feb 25, 2015
@petkaantonov can you rebase and squash into a single commit please?</div>

  


</body></html>
